(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();const Y4="modulepreload",X4=function(r){return"/"+r},Z1={},AN=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=Promise.allSettled(t.map(p=>{if(p=X4(p),p in Z1)return;Z1[p]=!0;const v=p.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":Y4,v||(A.as="script"),A.crossOrigin="",A.href=p,f&&A.setAttribute("nonce",f),document.head.appendChild(A),v)return new Promise((C,U)=>{A.addEventListener("load",C),A.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return o.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return e().catch(c)})};(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function Z4(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var J1={exports:{}},Zy={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var eA;function J4(){if(eA)return Zy;eA=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var f in o)f!=="key"&&(c[f]=o[f])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Zy.Fragment=e,Zy.jsx=t,Zy.jsxs=t,Zy}var tA;function eM(){return tA||(tA=1,J1.exports=J4()),J1.exports}var g=eM(),nA={exports:{}},bt={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var rA;function tM(){if(rA)return bt;rA=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,K={};function q(D,X,ue){this.props=D,this.context=X,this.refs=K,this.updater=ue||U}q.prototype.isReactComponent={},q.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function G(){}G.prototype=q.prototype;function Z(D,X,ue){this.props=D,this.context=X,this.refs=K,this.updater=ue||U}var Y=Z.prototype=new G;Y.constructor=Z,M(Y,q.prototype),Y.isPureReactComponent=!0;var ae=Array.isArray,ce={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function R(D,X,ue,oe,le,Ee){return ue=Ee.ref,{$$typeof:r,type:D,key:X,ref:ue!==void 0?ue:null,props:Ee}}function j(D,X){return R(D.type,X,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return X[ue]})}var O=/\/+/g;function z(D,X){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):X.toString(36)}function I(){}function dt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function nt(D,X,ue,oe,le){var Ee=typeof D;(Ee==="undefined"||Ee==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(Ee){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case r:case e:Te=!0;break;case x:return Te=D._init,nt(Te(D._payload),X,ue,oe,le)}}if(Te)return le=le(D),Te=oe===""?"."+z(D,0):oe,ae(le)?(ue="",Te!=null&&(ue=Te.replace(O,"$&/")+"/"),nt(le,X,ue,"",function(rt){return rt})):le!=null&&(S(le)&&(le=j(le,ue+(le.key==null||D&&D.key===le.key?"":(""+le.key).replace(O,"$&/")+"/")+Te)),X.push(le)),1;Te=0;var pt=oe===""?".":oe+":";if(ae(D))for(var Oe=0;Oe<D.length;Oe++)oe=D[Oe],Ee=pt+z(oe,Oe),Te+=nt(oe,X,ue,Ee,le);else if(Oe=C(D),typeof Oe=="function")for(D=Oe.call(D),Oe=0;!(oe=D.next()).done;)oe=oe.value,Ee=pt+z(oe,Oe++),Te+=nt(oe,X,ue,Ee,le);else if(Ee==="object"){if(typeof D.then=="function")return nt(dt(D),X,ue,oe,le);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Te}function se(D,X,ue){if(D==null)return D;var oe=[],le=0;return nt(D,oe,"","",function(Ee){return X.call(ue,Ee,le++)}),oe}function be(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var te=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function _e(){}return bt.Children={map:se,forEach:function(D,X,ue){se(D,function(){X.apply(this,arguments)},ue)},count:function(D){var X=0;return se(D,function(){X++}),X},toArray:function(D){return se(D,function(X){return X})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},bt.Component=q,bt.Fragment=t,bt.Profiler=o,bt.PureComponent=Z,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cloneElement=function(D,X,ue){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=M({},D.props),le=D.key,Ee=void 0;if(X!=null)for(Te in X.ref!==void 0&&(Ee=void 0),X.key!==void 0&&(le=""+X.key),X)!de.call(X,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&X.ref===void 0||(oe[Te]=X[Te]);var Te=arguments.length-2;if(Te===1)oe.children=ue;else if(1<Te){for(var pt=Array(Te),Oe=0;Oe<Te;Oe++)pt[Oe]=arguments[Oe+2];oe.children=pt}return R(D.type,le,void 0,void 0,Ee,oe)},bt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},bt.createElement=function(D,X,ue){var oe,le={},Ee=null;if(X!=null)for(oe in X.key!==void 0&&(Ee=""+X.key),X)de.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=X[oe]);var Te=arguments.length-2;if(Te===1)le.children=ue;else if(1<Te){for(var pt=Array(Te),Oe=0;Oe<Te;Oe++)pt[Oe]=arguments[Oe+2];le.children=pt}if(D&&D.defaultProps)for(oe in Te=D.defaultProps,Te)le[oe]===void 0&&(le[oe]=Te[oe]);return R(D,Ee,void 0,void 0,null,le)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:f,render:D}},bt.isValidElement=S,bt.lazy=function(D){return{$$typeof:x,_payload:{_status:-1,_result:D},_init:be}},bt.memo=function(D,X){return{$$typeof:v,type:D,compare:X===void 0?null:X}},bt.startTransition=function(D){var X=ce.T,ue={};ce.T=ue;try{var oe=D(),le=ce.S;le!==null&&le(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(_e,te)}catch(Ee){te(Ee)}finally{ce.T=X}},bt.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},bt.use=function(D){return ce.H.use(D)},bt.useActionState=function(D,X,ue){return ce.H.useActionState(D,X,ue)},bt.useCallback=function(D,X){return ce.H.useCallback(D,X)},bt.useContext=function(D){return ce.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,X){return ce.H.useDeferredValue(D,X)},bt.useEffect=function(D,X){return ce.H.useEffect(D,X)},bt.useId=function(){return ce.H.useId()},bt.useImperativeHandle=function(D,X,ue){return ce.H.useImperativeHandle(D,X,ue)},bt.useInsertionEffect=function(D,X){return ce.H.useInsertionEffect(D,X)},bt.useLayoutEffect=function(D,X){return ce.H.useLayoutEffect(D,X)},bt.useMemo=function(D,X){return ce.H.useMemo(D,X)},bt.useOptimistic=function(D,X){return ce.H.useOptimistic(D,X)},bt.useReducer=function(D,X,ue){return ce.H.useReducer(D,X,ue)},bt.useRef=function(D){return ce.H.useRef(D)},bt.useState=function(D){return ce.H.useState(D)},bt.useSyncExternalStore=function(D,X,ue){return ce.H.useSyncExternalStore(D,X,ue)},bt.useTransition=function(){return ce.H.useTransition()},bt.version="19.0.0",bt}var iA;function NE(){return iA||(iA=1,nA.exports=tM()),nA.exports}var re=NE();const wf=Z4(re);var Ix={exports:{}},Jy={},sA={exports:{}},aA={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var oA;function nM(){return oA||(oA=1,function(r){function e(se,be){var te=se.length;se.push(be);e:for(;0<te;){var _e=te-1>>>1,D=se[_e];if(0<o(D,be))se[_e]=be,se[te]=D,te=_e;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var be=se[0],te=se.pop();if(te!==be){se[0]=te;e:for(var _e=0,D=se.length,X=D>>>1;_e<X;){var ue=2*(_e+1)-1,oe=se[ue],le=ue+1,Ee=se[le];if(0>o(oe,te))le<D&&0>o(Ee,oe)?(se[_e]=Ee,se[le]=te,_e=le):(se[_e]=oe,se[ue]=te,_e=ue);else if(le<D&&0>o(Ee,te))se[_e]=Ee,se[le]=te,_e=le;else break e}}return be}function o(se,be){var te=se.sortIndex-be.sortIndex;return te!==0?te:se.id-be.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();r.unstable_now=function(){return d.now()-f}}var p=[],v=[],x=1,A=null,C=3,U=!1,M=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function Y(se){for(var be=t(v);be!==null;){if(be.callback===null)s(v);else if(be.startTime<=se)s(v),be.sortIndex=be.expirationTime,e(p,be);else break;be=t(v)}}function ae(se){if(K=!1,Y(se),!M)if(t(p)!==null)M=!0,dt();else{var be=t(v);be!==null&&nt(ae,be.startTime-se)}}var ce=!1,de=-1,R=5,j=-1;function S(){return!(r.unstable_now()-j<R)}function N(){if(ce){var se=r.unstable_now();j=se;var be=!0;try{e:{M=!1,K&&(K=!1,G(de),de=-1),U=!0;var te=C;try{t:{for(Y(se),A=t(p);A!==null&&!(A.expirationTime>se&&S());){var _e=A.callback;if(typeof _e=="function"){A.callback=null,C=A.priorityLevel;var D=_e(A.expirationTime<=se);if(se=r.unstable_now(),typeof D=="function"){A.callback=D,Y(se),be=!0;break t}A===t(p)&&s(p),Y(se)}else s(p);A=t(p)}if(A!==null)be=!0;else{var X=t(v);X!==null&&nt(ae,X.startTime-se),be=!1}}break e}finally{A=null,C=te,U=!1}be=void 0}}finally{be?O():ce=!1}}}var O;if(typeof Z=="function")O=function(){Z(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,I=z.port2;z.port1.onmessage=N,O=function(){I.postMessage(null)}}else O=function(){q(N,0)};function dt(){ce||(ce=!0,O())}function nt(se,be){de=q(function(){se(r.unstable_now())},be)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(se){se.callback=null},r.unstable_continueExecution=function(){M||U||(M=!0,dt())},r.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(se){switch(C){case 1:case 2:case 3:var be=3;break;default:be=C}var te=C;C=be;try{return se()}finally{C=te}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(se,be){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var te=C;C=se;try{return be()}finally{C=te}},r.unstable_scheduleCallback=function(se,be,te){var _e=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?_e+te:_e):te=_e,se){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=te+D,se={id:x++,callback:be,priorityLevel:se,startTime:te,expirationTime:D,sortIndex:-1},te>_e?(se.sortIndex=te,e(v,se),t(p)===null&&se===t(v)&&(K?(G(de),de=-1):K=!0,nt(ae,te-_e))):(se.sortIndex=D,e(p,se),M||U||(M=!0,dt())),se},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(se){var be=C;return function(){var te=C;C=be;try{return se.apply(this,arguments)}finally{C=te}}}}(aA)),aA}var lA;function rM(){return lA||(lA=1,sA.exports=nM()),sA.exports}var Rx={exports:{}},Vi={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var cA;function iM(){if(cA)return Vi;cA=1;var r=NE();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,v,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:v,implementation:x}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Vi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Vi.createPortal=function(p,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(p,v,null,x)},Vi.flushSync=function(p){var v=d.T,x=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=x,s.d.f()}},Vi.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},Vi.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Vi.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var x=v.as,A=f(x,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,U=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:U}):x==="script"&&s.d.X(p,{crossOrigin:A,integrity:C,fetchPriority:U,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Vi.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=f(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},Vi.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,A=f(x,v.crossOrigin);s.d.L(p,x,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Vi.preloadModule=function(p,v){if(typeof p=="string")if(v){var x=f(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},Vi.requestFormReset=function(p){s.d.r(p)},Vi.unstable_batchedUpdates=function(p,v){return p(v)},Vi.useFormState=function(p,v,x){return d.H.useFormState(p,v,x)},Vi.useFormStatus=function(){return d.H.useHostTransitionStatus()},Vi.version="19.0.0",Vi}var uA;function sM(){if(uA)return Rx.exports;uA=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rx.exports=iM(),Rx.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var hA;function aM(){if(hA)return Jy;hA=1;var r=rM(),e=NE(),t=sM();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),U=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),ae=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=ce&&n[ce]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function j(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case f:return"Portal";case x:return"Profiler";case v:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case U:return(n.displayName||"Context")+".Provider";case C:return(n._context.displayName||"Context")+".Consumer";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return i=n.displayName||null,i!==null?i:j(n.type)||"Memo";case Z:i=n._payload,n=n._init;try{return j(n(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,O,z;function I(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+n+z}var dt=!1;function nt(n,i){if(!n||dt)return"";dt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var H=Q}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Q){H=Q}n.call(ee.prototype)}}else{try{throw Error()}catch(Q){H=Q}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],T=m[1];if(_&&T){var k=_.split(`
`),L=T.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===L.length)for(l=k.length-1,h=L.length-1;1<=l&&0<=h&&k[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==L[h]){var W=`
`+k[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=h);break}}}finally{dt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?I(a):""}function se(n){switch(n.tag){case 26:case 27:case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return n=nt(n.type,!1),n;case 11:return n=nt(n.type.render,!1),n;case 1:return n=nt(n.type,!0),n;default:return""}}function be(n){try{var i="";do i+=se(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function te(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function _e(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function D(n){if(te(n)!==n)throw Error(s(188))}function X(n){var i=n.alternate;if(!i){if(i=te(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return D(h),n;if(m===l)return D(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=m;break}if(T===l){_=!0,l=h,a=m;break}T=T.sibling}if(!_){for(T=m.child;T;){if(T===a){_=!0,a=m,l=h;break}if(T===l){_=!0,l=m,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function ue(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=ue(n),i!==null)return i;n=n.sibling}return null}var oe=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Te=[],pt=-1;function Oe(n){return{current:n}}function rt(n){0>pt||(n.current=Te[pt],Te[pt]=null,pt--)}function Fe(n,i){pt++,Te[pt]=n.current,n.current=i}var Qt=Oe(null),wr=Oe(null),fn=Oe(null),Jr=Oe(null);function ei(n,i){switch(Fe(fn,i),Fe(wr,n),Fe(Qt,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?jy(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=jy(n),i=Cy(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}rt(Qt),Fe(Qt,i)}function _r(){rt(Qt),rt(wr),rt(fn)}function $a(n){n.memoizedState!==null&&Fe(Jr,n);var i=Qt.current,a=Cy(i,n.type);i!==a&&(Fe(wr,n),Fe(Qt,a))}function Fs(n){wr.current===n&&(rt(Qt),rt(wr)),Jr.current===n&&(rt(Jr),Go._currentValue=Ee)}var Bs=Object.prototype.hasOwnProperty,Wi=r.unstable_scheduleCallback,qs=r.unstable_cancelCallback,dh=r.unstable_shouldYield,Ga=r.unstable_requestPaint,nn=r.unstable_now,Nl=r.unstable_getCurrentPriorityLevel,_t=r.unstable_ImmediatePriority,At=r.unstable_UserBlockingPriority,xr=r.unstable_NormalPriority,Il=r.unstable_LowPriority,Ka=r.unstable_IdlePriority,fh=r.log,Yi=r.unstable_setDisableYieldValue,ti=null,Gt=null;function Qa(n){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ti,n,void 0,(n.current.flags&128)===128)}catch{}}function Qn(n){if(typeof fh=="function"&&Yi(n),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ti,n)}catch{}}var Wt=Math.clz32?Math.clz32:Dl,Wa=Math.log,Rl=Math.LN2;function Dl(n){return n>>>=0,n===0?32:31-(Wa(n)/Rl|0)|0}var Wn=128,ni=4194304;function Mn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function mn(n,i){var a=n.pendingLanes;if(a===0)return 0;var l=0,h=n.suspendedLanes,m=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Mn(a):(m&=T,m!==0?l=Mn(m):n||(_=T&~_,_!==0&&(l=Mn(_))))):(T=a&~h,T!==0?l=Mn(T):m!==0?l=Mn(m):n||(_=a&~_,_!==0&&(l=Mn(_)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,_=i&-i,h>=_||h===32&&(_&4194176)!==0)?i:l}function ri(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Hs(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ya(){var n=Wn;return Wn<<=1,(Wn&4194176)===0&&(Wn=128),n}function ii(){var n=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),n}function $s(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function ft(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ol(n,i,a,l,h,m){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,k=n.expirationTimes,L=n.hiddenUpdates;for(a=_&~a;0<a;){var W=31-Wt(a),ee=1<<W;T[W]=0,k[W]=-1;var H=L[W];if(H!==null)for(L[W]=null,W=0;W<H.length;W++){var Q=H[W];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&si(n,l,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~i))}function si(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Wt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function ai(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Wt(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function Pl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ml(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:Gy(n.type))}function oi(n,i){var a=le.p;try{return le.p=n,i()}finally{le.p=a}}var Yn=Math.random().toString(36).slice(2),jt="__reactFiber$"+Yn,xt="__reactProps$"+Yn,Tr="__reactContainer$"+Yn,Xi="__reactEvents$"+Yn,Gs="__reactListeners$"+Yn,Xn="__reactHandles$"+Yn,Xa="__reactResources$"+Yn,li="__reactMarker$"+Yn;function Zi(n){delete n[jt],delete n[xt],delete n[Xi],delete n[Gs],delete n[Xn]}function Ln(n){var i=n[jt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Tr]||a[jt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Iy(n);n!==null;){if(a=n[jt])return a;n=Iy(n)}return i}n=a,a=n.parentNode}return null}function Er(n){if(n=n[jt]||n[Tr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function ci(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function ui(n){var i=n[Xa];return i||(i=n[Xa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(n){n[li]=!0}var Za=new Set,Ks={};function an(n,i){rn(n,i),rn(n+"Capture",i)}function rn(n,i){for(Ks[n]=i,n=0;n<i.length;n++)Za.add(i[n])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ja={},eo={};function Ll(n){return Bs.call(eo,n)?!0:Bs.call(Ja,n)?!1:mh.test(n)?eo[n]=!0:(Ja[n]=!0,!1)}function hi(n,i,a){if(Ll(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function di(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function pn(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function Yt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ul(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ph(n){var i=Ul(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ji(n){n._valueTracker||(n._valueTracker=ph(n))}function to(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Ul(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Qs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Sr=/[\n"\\]/g;function ct(n){return n.replace(Sr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fi(n,i,a,l,h,m,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Yt(i)):n.value!==""+Yt(i)&&(n.value=""+Yt(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Ws(n,_,Yt(i)):a!=null?Ws(n,_,Yt(a)):l!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+Yt(T):n.removeAttribute("name")}function es(n,i,a,l,h,m,_,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Yt(a):"",i=i!=null?""+Yt(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Ws(n,i,a){i==="number"&&Qs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Pe(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Yt(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function ts(n,i,a){if(i!=null&&(i=""+Yt(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Yt(a):""}function mi(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Yt(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function gn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var gh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||gh.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Vl(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&no(n,h,l)}else for(var m in i)i.hasOwnProperty(m)&&no(n,m,i[m])}function ro(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zn(n){return vh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var yn=null;function Ys(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ar=null,jr=null;function Cr(n){var i=Er(n);if(i&&(n=i.stateNode)){var a=n[xt]||null;e:switch(n=i.stateNode,i.type){case"input":if(fi(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[xt]||null;if(!h)throw Error(s(90));fi(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&to(l)}break e;case"textarea":ts(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Pe(n,!!a.multiple,i,!1)}}}var io=!1;function zl(n,i,a){if(io)return n(i,a);io=!0;try{var l=n(i);return l}finally{if(io=!1,(Ar!==null||jr!==null)&&(Ic(),Ar&&(i=Ar,n=jr,jr=Ar=null,Cr(i),n)))for(i=0;i<n.length;i++)Cr(n[i])}}function ns(n,i){var a=n.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var vn=!1;if(on)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){vn=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{vn=!1}var Jn=null,pi=null,kr=null;function so(){if(kr)return kr;var n,i=pi,a=i.length,l,h="value"in Jn?Jn.value:Jn.textContent,m=h.length;for(n=0;n<a&&i[n]===h[n];n++);var _=a-n;for(l=1;l<=_&&i[a-l]===h[m-l];l++);return kr=h.slice(n,1<l?1-l:void 0)}function er(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function tr(){return!0}function ao(){return!1}function Ct(n){function i(a,l,h,m,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?tr:ao,this.isPropagationStopped=ao,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),i}var ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Ct(ze),is=N({},ze,{view:0,detail:0}),Fl=Ct(is),Zs,Js,nr,ss=N({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==nr&&(nr&&n.type==="mousemove"?(Zs=n.screenX-nr.screenX,Js=n.screenY-nr.screenY):Js=Zs=0,nr=n),Zs)},movementY:function(n){return"movementY"in n?n.movementY:Js}}),bn=Ct(ss),Bl=N({},ss,{dataTransfer:0}),bh=Ct(Bl),as=N({},is,{relatedTarget:0}),ea=Ct(as),oo=N({},ze,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=Ct(oo),ql=N({},ze,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),na=Ct(ql),wh=N({},ze,{data:0}),lo=Ct(wh),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function co(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=$l[n])?!!i[n]:!1}function ls(){return co}var Gl=N({},is,{key:function(n){if(n.key){var i=os[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=er(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hl[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(n){return n.type==="keypress"?er(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?er(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ra=Ct(Gl),Kl=N({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uo=Ct(Kl),Nr=N({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),Ql=Ct(Nr),Wl=N({},ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yl=Ct(Wl),Xl=N({},ss,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=Ct(Xl),Xt=N({},ze,{newState:0,oldState:0}),Zl=Ct(Xt),Jl=[9,13,27,32],rr=on&&"CompositionEvent"in window,u=null;on&&"documentMode"in document&&(u=document.documentMode);var b=on&&"TextEvent"in window&&!u,w=on&&(!rr||u&&8<u&&11>=u),E=" ",F=!1;function $(n,i){switch(n){case"keyup":return Jl.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Re=!1;function Tt(n,i){switch(n){case"compositionend":return ne(i);case"keypress":return i.which!==32?null:(F=!0,E);case"textInput":return n=i.data,n===E&&F?null:n;default:return null}}function De(n,i){if(Re)return n==="compositionend"||!rr&&$(n,i)?(n=so(),kr=pi=Jn=null,Re=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return w&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!kt[n.type]:i==="textarea"}function Ir(n,i,a,l){Ar?jr?jr.push(l):jr=[l]:Ar=l,i=Mc(i,"onChange"),0<i.length&&(a=new Xs("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Ut=null,ir=null;function ho(n){xy(n,0)}function ec(n){var i=ci(n);if(to(i))return n}function Xm(n,i){if(n==="change")return i}var Zm=!1;if(on){var _h;if(on){var xh="oninput"in document;if(!xh){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),xh=typeof Jm.oninput=="function"}_h=xh}else _h=!1;Zm=_h&&(!document.documentMode||9<document.documentMode)}function ep(){Ut&&(Ut.detachEvent("onpropertychange",tp),ir=Ut=null)}function tp(n){if(n.propertyName==="value"&&ec(ir)){var i=[];Ir(i,ir,n,Ys(n)),zl(ho,i)}}function o0(n,i,a){n==="focusin"?(ep(),Ut=i,ir=a,Ut.attachEvent("onpropertychange",tp)):n==="focusout"&&ep()}function l0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ec(ir)}function c0(n,i){if(n==="click")return ec(i)}function u0(n,i){if(n==="input"||n==="change")return ec(i)}function h0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ln=typeof Object.is=="function"?Object.is:h0;function fo(n,i){if(ln(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Bs.call(i,h)||!ln(n[h],i[h]))return!1}return!0}function np(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rp(n,i){var a=np(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=np(a)}}function ip(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ip(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function sp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Qs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Qs(n.document)}return i}function Th(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function d0(n,i){var a=sp(i);i=n.focusedElem;var l=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&ip(i.ownerDocument.documentElement,i)){if(l!==null&&Th(i)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,m=Math.min(l.start,h);l=l.end===void 0?m:Math.min(l.end,h),!a.extend&&m>l&&(h=l,l=m,m=h),h=rp(i,m);var _=rp(i,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),a.removeAllRanges(),m>l?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var f0=on&&"documentMode"in document&&11>=document.documentMode,sa=null,Eh=null,mo=null,Sh=!1;function ap(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sh||sa==null||sa!==Qs(l)||(l=sa,"selectionStart"in l&&Th(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),mo&&fo(mo,l)||(mo=l,l=Mc(Eh,"onSelect"),0<l.length&&(i=new Xs("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=sa)))}function cs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var aa={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},Ah={},op={};on&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function us(n){if(Ah[n])return Ah[n];if(!aa[n])return n;var i=aa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in op)return Ah[n]=i[a];return n}var lp=us("animationend"),cp=us("animationiteration"),up=us("animationstart"),m0=us("transitionrun"),p0=us("transitionstart"),g0=us("transitioncancel"),hp=us("transitionend"),dp=new Map,fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(n,i){dp.set(n,i),an(i,[n])}var wn=[],oa=0,jh=0;function tc(){for(var n=oa,i=jh=oa=0;i<n;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var m=wn[i];if(wn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}m!==0&&mp(a,h,m)}}function nc(n,i,a,l){wn[oa++]=n,wn[oa++]=i,wn[oa++]=a,wn[oa++]=l,jh|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Ch(n,i,a,l){return nc(n,i,a,l),rc(n)}function gi(n,i){return nc(n,null,null,i),rc(n)}function mp(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;h&&i!==null&&n.tag===3&&(m=n.stateNode,h=31-Wt(a),m=m.hiddenUpdates,n=m[h],n===null?m[h]=[i]:n.push(i),i.lane=a|536870912)}function rc(n){if(50<Vo)throw Vo=0,Od=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var la={},pp=new WeakMap;function _n(n,i){if(typeof n=="object"&&n!==null){var a=pp.get(n);return a!==void 0?a:(i={value:n,source:i,stack:be(i)},pp.set(n,i),i)}return{value:n,source:i,stack:be(i)}}var ca=[],ua=0,ic=null,sc=0,xn=[],Tn=0,hs=null,Rr=1,Dr="";function ds(n,i){ca[ua++]=sc,ca[ua++]=ic,ic=n,sc=i}function gp(n,i,a){xn[Tn++]=Rr,xn[Tn++]=Dr,xn[Tn++]=hs,hs=n;var l=Rr;n=Dr;var h=32-Wt(l)-1;l&=~(1<<h),a+=1;var m=32-Wt(i)+h;if(30<m){var _=h-h%5;m=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Rr=1<<32-Wt(i)+h|a<<h|l,Dr=m+n}else Rr=1<<m|a<<h|l,Dr=n}function kh(n){n.return!==null&&(ds(n,1),gp(n,1,0))}function Nh(n){for(;n===ic;)ic=ca[--ua],ca[ua]=null,sc=ca[--ua],ca[ua]=null;for(;n===hs;)hs=xn[--Tn],xn[Tn]=null,Dr=xn[--Tn],xn[Tn]=null,Rr=xn[--Tn],xn[Tn]=null}var Zt=null,Vt=null,Me=!1,Vn=null,sr=!1,Ih=Error(s(519));function fs(n){var i=Error(s(418,""));throw yo(_n(i,n)),Ih}function yp(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[jt]=n,i[xt]=l,a){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(a=0;a<Fo.length;a++)Ce(Fo[a],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ce("invalid",i),es(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ji(i);break;case"select":Ce("invalid",i);break;case"textarea":Ce("invalid",i),mi(i,l.value,l.defaultValue,l.children),Ji(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Ay(i.textContent,a)?(l.popover!=null&&(Ce("beforetoggle",i),Ce("toggle",i)),l.onScroll!=null&&Ce("scroll",i),l.onScrollEnd!=null&&Ce("scrollend",i),l.onClick!=null&&(i.onclick=Lc),i=!0):i=!1,i||fs(n)}function vp(n){for(Zt=n.return;Zt;)switch(Zt.tag){case 3:case 27:sr=!0;return;case 5:case 13:sr=!1;return;default:Zt=Zt.return}}function po(n){if(n!==Zt)return!1;if(!Me)return vp(n),Me=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Xd(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&Vt&&fs(n),vp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Vt=Fn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Vt=null}}else Vt=Zt?Fn(n.stateNode.nextSibling):null;return!0}function go(){Vt=Zt=null,Me=!1}function yo(n){Vn===null?Vn=[n]:Vn.push(n)}var vo=Error(s(460)),bp=Error(s(474)),Rh={then:function(){}};function wp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ac(){}function _p(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(ac,ac),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===vo?Error(s(483)):n;default:if(typeof i.status=="string")i.then(ac,ac);else{if(n=Ke,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===vo?Error(s(483)):n}throw bo=i,vo}}var bo=null;function xp(){if(bo===null)throw Error(s(459));var n=bo;return bo=null,n}var ha=null,wo=0;function oc(n){var i=wo;return wo+=1,ha===null&&(ha=[]),_p(ha,n,i)}function _o(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function lc(n,i){throw i.$$typeof===c?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Tp(n){var i=n._init;return i(n._payload)}function Ep(n){function i(V,P){if(n){var B=V.deletions;B===null?(V.deletions=[P],V.flags|=16):B.push(P)}}function a(V,P){if(!n)return null;for(;P!==null;)i(V,P),P=P.sibling;return null}function l(V){for(var P=new Map;V!==null;)V.key!==null?P.set(V.key,V):P.set(V.index,V),V=V.sibling;return P}function h(V,P){return V=Ci(V,P),V.index=0,V.sibling=null,V}function m(V,P,B){return V.index=B,n?(B=V.alternate,B!==null?(B=B.index,B<P?(V.flags|=33554434,P):B):(V.flags|=33554434,P)):(V.flags|=1048576,P)}function _(V){return n&&V.alternate===null&&(V.flags|=33554434),V}function T(V,P,B,J){return P===null||P.tag!==6?(P=Ad(B,V.mode,J),P.return=V,P):(P=h(P,B),P.return=V,P)}function k(V,P,B,J){var he=B.type;return he===p?W(V,P,B.props.children,J,B.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&Tp(he)===P.type)?(P=h(P,B.props),_o(P,B),P.return=V,P):(P=Ac(B.type,B.key,B.props,null,V.mode,J),_o(P,B),P.return=V,P)}function L(V,P,B,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=jd(B,V.mode,J),P.return=V,P):(P=h(P,B.children||[]),P.return=V,P)}function W(V,P,B,J,he){return P===null||P.tag!==7?(P=Ts(B,V.mode,J,he),P.return=V,P):(P=h(P,B),P.return=V,P)}function ee(V,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ad(""+P,V.mode,B),P.return=V,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case d:return B=Ac(P.type,P.key,P.props,null,V.mode,B),_o(B,P),B.return=V,B;case f:return P=jd(P,V.mode,B),P.return=V,P;case Z:var J=P._init;return P=J(P._payload),ee(V,P,B)}if(oe(P)||de(P))return P=Ts(P,V.mode,B,null),P.return=V,P;if(typeof P.then=="function")return ee(V,oc(P),B);if(P.$$typeof===U)return ee(V,Tc(V,P),B);lc(V,P)}return null}function H(V,P,B,J){var he=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:T(V,P,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===he?k(V,P,B,J):null;case f:return B.key===he?L(V,P,B,J):null;case Z:return he=B._init,B=he(B._payload),H(V,P,B,J)}if(oe(B)||de(B))return he!==null?null:W(V,P,B,J,null);if(typeof B.then=="function")return H(V,P,oc(B),J);if(B.$$typeof===U)return H(V,P,Tc(V,B),J);lc(V,B)}return null}function Q(V,P,B,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return V=V.get(B)||null,T(P,V,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case d:return V=V.get(J.key===null?B:J.key)||null,k(P,V,J,he);case f:return V=V.get(J.key===null?B:J.key)||null,L(P,V,J,he);case Z:var Ae=J._init;return J=Ae(J._payload),Q(V,P,B,J,he)}if(oe(J)||de(J))return V=V.get(B)||null,W(P,V,J,he,null);if(typeof J.then=="function")return Q(V,P,B,oc(J),he);if(J.$$typeof===U)return Q(V,P,B,Tc(P,J),he);lc(P,J)}return null}function fe(V,P,B,J){for(var he=null,Ae=null,me=P,we=P=0,Dt=null;me!==null&&we<B.length;we++){me.index>we?(Dt=me,me=null):Dt=me.sibling;var Le=H(V,me,B[we],J);if(Le===null){me===null&&(me=Dt);break}n&&me&&Le.alternate===null&&i(V,me),P=m(Le,P,we),Ae===null?he=Le:Ae.sibling=Le,Ae=Le,me=Dt}if(we===B.length)return a(V,me),Me&&ds(V,we),he;if(me===null){for(;we<B.length;we++)me=ee(V,B[we],J),me!==null&&(P=m(me,P,we),Ae===null?he=me:Ae.sibling=me,Ae=me);return Me&&ds(V,we),he}for(me=l(me);we<B.length;we++)Dt=Q(me,V,we,B[we],J),Dt!==null&&(n&&Dt.alternate!==null&&me.delete(Dt.key===null?we:Dt.key),P=m(Dt,P,we),Ae===null?he=Dt:Ae.sibling=Dt,Ae=Dt);return n&&me.forEach(function(Pi){return i(V,Pi)}),Me&&ds(V,we),he}function xe(V,P,B,J){if(B==null)throw Error(s(151));for(var he=null,Ae=null,me=P,we=P=0,Dt=null,Le=B.next();me!==null&&!Le.done;we++,Le=B.next()){me.index>we?(Dt=me,me=null):Dt=me.sibling;var Pi=H(V,me,Le.value,J);if(Pi===null){me===null&&(me=Dt);break}n&&me&&Pi.alternate===null&&i(V,me),P=m(Pi,P,we),Ae===null?he=Pi:Ae.sibling=Pi,Ae=Pi,me=Dt}if(Le.done)return a(V,me),Me&&ds(V,we),he;if(me===null){for(;!Le.done;we++,Le=B.next())Le=ee(V,Le.value,J),Le!==null&&(P=m(Le,P,we),Ae===null?he=Le:Ae.sibling=Le,Ae=Le);return Me&&ds(V,we),he}for(me=l(me);!Le.done;we++,Le=B.next())Le=Q(me,V,we,Le.value,J),Le!==null&&(n&&Le.alternate!==null&&me.delete(Le.key===null?we:Le.key),P=m(Le,P,we),Ae===null?he=Le:Ae.sibling=Le,Ae=Le);return n&&me.forEach(function(Nx){return i(V,Nx)}),Me&&ds(V,we),he}function at(V,P,B,J){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:e:{for(var he=B.key;P!==null;){if(P.key===he){if(he=B.type,he===p){if(P.tag===7){a(V,P.sibling),J=h(P,B.props.children),J.return=V,V=J;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&Tp(he)===P.type){a(V,P.sibling),J=h(P,B.props),_o(J,B),J.return=V,V=J;break e}a(V,P);break}else i(V,P);P=P.sibling}B.type===p?(J=Ts(B.props.children,V.mode,J,B.key),J.return=V,V=J):(J=Ac(B.type,B.key,B.props,null,V.mode,J),_o(J,B),J.return=V,V=J)}return _(V);case f:e:{for(he=B.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(V,P.sibling),J=h(P,B.children||[]),J.return=V,V=J;break e}else{a(V,P);break}else i(V,P);P=P.sibling}J=jd(B,V.mode,J),J.return=V,V=J}return _(V);case Z:return he=B._init,B=he(B._payload),at(V,P,B,J)}if(oe(B))return fe(V,P,B,J);if(de(B)){if(he=de(B),typeof he!="function")throw Error(s(150));return B=he.call(B),xe(V,P,B,J)}if(typeof B.then=="function")return at(V,P,oc(B),J);if(B.$$typeof===U)return at(V,P,Tc(V,B),J);lc(V,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(V,P.sibling),J=h(P,B),J.return=V,V=J):(a(V,P),J=Ad(B,V.mode,J),J.return=V,V=J),_(V)):a(V,P)}return function(V,P,B,J){try{wo=0;var he=at(V,P,B,J);return ha=null,he}catch(me){if(me===vo)throw me;var Ae=jn(29,me,null,V.mode);return Ae.lanes=J,Ae.return=V,Ae}finally{}}}var ms=Ep(!0),Sp=Ep(!1),da=Oe(null),cc=Oe(0);function Ap(n,i){n=Hr,Fe(cc,n),Fe(da,i),Hr=n|i.baseLanes}function Dh(){Fe(cc,Hr),Fe(da,da.current)}function Oh(){Hr=cc.current,rt(da),rt(cc)}var En=Oe(null),fr=null;function yi(n){var i=n.alternate;Fe(Et,Et.current&1),Fe(En,n),fr===null&&(i===null||da.current!==null||i.memoizedState!==null)&&(fr=n)}function jp(n){if(n.tag===22){if(Fe(Et,Et.current),Fe(En,n),fr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(fr=n)}}else vi()}function vi(){Fe(Et,Et.current),Fe(En,En.current)}function Or(n){rt(En),fr===n&&(fr=null),rt(Et)}var Et=Oe(0);function uc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var y0=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},v0=r.unstable_scheduleCallback,b0=r.unstable_NormalPriority,St={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new y0,data:new Map,refCount:0}}function xo(n){n.refCount--,n.refCount===0&&v0(b0,function(){n.controller.abort()})}var To=null,Mh=0,fa=0,ma=null;function w0(n,i){if(To===null){var a=To=[];Mh=0,fa=Bd(),ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mh++,i.then(Cp,Cp),i}function Cp(){if(--Mh===0&&To!==null){ma!==null&&(ma.status="fulfilled");var n=To;To=null,fa=0,ma=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function _0(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kp=S.S;S.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&w0(n,i),kp!==null&&kp(n,i)};var ps=Oe(null);function Lh(){var n=ps.current;return n!==null?n:Ke.pooledCache}function hc(n,i){i===null?Fe(ps,ps.current):Fe(ps,i.pool)}function Np(){var n=Lh();return n===null?null:{parent:St._currentValue,pool:n}}var bi=0,Se=null,Be=null,gt=null,dc=!1,pa=!1,gs=!1,fc=0,Eo=0,ga=null,x0=0;function mt(){throw Error(s(321))}function Uh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!ln(n[a],i[a]))return!1;return!0}function Vh(n,i,a,l,h,m){return bi=m,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=n===null||n.memoizedState===null?ys:wi,gs=!1,m=a(l,h),gs=!1,pa&&(m=Rp(i,a,l,h)),Ip(n),m}function Ip(n){S.H=ar;var i=Be!==null&&Be.next!==null;if(bi=0,gt=Be=Se=null,dc=!1,Eo=0,ga=null,i)throw Error(s(300));n===null||It||(n=n.dependencies,n!==null&&xc(n)&&(It=!0))}function Rp(n,i,a,l){Se=n;var h=0;do{if(pa&&(ga=null),Eo=0,pa=!1,25<=h)throw Error(s(301));if(h+=1,gt=Be=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=vs,m=i(a,l)}while(pa);return m}function T0(){var n=S.H,i=n.useState()[0];return i=typeof i.then=="function"?So(i):i,n=n.useState()[0],(Be!==null?Be.memoizedState:null)!==n&&(Se.flags|=1024),i}function zh(){var n=fc!==0;return fc=0,n}function Fh(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Bh(n){if(dc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}dc=!1}bi=0,gt=Be=Se=null,pa=!1,Eo=fc=0,ga=null}function sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Se.memoizedState=gt=n:gt=gt.next=n,gt}function yt(){if(Be===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Be.next;var i=gt===null?Se.memoizedState:gt.next;if(i!==null)gt=i,Be=n;else{if(n===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Be=n,n={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},gt===null?Se.memoizedState=gt=n:gt=gt.next=n}return gt}var mc;mc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function So(n){var i=Eo;return Eo+=1,ga===null&&(ga=[]),n=_p(ga,n,i),i=Se,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?ys:wi),n}function pc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return So(n);if(n.$$typeof===U)return Kt(n)}throw Error(s(438,String(n)))}function qh(n){var i=null,a=Se.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),Se.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=ae;return i.index++,a}function Pr(n,i){return typeof i=="function"?i(n):i}function gc(n){var i=yt();return Hh(i,Be,n)}function Hh(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,m=l.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}i.baseQueue=h=m,l.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{i=h.next;var T=_=null,k=null,L=i,W=!1;do{var ee=L.lane&-536870913;if(ee!==L.lane?(ke&ee)===ee:(bi&ee)===ee){var H=L.revertLane;if(H===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),ee===fa&&(W=!0);else if((bi&H)===H){L=L.next,H===fa&&(W=!0);continue}else ee={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},k===null?(T=k=ee,_=m):k=k.next=ee,Se.lanes|=H,ki|=H;ee=L.action,gs&&a(m,ee),m=L.hasEagerState?L.eagerState:a(m,ee)}else H={lane:ee,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},k===null?(T=k=H,_=m):k=k.next=H,Se.lanes|=ee,ki|=ee;L=L.next}while(L!==null&&L!==i);if(k===null?_=m:k.next=T,!ln(m,n.memoizedState)&&(It=!0,W&&(a=ma,a!==null)))throw a;n.memoizedState=m,n.baseState=_,n.baseQueue=k,l.lastRenderedState=m}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function $h(n){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do m=n(m,_.action),_=_.next;while(_!==h);ln(m,i.memoizedState)||(It=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Dp(n,i,a){var l=Se,h=yt(),m=Me;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!ln((Be||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,Qh(Mp.bind(null,l,h,n),[n]),h.getSnapshot!==i||_||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,ya(9,Pp.bind(null,l,h,a,i),{destroy:void 0},null),Ke===null)throw Error(s(349));m||(bi&60)!==0||Op(l,i,a)}return a}function Op(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Se.updateQueue,i===null?(i=mc(),Se.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Pp(n,i,a,l){i.value=a,i.getSnapshot=l,Lp(i)&&Up(n)}function Mp(n,i,a){return a(function(){Lp(i)&&Up(n)})}function Lp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!ln(n,a)}catch{return!0}}function Up(n){var i=gi(n,2);i!==null&&Jt(i,n,2)}function Gh(n){var i=sn();if(typeof n=="function"){var a=n;if(n=a(),gs){Qn(!0);try{a()}finally{Qn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:n},i}function Vp(n,i,a,l){return n.baseState=a,Hh(n,Be,typeof l=="function"?l:Pr)}function E0(n,i,a,l,h){if(bc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};S.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,zp(i,m)):(m.next=a.next,i.pending=a.next=m)}}function zp(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var m=S.T,_={};S.T=_;try{var T=a(h,l),k=S.S;k!==null&&k(_,T),Fp(n,i,T)}catch(L){Kh(n,i,L)}finally{S.T=m}}else try{m=a(h,l),Fp(n,i,m)}catch(L){Kh(n,i,L)}}function Fp(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bp(n,i,l)},function(l){return Kh(n,i,l)}):Bp(n,i,a)}function Bp(n,i,a){i.status="fulfilled",i.value=a,qp(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,zp(n,a)))}function Kh(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,qp(i),i=i.next;while(i!==l)}n.action=null}function qp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Hp(n,i){return i}function $p(n,i){if(Me){var a=Ke.formState;if(a!==null){e:{var l=Se;if(Me){if(Vt){t:{for(var h=Vt,m=sr;h.nodeType!==8;){if(!m){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Vt=Fn(h.nextSibling),l=h.data==="F!";break e}}fs(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hp,lastRenderedState:i},a.queue=l,a=cg.bind(null,Se,l),l.dispatch=a,l=Gh(!1),m=Jh.bind(null,Se,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=E0.bind(null,Se,h,m,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function Gp(n){var i=yt();return Kp(i,Be,n)}function Kp(n,i,a){i=Hh(n,i,Hp)[0],n=gc(Pr)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?So(i):i;var l=yt(),h=l.queue,m=h.dispatch;return a!==l.memoizedState&&(Se.flags|=2048,ya(9,S0.bind(null,h,a),{destroy:void 0},null)),[i,m,n]}function S0(n,i){n.action=i}function Qp(n){var i=yt(),a=Be;if(a!==null)return Kp(i,a,n);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function ya(n,i,a,l){return n={tag:n,create:i,inst:a,deps:l,next:null},i=Se.updateQueue,i===null&&(i=mc(),Se.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Wp(){return yt().memoizedState}function yc(n,i,a,l){var h=sn();Se.flags|=n,h.memoizedState=ya(1|i,a,{destroy:void 0},l===void 0?null:l)}function vc(n,i,a,l){var h=yt();l=l===void 0?null:l;var m=h.memoizedState.inst;Be!==null&&l!==null&&Uh(l,Be.memoizedState.deps)?h.memoizedState=ya(i,a,m,l):(Se.flags|=n,h.memoizedState=ya(1|i,a,m,l))}function Yp(n,i){yc(8390656,8,n,i)}function Qh(n,i){vc(2048,8,n,i)}function Xp(n,i){return vc(4,2,n,i)}function Zp(n,i){return vc(4,4,n,i)}function Jp(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function eg(n,i,a){a=a!=null?a.concat([n]):null,vc(4,4,Jp.bind(null,i,n),a)}function Wh(){}function tg(n,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Uh(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function ng(n,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Uh(i,l[1]))return l[0];if(l=n(),gs){Qn(!0);try{n()}finally{Qn(!1)}}return a.memoizedState=[l,i],l}function Yh(n,i,a){return a===void 0||(bi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=iy(),Se.lanes|=n,ki|=n,a)}function rg(n,i,a,l){return ln(a,i)?a:da.current!==null?(n=Yh(n,a,l),ln(n,i)||(It=!0),n):(bi&42)===0?(It=!0,n.memoizedState=a):(n=iy(),Se.lanes|=n,ki|=n,i)}function ig(n,i,a,l,h){var m=le.p;le.p=m!==0&&8>m?m:8;var _=S.T,T={};S.T=T,Jh(n,!1,i,a);try{var k=h(),L=S.S;if(L!==null&&L(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=_0(k,l);Ao(n,i,W,dn(n))}else Ao(n,i,l,dn(n))}catch(ee){Ao(n,i,{then:function(){},status:"rejected",reason:ee},dn())}finally{le.p=m,S.T=_}}function A0(){}function Xh(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=sg(n).queue;ig(n,h,i,Ee,a===null?A0:function(){return ag(n),a(l)})}function sg(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:Ee},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function ag(n){var i=sg(n).next.queue;Ao(n,i,{},dn())}function Zh(){return Kt(Go)}function og(){return yt().memoizedState}function lg(){return yt().memoizedState}function j0(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();n=Ti(a);var l=Ei(i,n,a);l!==null&&(Jt(l,i,a),ko(l,i,a)),i={cache:Ph()},n.payload=i;return}i=i.return}}function C0(n,i,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bc(n)?ug(i,a):(a=Ch(n,i,a,l),a!==null&&(Jt(a,n,l),hg(a,i,l)))}function cg(n,i,a){var l=dn();Ao(n,i,a,l)}function Ao(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(n))ug(i,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,T=m(_,a);if(h.hasEagerState=!0,h.eagerState=T,ln(T,_))return nc(n,i,h,0),Ke===null&&tc(),!1}catch{}finally{}if(a=Ch(n,i,h,l),a!==null)return Jt(a,n,l),hg(a,i,l),!0}return!1}function Jh(n,i,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},bc(n)){if(i)throw Error(s(479))}else i=Ch(n,a,l,2),i!==null&&Jt(i,n,2)}function bc(n){var i=n.alternate;return n===Se||i!==null&&i===Se}function ug(n,i){pa=dc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function hg(n,i,a){if((a&4194176)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,ai(n,a)}}var ar={readContext:Kt,use:pc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};ar.useCacheRefresh=mt,ar.useMemoCache=mt,ar.useHostTransitionStatus=mt,ar.useFormState=mt,ar.useActionState=mt,ar.useOptimistic=mt;var ys={readContext:Kt,use:pc,useCallback:function(n,i){return sn().memoizedState=[n,i===void 0?null:i],n},useContext:Kt,useEffect:Yp,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,yc(4194308,4,Jp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return yc(4194308,4,n,i)},useInsertionEffect:function(n,i){yc(4,2,n,i)},useMemo:function(n,i){var a=sn();i=i===void 0?null:i;var l=n();if(gs){Qn(!0);try{n()}finally{Qn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=sn();if(a!==void 0){var h=a(i);if(gs){Qn(!0);try{a(i)}finally{Qn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=C0.bind(null,Se,n),[l.memoizedState,n]},useRef:function(n){var i=sn();return n={current:n},i.memoizedState=n},useState:function(n){n=Gh(n);var i=n.queue,a=cg.bind(null,Se,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Wh,useDeferredValue:function(n,i){var a=sn();return Yh(a,n,i)},useTransition:function(){var n=Gh(!1);return n=ig.bind(null,Se,n.queue,!0,!1),sn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Se,h=sn();if(Me){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ke===null)throw Error(s(349));(ke&60)!==0||Op(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,Yp(Mp.bind(null,l,m,n),[n]),l.flags|=2048,ya(9,Pp.bind(null,l,m,a,i),{destroy:void 0},null),a},useId:function(){var n=sn(),i=Ke.identifierPrefix;if(Me){var a=Dr,l=Rr;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=x0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=j0.bind(null,Se)}};ys.useMemoCache=qh,ys.useHostTransitionStatus=Zh,ys.useFormState=$p,ys.useActionState=$p,ys.useOptimistic=function(n){var i=sn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Jh.bind(null,Se,!0,a),a.dispatch=i,[n,i]};var wi={readContext:Kt,use:pc,useCallback:tg,useContext:Kt,useEffect:Qh,useImperativeHandle:eg,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:ng,useReducer:gc,useRef:Wp,useState:function(){return gc(Pr)},useDebugValue:Wh,useDeferredValue:function(n,i){var a=yt();return rg(a,Be.memoizedState,n,i)},useTransition:function(){var n=gc(Pr)[0],i=yt().memoizedState;return[typeof n=="boolean"?n:So(n),i]},useSyncExternalStore:Dp,useId:og};wi.useCacheRefresh=lg,wi.useMemoCache=qh,wi.useHostTransitionStatus=Zh,wi.useFormState=Gp,wi.useActionState=Gp,wi.useOptimistic=function(n,i){var a=yt();return Vp(a,Be,n,i)};var vs={readContext:Kt,use:pc,useCallback:tg,useContext:Kt,useEffect:Qh,useImperativeHandle:eg,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:ng,useReducer:$h,useRef:Wp,useState:function(){return $h(Pr)},useDebugValue:Wh,useDeferredValue:function(n,i){var a=yt();return Be===null?Yh(a,n,i):rg(a,Be.memoizedState,n,i)},useTransition:function(){var n=$h(Pr)[0],i=yt().memoizedState;return[typeof n=="boolean"?n:So(n),i]},useSyncExternalStore:Dp,useId:og};vs.useCacheRefresh=lg,vs.useMemoCache=qh,vs.useHostTransitionStatus=Zh,vs.useFormState=Qp,vs.useActionState=Qp,vs.useOptimistic=function(n,i){var a=yt();return Be!==null?Vp(a,Be,n,i):(a.baseState=n,[n,a.queue.dispatch])};function ed(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:N({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var td={isMounted:function(n){return(n=n._reactInternals)?te(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var l=dn(),h=Ti(l);h.payload=i,a!=null&&(h.callback=a),i=Ei(n,h,l),i!==null&&(Jt(i,n,l),ko(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=dn(),h=Ti(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ei(n,h,l),i!==null&&(Jt(i,n,l),ko(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=dn(),l=Ti(a);l.tag=2,i!=null&&(l.callback=i),i=Ei(n,l,a),i!==null&&(Jt(i,n,a),ko(i,n,a))}};function dg(n,i,a,l,h,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!fo(a,l)||!fo(h,m):!0}function fg(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&td.enqueueReplaceState(i,i.state,null)}function bs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=N({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var wc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function mg(n){wc(n)}function pg(n){console.error(n)}function gg(n){wc(n)}function _c(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function yg(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(n,i,a){return a=Ti(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(n,i)},a}function vg(n){return n=Ti(n),n.tag=3,n}function bg(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;n.payload=function(){return h(m)},n.callback=function(){yg(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){yg(i,a,l),typeof h!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function k0(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Co(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 13:return fr===null?Ld():a.alternate===null&&st===0&&(st=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Rh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(n,l,h)),!1;case 22:return a.flags|=65536,l===Rh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(n,l,h)),!1}throw Error(s(435,a.tag))}return Vd(n,l,h),Ld(),!1}if(Me)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Ih&&(n=Error(s(422),{cause:l}),yo(_n(n,a)))):(l!==Ih&&(i=Error(s(423),{cause:l}),yo(_n(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=_n(l,a),h=nd(n.stateNode,l,h),yd(n,h),st!==4&&(st=2)),!1;var m=Error(s(520),{cause:l});if(m=_n(m,a),Lo===null?Lo=[m]:Lo.push(m),st!==4&&(st=2),i===null)return!0;l=_n(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=nd(a.stateNode,l,n),yd(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ni===null||!Ni.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vg(h),bg(h,n,a,l),yd(a,h),!1}a=a.return}while(a!==null);return!1}var wg=Error(s(461)),It=!1;function zt(n,i,a,l){i.child=n===null?Sp(i,null,a,l):ms(i,n.child,a,l)}function _g(n,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return _s(i),l=Vh(n,i,a,_,m,h),T=zh(),n!==null&&!It?(Fh(n,i,h),Mr(n,i,h)):(Me&&T&&kh(i),i.flags|=1,zt(n,i,l,h),i.child)}function xg(n,i,a,l,h){if(n===null){var m=a.type;return typeof m=="function"&&!Sd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,Tg(n,i,m,l,h)):(n=Ac(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!hd(n,h)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:fo,a(_,l)&&n.ref===i.ref)return Mr(n,i,h)}return i.flags|=1,n=Ci(m,l),n.ref=i.ref,n.return=i,i.child=n}function Tg(n,i,a,l,h){if(n!==null){var m=n.memoizedProps;if(fo(m,l)&&n.ref===i.ref)if(It=!1,i.pendingProps=l=m,hd(n,h))(n.flags&131072)!==0&&(It=!0);else return i.lanes=n.lanes,Mr(n,i,h)}return rd(n,i,a,l,h)}function Eg(n,i,a){var l=i.pendingProps,h=l.children,m=(i.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(jo(n,i),l.mode==="hidden"||m){if((i.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,n!==null){for(h=i.child=n.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return Sg(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&hc(i,_!==null?_.cachePool:null),_!==null?Ap(i,_):Dh(),jp(i);else return i.lanes=i.childLanes=536870912,Sg(n,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(hc(i,_.cachePool),Ap(i,_),vi(),i.memoizedState=null):(n!==null&&hc(i,null),Dh(),vi());return zt(n,i,h,a),i.child}function Sg(n,i,a,l){var h=Lh();return h=h===null?null:{parent:St._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&hc(i,null),Dh(),jp(i),n!==null&&Co(n,i,l,!0),null}function jo(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function rd(n,i,a,l,h){return _s(i),a=Vh(n,i,a,l,void 0,h),l=zh(),n!==null&&!It?(Fh(n,i,h),Mr(n,i,h)):(Me&&l&&kh(i),i.flags|=1,zt(n,i,a,h),i.child)}function Ag(n,i,a,l,h,m){return _s(i),i.updateQueue=null,a=Rp(i,l,a,h),Ip(n),l=zh(),n!==null&&!It?(Fh(n,i,m),Mr(n,i,m)):(Me&&l&&kh(i),i.flags|=1,zt(n,i,a,m),i.child)}function jg(n,i,a,l,h){if(_s(i),i.stateNode===null){var m=la,_=a.contextType;typeof _=="object"&&_!==null&&(m=Kt(_)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=td,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},pd(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Kt(_):la,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ed(i,a,_,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&td.enqueueReplaceState(m,m.state,null),Io(i,l,m,h),No(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var T=i.memoizedProps,k=bs(a,T);m.props=k;var L=m.context,W=a.contextType;_=la,typeof W=="object"&&W!==null&&(_=Kt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||L!==_)&&fg(i,m,l,_),xi=!1;var H=i.memoizedState;m.state=H,Io(i,l,m,h),No(),L=i.memoizedState,T||H!==L||xi?(typeof ee=="function"&&(ed(i,a,ee,l),L=i.memoizedState),(k=xi||dg(i,a,k,l,H,L,_))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),m.props=l,m.state=L,m.context=_,l=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,gd(n,i),_=i.memoizedProps,W=bs(a,_),m.props=W,ee=i.pendingProps,H=m.context,L=a.contextType,k=la,typeof L=="object"&&L!==null&&(k=Kt(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ee||H!==k)&&fg(i,m,l,k),xi=!1,H=i.memoizedState,m.state=H,Io(i,l,m,h),No();var Q=i.memoizedState;_!==ee||H!==Q||xi||n!==null&&n.dependencies!==null&&xc(n.dependencies)?(typeof T=="function"&&(ed(i,a,T,l),Q=i.memoizedState),(W=xi||dg(i,a,W,l,H,Q,k)||n!==null&&n.dependencies!==null&&xc(n.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=k,l=W):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,jo(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=ms(i,n.child,null,h),i.child=ms(i,null,a,h)):zt(n,i,a,h),i.memoizedState=m.state,n=i.child):n=Mr(n,i,h),n}function Cg(n,i,a,l){return go(),i.flags|=256,zt(n,i,a,l),i.child}var id={dehydrated:null,treeContext:null,retryLane:0};function sd(n){return{baseLanes:n,cachePool:Np()}}function ad(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Cn),n}function kg(n,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Et.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Me){if(h?yi(i):vi(),Me){var T=Vt,k;if(k=T){e:{for(k=T,T=sr;k.nodeType!==8;){if(!T){T=null;break e}if(k=Fn(k.nextSibling),k===null){T=null;break e}}T=k}T!==null?(i.memoizedState={dehydrated:T,treeContext:hs!==null?{id:Rr,overflow:Dr}:null,retryLane:536870912},k=jn(18,null,null,0),k.stateNode=T,k.return=i,i.child=k,Zt=i,Vt=null,k=!0):k=!1}k||fs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Or(i)}return T=l.children,l=l.fallback,h?(vi(),h=i.mode,T=ld({mode:"hidden",children:T},h),l=Ts(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=sd(a),h.childLanes=ad(n,_,a),i.memoizedState=id,l):(yi(i),od(i,T))}if(k=n.memoizedState,k!==null&&(T=k.dehydrated,T!==null)){if(m)i.flags&256?(yi(i),i.flags&=-257,i=cd(n,i,a)):i.memoizedState!==null?(vi(),i.child=n.child,i.flags|=128,i=null):(vi(),h=l.fallback,T=i.mode,l=ld({mode:"visible",children:l.children},T),h=Ts(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ms(i,n.child,null,a),l=i.child,l.memoizedState=sd(a),l.childLanes=ad(n,_,a),i.memoizedState=id,i=h);else if(yi(i),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var L=_.dgst;_=L,l=Error(s(419)),l.stack="",l.digest=_,yo({value:l,source:null,stack:null}),i=cd(n,i,a)}else if(It||Co(n,i,a,!1),_=(a&n.childLanes)!==0,It||_){if(_=Ke,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==k.retryLane)throw k.retryLane=l,gi(n,l),Jt(_,n,l),wg}T.data==="$?"||Ld(),i=cd(n,i,a)}else T.data==="$?"?(i.flags|=128,i.child=n.child,i=H0.bind(null,n),T._reactRetry=i,i=null):(n=k.treeContext,Vt=Fn(T.nextSibling),Zt=i,Me=!0,Vn=null,sr=!1,n!==null&&(xn[Tn++]=Rr,xn[Tn++]=Dr,xn[Tn++]=hs,Rr=n.id,Dr=n.overflow,hs=i),i=od(i,l.children),i.flags|=4096);return i}return h?(vi(),h=l.fallback,T=i.mode,k=n.child,L=k.sibling,l=Ci(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&31457280,L!==null?h=Ci(L,h):(h=Ts(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=n.child.memoizedState,T===null?T=sd(a):(k=T.cachePool,k!==null?(L=St._currentValue,k=k.parent!==L?{parent:L,pool:L}:k):k=Np(),T={baseLanes:T.baseLanes|a,cachePool:k}),h.memoizedState=T,h.childLanes=ad(n,_,a),i.memoizedState=id,l):(yi(i),a=n.child,n=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function od(n,i){return i=ld({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function ld(n,i){return ty(n,i,0,null)}function cd(n,i,a){return ms(i,n.child,null,a),n=od(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Ng(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),fd(n.return,i,a)}function ud(n,i,a,l,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function Ig(n,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;if(zt(n,i,l.children,a),l=Et.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ng(n,a,i);else if(n.tag===19)Ng(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Fe(Et,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&uc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ud(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&uc(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}ud(i,!0,a,null,m);break;case"together":ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ki|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Co(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Ci(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Ci(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function hd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&xc(n)))}function N0(n,i,a){switch(i.tag){case 3:ei(i,i.stateNode.containerInfo),_i(i,St,n.memoizedState.cache),go();break;case 27:case 5:$a(i);break;case 4:ei(i,i.stateNode.containerInfo);break;case 10:_i(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?kg(n,i,a):(yi(i),n=Mr(n,i,a),n!==null?n.sibling:null);yi(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Co(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ig(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Fe(Et,Et.current),l)break;return null;case 22:case 23:return i.lanes=0,Eg(n,i,a);case 24:_i(i,St,n.memoizedState.cache)}return Mr(n,i,a)}function Rg(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)It=!0;else{if(!hd(n,a)&&(i.flags&128)===0)return It=!1,N0(n,i,a);It=(n.flags&131072)!==0}else It=!1,Me&&(i.flags&1048576)!==0&&gp(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Sd(l)?(n=bs(l,n),i.tag=1,i=jg(null,i,l,n,a)):(i.tag=0,i=rd(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===M){i.tag=11,i=_g(null,i,l,n,a);break e}else if(h===G){i.tag=14,i=xg(null,i,l,n,a);break e}}throw i=j(l)||l,Error(s(306,i,""))}}return i;case 0:return rd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=bs(l,i.pendingProps),jg(n,i,l,h,a);case 3:e:{if(ei(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var m=i.pendingProps;h=i.memoizedState,l=h.element,gd(n,i),Io(i,m,null,a);var _=i.memoizedState;if(m=_.cache,_i(i,St,m),m!==h.cache&&md(i,[St],a,!0),No(),m=_.element,h.isDehydrated)if(h={element:m,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Cg(n,i,m,a);break e}else if(m!==l){l=_n(Error(s(424)),i),yo(l),i=Cg(n,i,m,a);break e}else for(Vt=Fn(i.stateNode.containerInfo.firstChild),Zt=i,Me=!0,Vn=null,sr=!0,a=Sp(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(go(),m===l){i=Mr(n,i,a);break e}zt(n,i,m,a)}i=i.child}return i;case 26:return jo(n,i),n===null?(a=Py(i.type,null,i.pendingProps,null))?i.memoizedState=a:Me||(a=i.type,n=i.pendingProps,l=Uc(fn.current).createElement(a),l[jt]=i,l[xt]=n,Ft(l,a,n),Ze(l),i.stateNode=l):i.memoizedState=Py(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return $a(i),n===null&&Me&&(l=i.stateNode=Ry(i.type,i.pendingProps,fn.current),Zt=i,sr=!0,Vt=Fn(l.firstChild)),l=i.pendingProps.children,n!==null||Me?zt(n,i,l,a):i.child=ms(i,null,l,a),jo(n,i),i.child;case 5:return n===null&&Me&&((h=l=Vt)&&(l=ax(l,i.type,i.pendingProps,sr),l!==null?(i.stateNode=l,Zt=i,Vt=Fn(l.firstChild),sr=!1,h=!0):h=!1),h||fs(i)),$a(i),h=i.type,m=i.pendingProps,_=n!==null?n.memoizedProps:null,l=m.children,Xd(h,m)?l=null:_!==null&&Xd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Vh(n,i,T0,null,null,a),Go._currentValue=h),jo(n,i),zt(n,i,l,a),i.child;case 6:return n===null&&Me&&((n=a=Vt)&&(a=ox(a,i.pendingProps,sr),a!==null?(i.stateNode=a,Zt=i,Vt=null,n=!0):n=!1),n||fs(i)),null;case 13:return kg(n,i,a);case 4:return ei(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=ms(i,null,l,a):zt(n,i,l,a),i.child;case 11:return _g(n,i,i.type,i.pendingProps,a);case 7:return zt(n,i,i.pendingProps,a),i.child;case 8:return zt(n,i,i.pendingProps.children,a),i.child;case 12:return zt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,_i(i,i.type,l.value),zt(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,_s(i),h=Kt(h),l=l(h),i.flags|=1,zt(n,i,l,a),i.child;case 14:return xg(n,i,i.type,i.pendingProps,a);case 15:return Tg(n,i,i.type,i.pendingProps,a);case 19:return Ig(n,i,a);case 22:return Eg(n,i,a);case 24:return _s(i),l=Kt(St),n===null?(h=Lh(),h===null&&(h=Ke,m=Ph(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},pd(i),_i(i,St,h)):((n.lanes&a)!==0&&(gd(n,i),Io(i,null,null,a),No()),h=n.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_i(i,St,l)):(l=m.cache,_i(i,St,l),l!==h.cache&&md(i,[St],a,!0))),zt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var dd=Oe(null),ws=null,Lr=null;function _i(n,i,a){Fe(dd,i._currentValue),i._currentValue=a}function Ur(n){n._currentValue=dd.current,rt(dd)}function fd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function md(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var _=h.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=h;for(var k=0;k<i.length;k++)if(T.context===i[k]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),fd(m.return,a,n),l||(_=null);break e}m=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),fd(_,a,n),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===n){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Co(n,i,a,l){n=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;ln(h.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(h===Jr.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Go):n=[Go])}h=h.return}n!==null&&md(i,n,a,l),i.flags|=262144}function xc(n){for(n=n.firstContext;n!==null;){if(!ln(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function _s(n){ws=n,Lr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return Dg(ws,n)}function Tc(n,i){return ws===null&&_s(n),Dg(n,i)}function Dg(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Lr===null){if(n===null)throw Error(s(308));Lr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Lr=Lr.next=i;return a}var xi=!1;function pd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ti(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ei(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=rc(n),mp(n,null,a),i}return nc(n,l,i,a),rc(n)}function ko(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,ai(n,a)}}function yd(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var vd=!1;function No(){if(vd){var n=ma;if(n!==null)throw n}}function Io(n,i,a,l){vd=!1;var h=n.updateQueue;xi=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var k=T,L=k.next;k.next=null,_===null?m=L:_.next=L,_=k;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=L:T.next=L,W.lastBaseUpdate=k))}if(m!==null){var ee=h.baseState;_=0,W=L=k=null,T=m;do{var H=T.lane&-536870913,Q=H!==T.lane;if(Q?(ke&H)===H:(l&H)===H){H!==0&&H===fa&&(vd=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=n,xe=T;H=i;var at=a;switch(xe.tag){case 1:if(fe=xe.payload,typeof fe=="function"){ee=fe.call(at,ee,H);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=xe.payload,H=typeof fe=="function"?fe.call(at,ee,H):fe,H==null)break e;ee=N({},ee,H);break e;case 2:xi=!0}}H=T.callback,H!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(L=W=Q,k=ee):W=W.next=Q,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);W===null&&(k=ee),h.baseState=k,h.firstBaseUpdate=L,h.lastBaseUpdate=W,m===null&&(h.shared.lanes=0),ki|=_,n.lanes=_,n.memoizedState=ee}}function Og(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Pg(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Og(a[n],i)}function Ro(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){He(i,i.return,T)}}function Si(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&n)===n){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var k=a;try{T()}catch(L){He(h,k,L)}}}l=l.next}while(l!==m)}}catch(L){He(i,i.return,L)}}function Mg(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Pg(i,a)}catch(l){He(n,n.return,l)}}}function Lg(n,i,a){a.props=bs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){He(n,i,l)}}function xs(n,i){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?n.refCleanup=a(h):a.current=h}}catch(m){He(n,i,m)}}function cn(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){He(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){He(n,i,h)}else a.current=null}function Ug(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){He(n,n.return,h)}}function Vg(n,i,a){try{var l=n.stateNode;tx(l,n.type,a,i),l[xt]=i}catch(h){He(n,n.return,h)}}function zg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function bd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||zg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Lc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(wd(n,i,a),n=n.sibling;n!==null;)wd(n,i,a),n=n.sibling}function Ec(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ec(n,i,a),n=n.sibling;n!==null;)Ec(n,i,a),n=n.sibling}var Vr=!1,it=!1,_d=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,Rt=null,Bg=!1;function I0(n,i){if(n=n.containerInfo,Wd=Hc,n=sp(n),Th(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,T=-1,k=-1,L=0,W=0,ee=n,H=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==m||l!==0&&ee.nodeType!==3||(k=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)H=ee,ee=Q;for(;;){if(ee===n)break t;if(H===a&&++L===h&&(T=_),H===m&&++W===l&&(k=_),(Q=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=Q}a=T===-1||k===-1?null:{start:T,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:n,selectionRange:a},Hc=!1,Rt=i;Rt!==null;)if(i=Rt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Rt=n;else for(;Rt!==null;){switch(i=Rt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var fe=bs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(fe,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(xe){He(a,a.return,xe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)ef(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ef(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Rt=n;break}Rt=i.return}return fe=Bg,Bg=!1,fe}function qg(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fr(n,a),l&4&&Ro(5,a);break;case 1:if(Fr(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(T){He(a,a.return,T)}else{var h=bs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){He(a,a.return,T)}}l&64&&Mg(a),l&512&&xs(a,a.return);break;case 3:if(Fr(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Pg(l,n)}catch(T){He(a,a.return,T)}}break;case 26:Fr(n,a),l&512&&xs(a,a.return);break;case 27:case 5:Fr(n,a),i===null&&l&4&&Ug(a),l&512&&xs(a,a.return);break;case 12:Fr(n,a);break;case 13:Fr(n,a),l&4&&Gg(n,a);break;case 22:if(h=a.memoizedState!==null||Vr,!h){i=i!==null&&i.memoizedState!==null||it;var m=Vr,_=it;Vr=h,(it=i)&&!_?Ai(n,a,(a.subtreeFlags&8772)!==0):Fr(n,a),Vr=m,it=_}l&512&&(a.memoizedProps.mode==="manual"?xs(a,a.return):cn(a,a.return));break;default:Fr(n,a)}}function Hg(n){var i=n.alternate;i!==null&&(n.alternate=null,Hg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Zi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var vt=null,un=!1;function zr(n,i,a){for(a=a.child;a!==null;)$g(n,i,a),a=a.sibling}function $g(n,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 26:it||cn(a,i),zr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||cn(a,i);var l=vt,h=un;for(vt=a.stateNode,zr(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Zi(a),vt=l,un=h;break;case 5:it||cn(a,i);case 6:h=vt;var m=un;if(vt=null,zr(n,i,a),vt=h,un=m,vt!==null)if(un)try{n=vt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(_){He(a,i,_)}else try{vt.removeChild(a.stateNode)}catch(_){He(a,i,_)}break;case 18:vt!==null&&(un?(i=vt,a=a.stateNode,i.nodeType===8?Jd(i.parentNode,a):i.nodeType===1&&Jd(i,a),Yo(i)):Jd(vt,a.stateNode));break;case 4:l=vt,h=un,vt=a.stateNode.containerInfo,un=!0,zr(n,i,a),vt=l,un=h;break;case 0:case 11:case 14:case 15:it||Si(2,a,i),it||Si(4,a,i),zr(n,i,a);break;case 1:it||(cn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lg(a,i,l)),zr(n,i,a);break;case 21:zr(n,i,a);break;case 22:it||cn(a,i),it=(l=it)||a.memoizedState!==null,zr(n,i,a),it=l;break;default:zr(n,i,a)}}function Gg(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yo(n)}catch(a){He(i,i.return,a)}}function R0(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Fg),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Fg),i;default:throw Error(s(435,n.tag))}}function xd(n,i){var a=R0(n);i.forEach(function(l){var h=$0.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Sn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=n,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:vt=T.stateNode,un=!1;break e;case 3:vt=T.stateNode.containerInfo,un=!0;break e;case 4:vt=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(vt===null)throw Error(s(160));$g(m,_,h),vt=null,un=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Kg(i,n),i=i.sibling}var zn=null;function Kg(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Sn(i,n),An(n),l&4&&(Si(3,n,n.return),Ro(3,n),Si(5,n,n.return));break;case 1:Sn(i,n),An(n),l&512&&(it||a===null||cn(a,a.return)),l&64&&Vr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=zn;if(Sn(i,n),An(n),l&512&&(it||a===null||cn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[li]||m[jt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Ft(m,l,a),m[jt]=n,Ze(m),l=m;break e;case"link":var _=Uy("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(m=_[T],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}m=h.createElement(l),Ft(m,l,a),h.head.appendChild(m);break;case"meta":if(_=Uy("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(m=_[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}m=h.createElement(l),Ft(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[jt]=n,Ze(m),l=m}n.stateNode=l}else Vy(h,n.type,n.stateNode);else n.stateNode=Ly(h,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Vy(h,n.type,n.stateNode):Ly(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Vg(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){h=n.stateNode,m=n.memoizedProps;try{for(var k=h.firstChild;k;){var L=k.nextSibling,W=k.nodeName;k[li]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=L}for(var ee=n.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);Ft(h,ee,m),h[jt]=n,h[xt]=m}catch(fe){He(n,n.return,fe)}}case 5:if(Sn(i,n),An(n),l&512&&(it||a===null||cn(a,a.return)),n.flags&32){h=n.stateNode;try{gn(h,"")}catch(fe){He(n,n.return,fe)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Vg(n,h,a!==null?a.memoizedProps:h)),l&1024&&(_d=!0);break;case 6:if(Sn(i,n),An(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(fe){He(n,n.return,fe)}}break;case 3:if(Fc=null,h=zn,zn=Vc(i.containerInfo),Sn(i,n),zn=h,An(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yo(i.containerInfo)}catch(fe){He(n,n.return,fe)}_d&&(_d=!1,Qg(n));break;case 4:l=zn,zn=Vc(n.stateNode.containerInfo),Sn(i,n),An(n),zn=l;break;case 12:Sn(i,n),An(n);break;case 13:Sn(i,n),An(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Id=nn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,xd(n,l)));break;case 22:if(l&512&&(it||a===null||cn(a,a.return)),k=n.memoizedState!==null,L=a!==null&&a.memoizedState!==null,W=Vr,ee=it,Vr=W||k,it=ee||L,Sn(i,n),it=ee,Vr=W,An(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=k?i._visibility&-2:i._visibility|1,k&&(i=Vr||it,a===null||L||i||va(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(h=L.stateNode,k)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=L.stateNode,T=L.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(fe){He(L,L.return,fe)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=k?"":L.memoizedProps}catch(fe){He(L,L.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xd(n,a))));break;case 19:Sn(i,n),An(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,xd(n,l)));break;case 21:break;default:Sn(i,n),An(n)}}function An(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(zg(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,m=bd(n);Ec(n,m,h);break;case 5:var _=l.stateNode;l.flags&32&&(gn(_,""),l.flags&=-33);var T=bd(n);Ec(n,T,_);break;case 3:case 4:var k=l.stateNode.containerInfo,L=bd(n);wd(n,L,k);break;default:throw Error(s(161))}}}catch(W){He(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Qg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Qg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Fr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qg(n,i.alternate,i),i=i.sibling}function va(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Si(4,i,i.return),va(i);break;case 1:cn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Lg(i,i.return,a),va(i);break;case 26:case 27:case 5:cn(i,i.return),va(i);break;case 22:cn(i,i.return),i.memoizedState===null&&va(i);break;default:va(i)}n=n.sibling}}function Ai(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:Ai(h,m,a),Ro(4,m);break;case 1:if(Ai(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){He(l,l.return,L)}if(l=m,h=l.updateQueue,h!==null){var T=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Og(k[h],T)}catch(L){He(l,l.return,L)}}a&&_&64&&Mg(m),xs(m,m.return);break;case 26:case 27:case 5:Ai(h,m,a),a&&l===null&&_&4&&Ug(m),xs(m,m.return);break;case 12:Ai(h,m,a);break;case 13:Ai(h,m,a),a&&_&4&&Gg(h,m);break;case 22:m.memoizedState===null&&Ai(h,m,a),xs(m,m.return);break;default:Ai(h,m,a)}i=i.sibling}}function Td(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&xo(a))}function Ed(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&xo(n))}function ji(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wg(n,i,a,l),i=i.sibling}function Wg(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ji(n,i,a,l),h&2048&&Ro(9,i);break;case 3:ji(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&xo(n)));break;case 12:if(h&2048){ji(n,i,a,l),n=i.stateNode;try{var m=i.memoizedProps,_=m.id,T=m.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){He(i,i.return,k)}}else ji(n,i,a,l);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?ji(n,i,a,l):Do(n,i):m._visibility&4?ji(n,i,a,l):(m._visibility|=4,ba(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Td(i.alternate,i);break;case 24:ji(n,i,a,l),h&2048&&Ed(i.alternate,i);break;default:ji(n,i,a,l)}}function ba(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,_=i,T=a,k=l,L=_.flags;switch(_.tag){case 0:case 11:case 15:ba(m,_,T,k,h),Ro(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&4?ba(m,_,T,k,h):Do(m,_):(W._visibility|=4,ba(m,_,T,k,h)),h&&L&2048&&Td(_.alternate,_);break;case 24:ba(m,_,T,k,h),h&&L&2048&&Ed(_.alternate,_);break;default:ba(m,_,T,k,h)}i=i.sibling}}function Do(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:Do(a,l),h&2048&&Td(l.alternate,l);break;case 24:Do(a,l),h&2048&&Ed(l.alternate,l);break;default:Do(a,l)}i=i.sibling}}var Oo=8192;function wa(n){if(n.subtreeFlags&Oo)for(n=n.child;n!==null;)Yg(n),n=n.sibling}function Yg(n){switch(n.tag){case 26:wa(n),n.flags&Oo&&n.memoizedState!==null&&wx(zn,n.memoizedState,n.memoizedProps);break;case 5:wa(n);break;case 3:case 4:var i=zn;zn=Vc(n.stateNode.containerInfo),wa(n),zn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Oo,Oo=16777216,wa(n),Oo=i):wa(n));break;default:wa(n)}}function Xg(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Po(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Rt=l,Jg(l,n)}Xg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zg(n),n=n.sibling}function Zg(n){switch(n.tag){case 0:case 11:case 15:Po(n),n.flags&2048&&Si(9,n,n.return);break;case 3:Po(n);break;case 12:Po(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Sc(n)):Po(n);break;default:Po(n)}}function Sc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Rt=l,Jg(l,n)}Xg(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Si(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Sc(i));break;default:Sc(i)}n=n.sibling}}function Jg(n,i){for(;Rt!==null;){var a=Rt;switch(a.tag){case 0:case 11:case 15:Si(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Rt=l;else e:for(a=n;Rt!==null;){l=Rt;var h=l.sibling,m=l.return;if(Hg(l),l===a){Rt=null;break e}if(h!==null){h.return=m,Rt=h;break e}Rt=m}}}function D0(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,i,a,l){return new D0(n,i,a,l)}function Sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ci(n,i){var a=n.alternate;return a===null?(a=jn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ey(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Ac(n,i,a,l,h,m){var _=0;if(l=n,typeof n=="function")Sd(n)&&(_=1);else if(typeof n=="string")_=vx(n,a,Qt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Ts(a.children,h,m,i);case v:_=8,h|=24;break;case x:return n=jn(12,a,i,h|2),n.elementType=x,n.lanes=m,n;case K:return n=jn(13,a,i,h),n.elementType=K,n.lanes=m,n;case q:return n=jn(19,a,i,h),n.elementType=q,n.lanes=m,n;case Y:return ty(a,h,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:case U:_=10;break e;case C:_=9;break e;case M:_=11;break e;case G:_=14;break e;case Z:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=jn(_,a,i,h),i.elementType=n,i.type=l,i.lanes=m,i}function Ts(n,i,a,l){return n=jn(7,n,l,i),n.lanes=a,n}function ty(n,i,a,l){n=jn(22,n,l,i),n.elementType=Y,n.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=h._current;if(m===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var _=gi(m,2);_!==null&&(h._pendingVisibility|=2,Jt(_,m,2))}},attach:function(){var m=h._current;if(m===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var _=gi(m,2);_!==null&&(h._pendingVisibility&=-3,Jt(_,m,2))}}};return n.stateNode=h,n}function Ad(n,i,a){return n=jn(6,n,null,i),n.lanes=a,n}function jd(n,i,a){return i=jn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Br(n){n.flags|=4}function ny(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!zy(i)){if(i=En.current,i!==null&&((ke&4194176)===ke?fr!==null:(ke&62914560)!==ke&&(ke&536870912)===0||i!==fr))throw bo=Rh,bp;n.flags|=8192}}function jc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?ii():536870912,n.lanes|=i,xa|=i)}function Mo(n,i){if(!Me)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Je(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function O0(n,i,a){var l=i.pendingProps;switch(Nh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(i),null;case 1:return Je(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ur(St),_r(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(po(i)?Br(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vn!==null&&(Pd(Vn),Vn=null))),Je(i),null;case 26:return a=i.memoizedState,n===null?(Br(i),a!==null?(Je(i),ny(i,a)):(Je(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Br(i),Je(i),ny(i,a)):(Je(i),i.flags&=-16777217):(n.memoizedProps!==l&&Br(i),Je(i),i.flags&=-16777217),null;case 27:Fs(i),a=fn.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Br(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Je(i),null}n=Qt.current,po(i)?yp(i):(n=Ry(h,l,a),i.stateNode=n,Br(i))}return Je(i),null;case 5:if(Fs(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Br(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Je(i),null}if(n=Qt.current,po(i))yp(i);else{switch(h=Uc(fn.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[jt]=i,n[xt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(Ft(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Br(i)}}return Je(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Br(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=fn.current,po(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[jt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ay(n.nodeValue,a)),n||fs(i)}else n=Uc(n).createTextNode(l),n[jt]=i,i.stateNode=n}return Je(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=po(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[jt]=i}else go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),h=!1}else Vn!==null&&(Pd(Vn),Vn=null),h=!0;if(!h)return i.flags&256?(Or(i),i):(Or(i),null)}if(Or(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),jc(i,i.updateQueue),Je(i),null;case 4:return _r(),n===null&&Gd(i.stateNode.containerInfo),Je(i),null;case 10:return Ur(i.type),Je(i),null;case 19:if(rt(Et),h=i.memoizedState,h===null)return Je(i),null;if(l=(i.flags&128)!==0,m=h.rendering,m===null)if(l)Mo(h,!1);else{if(st!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=uc(n),m!==null){for(i.flags|=128,Mo(h,!1),n=m.updateQueue,i.updateQueue=n,jc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)ey(a,n),a=a.sibling;return Fe(Et,Et.current&1|2),i.child}n=n.sibling}h.tail!==null&&nn()>Cc&&(i.flags|=128,l=!0,Mo(h,!1),i.lanes=4194304)}else{if(!l)if(n=uc(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,jc(i,n),Mo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Me)return Je(i),null}else 2*nn()-h.renderingStartTime>Cc&&a!==536870912&&(i.flags|=128,l=!0,Mo(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(n=h.last,n!==null?n.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,n=Et.current,Fe(Et,l?n&1|2:n&1),i):(Je(i),null);case 22:case 23:return Or(i),Oh(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Je(i),i.subtreeFlags&6&&(i.flags|=8192)):Je(i),a=i.updateQueue,a!==null&&jc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&rt(ps),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ur(St),Je(i),null;case 25:return null}throw Error(s(156,i.tag))}function P0(n,i){switch(Nh(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ur(St),_r(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Fs(i),null;case 13:if(Or(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));go()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return rt(Et),null;case 4:return _r(),null;case 10:return Ur(i.type),null;case 22:case 23:return Or(i),Oh(),n!==null&&rt(ps),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ur(St),null;case 25:return null;default:return null}}function ry(n,i){switch(Nh(i),i.tag){case 3:Ur(St),_r();break;case 26:case 27:case 5:Fs(i);break;case 4:_r();break;case 13:Or(i);break;case 19:rt(Et);break;case 10:Ur(i.type);break;case 22:case 23:Or(i),Oh(),n!==null&&rt(ps);break;case 24:Ur(St)}}var M0={getCacheForType:function(n){var i=Kt(St),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},L0=typeof WeakMap=="function"?WeakMap:Map,et=0,Ke=null,je=null,ke=0,Qe=0,hn=null,qr=!1,_a=!1,Cd=!1,Hr=0,st=0,ki=0,Es=0,kd=0,Cn=0,xa=0,Lo=null,or=null,Nd=!1,Id=0,Cc=1/0,kc=null,Ni=null,Nc=!1,Ss=null,Uo=0,Rd=0,Dd=null,Vo=0,Od=null;function dn(){if((et&2)!==0&&ke!==0)return ke&-ke;if(S.T!==null){var n=fa;return n!==0?n:Bd()}return Ml()}function iy(){Cn===0&&(Cn=(ke&536870912)===0||Me?Ya():536870912);var n=En.current;return n!==null&&(n.flags|=32),Cn}function Jt(n,i,a){(n===Ke&&Qe===2||n.cancelPendingCommit!==null)&&(Ta(n,0),$r(n,ke,Cn,!1)),ft(n,a),((et&2)===0||n!==Ke)&&(n===Ke&&((et&2)===0&&(Es|=a),st===4&&$r(n,ke,Cn,!1)),lr(n))}function sy(n,i,a){if((et&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&n.expiredLanes)===0||ri(n,i),h=l?z0(n,i):Ud(n,i,!0),m=l;do{if(h===0){_a&&!l&&$r(n,i,0,!1);break}else if(h===6)$r(n,i,0,!qr);else{if(a=n.current.alternate,m&&!U0(a)){h=Ud(n,i,!1),m=!1;continue}if(h===2){if(m=i,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=n;h=Lo;var k=T.current.memoizedState.isDehydrated;if(k&&(Ta(T,_).flags|=256),_=Ud(T,_,!1),_!==2){if(Cd&&!k){T.errorRecoveryDisabledLanes|=m,Es|=m,h=4;break e}m=or,or=h,m!==null&&Pd(m)}h=_}if(m=!1,h!==2)continue}}if(h===1){Ta(n,0),$r(n,i,0,!0);break}e:{switch(l=n,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){$r(l,i,Cn,!qr);break e}break;case 2:or=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(m=Id+300-nn(),10<m)){if($r(l,i,Cn,!qr),mn(l,0)!==0)break e;l.timeoutHandle=ky(ay.bind(null,l,a,or,kc,Nd,i,Cn,Es,xa,qr,2,-0,0),m);break e}ay(l,a,or,kc,Nd,i,Cn,Es,xa,qr,0,-0,0)}}break}while(!0);lr(n)}function Pd(n){or===null?or=n:or.push.apply(or,n)}function ay(n,i,a,l,h,m,_,T,k,L,W,ee,H){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&($o={stylesheets:null,count:0,unsuspend:bx},Yg(i),i=_x(),i!==null)){n.cancelPendingCommit=i(fy.bind(null,n,a,l,h,_,T,k,1,ee,H)),$r(n,m,_,!L);return}fy(n,a,l,h,_,T,k,W,ee,H)}function U0(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!ln(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $r(n,i,a,l){i&=~kd,i&=~Es,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var m=31-Wt(h),_=1<<m;l[m]=-1,h&=~_}a!==0&&si(n,a,i)}function Ic(){return(et&6)===0?(zo(0),!1):!0}function Md(){if(je!==null){if(Qe===0)var n=je.return;else n=je,Lr=ws=null,Bh(n),ha=null,wo=0,n=je;for(;n!==null;)ry(n.alternate,n),n=n.return;je=null}}function Ta(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,rx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Md(),Ke=n,je=a=Ci(n.current,null),ke=i,Qe=0,hn=null,qr=!1,_a=ri(n,i),Cd=!1,xa=Cn=kd=Es=ki=st=0,or=Lo=null,Nd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Wt(l),m=1<<h;i|=n[h],l&=~m}return Hr=i,tc(),a}function oy(n,i){Se=null,S.H=ar,i===vo?(i=xp(),Qe=3):i===bp?(i=xp(),Qe=4):Qe=i===wg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,je===null&&(st=1,_c(n,_n(i,n.current)))}function ly(){var n=S.H;return S.H=ar,n===null?ar:n}function cy(){var n=S.A;return S.A=M0,n}function Ld(){st=4,qr||(ke&4194176)!==ke&&En.current!==null||(_a=!0),(ki&134217727)===0&&(Es&134217727)===0||Ke===null||$r(Ke,ke,Cn,!1)}function Ud(n,i,a){var l=et;et|=2;var h=ly(),m=cy();(Ke!==n||ke!==i)&&(kc=null,Ta(n,i)),i=!1;var _=st;e:do try{if(Qe!==0&&je!==null){var T=je,k=hn;switch(Qe){case 8:Md(),_=6;break e;case 3:case 2:case 6:En.current===null&&(i=!0);var L=Qe;if(Qe=0,hn=null,Ea(n,T,k,L),a&&_a){_=0;break e}break;default:L=Qe,Qe=0,hn=null,Ea(n,T,k,L)}}V0(),_=st;break}catch(W){oy(n,W)}while(!0);return i&&n.shellSuspendCounter++,Lr=ws=null,et=l,S.H=h,S.A=m,je===null&&(Ke=null,ke=0,tc()),_}function V0(){for(;je!==null;)uy(je)}function z0(n,i){var a=et;et|=2;var l=ly(),h=cy();Ke!==n||ke!==i?(kc=null,Cc=nn()+500,Ta(n,i)):_a=ri(n,i);e:do try{if(Qe!==0&&je!==null){i=je;var m=hn;t:switch(Qe){case 1:Qe=0,hn=null,Ea(n,i,m,1);break;case 2:if(wp(m)){Qe=0,hn=null,hy(i);break}i=function(){Qe===2&&Ke===n&&(Qe=7),lr(n)},m.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:wp(m)?(Qe=0,hn=null,hy(i)):(Qe=0,hn=null,Ea(n,i,m,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var T=je;if(!_||zy(_)){Qe=0,hn=null;var k=T.sibling;if(k!==null)je=k;else{var L=T.return;L!==null?(je=L,Rc(L)):je=null}break t}}Qe=0,hn=null,Ea(n,i,m,5);break;case 6:Qe=0,hn=null,Ea(n,i,m,6);break;case 8:Md(),st=6;break e;default:throw Error(s(462))}}F0();break}catch(W){oy(n,W)}while(!0);return Lr=ws=null,S.H=l,S.A=h,et=a,je!==null?0:(Ke=null,ke=0,tc(),st)}function F0(){for(;je!==null&&!dh();)uy(je)}function uy(n){var i=Rg(n.alternate,n,Hr);n.memoizedProps=n.pendingProps,i===null?Rc(n):je=i}function hy(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Ag(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=Ag(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:Bh(i);default:ry(a,i),i=je=ey(i,Hr),i=Rg(a,i,Hr)}n.memoizedProps=n.pendingProps,i===null?Rc(n):je=i}function Ea(n,i,a,l){Lr=ws=null,Bh(i),ha=null,wo=0;var h=i.return;try{if(k0(n,h,i,a,ke)){st=1,_c(n,_n(a,n.current)),je=null;return}}catch(m){if(h!==null)throw je=h,m;st=1,_c(n,_n(a,n.current)),je=null;return}i.flags&32768?(Me||l===1?n=!0:_a||(ke&536870912)!==0?n=!1:(qr=n=!0,(l===2||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(i,n)):Rc(i)}function Rc(n){var i=n;do{if((i.flags&32768)!==0){dy(i,qr);return}n=i.return;var a=O0(i.alternate,i,Hr);if(a!==null){je=a;return}if(i=i.sibling,i!==null){je=i;return}je=i=n}while(i!==null);st===0&&(st=5)}function dy(n,i){do{var a=P0(n.alternate,n);if(a!==null){a.flags&=32767,je=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){je=n;return}je=n=a}while(n!==null);st=6,je=null}function fy(n,i,a,l,h,m,_,T,k,L){var W=S.T,ee=le.p;try{le.p=2,S.T=null,B0(n,i,a,l,ee,h,m,_,T,k,L)}finally{S.T=W,le.p=ee}}function B0(n,i,a,l,h,m,_,T){do Sa();while(Ss!==null);if((et&6)!==0)throw Error(s(327));var k=n.finishedWork;if(l=n.finishedLanes,k===null)return null;if(n.finishedWork=null,n.finishedLanes=0,k===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var L=k.lanes|k.childLanes;if(L|=jh,Ol(n,l,L,m,_,T),n===Ke&&(je=Ke=null,ke=0),(k.subtreeFlags&10256)===0&&(k.flags&10256)===0||Nc||(Nc=!0,Rd=L,Dd=a,G0(xr,function(){return Sa(),null})),a=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,m=le.p,le.p=2,_=et,et|=4,I0(n,k),Kg(k,n),d0(Yd,n.containerInfo),Hc=!!Wd,Yd=Wd=null,n.current=k,qg(n,k.alternate,k),Ga(),et=_,le.p=m,S.T=a):n.current=k,Nc?(Nc=!1,Ss=n,Uo=l):my(n,L),L=n.pendingLanes,L===0&&(Ni=null),Qa(k.stateNode),lr(n),i!==null)for(h=n.onRecoverableError,k=0;k<i.length;k++)L=i[k],h(L.value,{componentStack:L.stack});return(Uo&3)!==0&&Sa(),L=n.pendingLanes,(l&4194218)!==0&&(L&42)!==0?n===Od?Vo++:(Vo=0,Od=n):Vo=0,zo(0),null}function my(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,xo(i)))}function Sa(){if(Ss!==null){var n=Ss,i=Rd;Rd=0;var a=Pl(Uo),l=S.T,h=le.p;try{if(le.p=32>a?32:a,S.T=null,Ss===null)var m=!1;else{a=Dd,Dd=null;var _=Ss,T=Uo;if(Ss=null,Uo=0,(et&6)!==0)throw Error(s(331));var k=et;if(et|=4,Zg(_.current),Wg(_,_.current,T,a),et=k,zo(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ti,_)}catch{}m=!0}return m}finally{le.p=h,S.T=l,my(n,i)}}return!1}function py(n,i,a){i=_n(a,i),i=nd(n.stateNode,i,2),n=Ei(n,i,2),n!==null&&(ft(n,2),lr(n))}function He(n,i,a){if(n.tag===3)py(n,n,a);else for(;i!==null;){if(i.tag===3){py(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ni===null||!Ni.has(l))){n=_n(a,n),a=vg(2),l=Ei(i,a,2),l!==null&&(bg(a,l,i,n),ft(l,2),lr(l));break}}i=i.return}}function Vd(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new L0;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Cd=!0,h.add(a),n=q0.bind(null,n,i,a),i.then(n,n))}function q0(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ke===n&&(ke&a)===a&&(st===4||st===3&&(ke&62914560)===ke&&300>nn()-Id?(et&2)===0&&Ta(n,0):kd|=a,xa===ke&&(xa=0)),lr(n)}function gy(n,i){i===0&&(i=ii()),n=gi(n,i),n!==null&&(ft(n,i),lr(n))}function H0(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),gy(n,a)}function $0(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),gy(n,a)}function G0(n,i){return Wi(n,i)}var Dc=null,Aa=null,zd=!1,Oc=!1,Fd=!1,As=0;function lr(n){n!==Aa&&n.next===null&&(Aa===null?Dc=Aa=n:Aa=Aa.next=n),Oc=!0,zd||(zd=!0,Q0(K0))}function zo(n,i){if(!Fd&&Oc){Fd=!0;do for(var a=!1,l=Dc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var _=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-Wt(42|n)+1)-1,m&=h&~(_&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,by(l,m))}else m=ke,m=mn(l,l===Ke?m:0),(m&3)===0||ri(l,m)||(a=!0,by(l,m));l=l.next}while(a);Fd=!1}}function K0(){Oc=zd=!1;var n=0;As!==0&&(nx()&&(n=As),As=0);for(var i=nn(),a=null,l=Dc;l!==null;){var h=l.next,m=yy(l,i);m===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(Aa=a)):(a=l,(n!==0||(m&3)!==0)&&(Oc=!0)),l=h}zo(n)}function yy(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-Wt(m),T=1<<_,k=h[_];k===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Hs(T,i)):k<=i&&(n.expiredLanes|=T),m&=~T}if(i=Ke,a=ke,a=mn(n,n===i?a:0),l=n.callbackNode,a===0||n===i&&Qe===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&qs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ri(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&qs(l),Pl(a)){case 2:case 8:a=At;break;case 32:a=xr;break;case 268435456:a=Ka;break;default:a=xr}return l=vy.bind(null,n),a=Wi(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&qs(l),n.callbackPriority=2,n.callbackNode=null,2}function vy(n,i){var a=n.callbackNode;if(Sa()&&n.callbackNode!==a)return null;var l=ke;return l=mn(n,n===Ke?l:0),l===0?null:(sy(n,l,i),yy(n,nn()),n.callbackNode!=null&&n.callbackNode===a?vy.bind(null,n):null)}function by(n,i){if(Sa())return null;sy(n,i,!0)}function Q0(n){ix(function(){(et&6)!==0?Wi(_t,n):n()})}function Bd(){return As===0&&(As=Ya()),As}function wy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Zn(""+n)}function _y(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function W0(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=wy((h[xt]||null).action),_=l.submitter;_&&(i=(i=_[xt]||null)?wy(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var T=new Xs("action","action",null,l,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(As!==0){var k=_?_y(h,_):new FormData(h);Xh(a,{pending:!0,data:k,method:h.method,action:m},null,k)}}else typeof m=="function"&&(T.preventDefault(),k=_?_y(h,_):new FormData(h),Xh(a,{pending:!0,data:k,method:h.method,action:m},m,k))},currentTarget:h}]})}}for(var qd=0;qd<fp.length;qd++){var Hd=fp[qd],Y0=Hd.toLowerCase(),X0=Hd[0].toUpperCase()+Hd.slice(1);Un(Y0,"on"+X0)}Un(lp,"onAnimationEnd"),Un(cp,"onAnimationIteration"),Un(up,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(m0,"onTransitionRun"),Un(p0,"onTransitionStart"),Un(g0,"onTransitionCancel"),Un(hp,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function xy(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],k=T.instance,L=T.currentTarget;if(T=T.listener,k!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=L;try{m(h)}catch(W){wc(W)}h.currentTarget=null,m=k}else for(_=0;_<l.length;_++){if(T=l[_],k=T.instance,L=T.currentTarget,T=T.listener,k!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=L;try{m(h)}catch(W){wc(W)}h.currentTarget=null,m=k}}}}function Ce(n,i){var a=i[Xi];a===void 0&&(a=i[Xi]=new Set);var l=n+"__bubble";a.has(l)||(Ty(i,n,2,!1),a.add(l))}function $d(n,i,a){var l=0;i&&(l|=4),Ty(a,n,l,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Gd(n){if(!n[Pc]){n[Pc]=!0,Za.forEach(function(a){a!=="selectionchange"&&(Z0.has(a)||$d(a,!1,n),$d(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,$d("selectionchange",!1,i))}}function Ty(n,i,a,l){switch(Gy(i)){case 2:var h=Ex;break;case 8:h=Sx;break;default:h=af}a=h.bind(null,i,a,n),h=void 0,!vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function Kd(n,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var k=_.tag;if((k===3||k===4)&&(k=_.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Ln(T),_===null)return;if(k=_.tag,k===5||k===6||k===26||k===27){l=m=_;continue e}T=T.parentNode}}l=l.return}zl(function(){var L=m,W=Ys(a),ee=[];e:{var H=dp.get(n);if(H!==void 0){var Q=Xs,fe=n;switch(n){case"keypress":if(er(a)===0)break e;case"keydown":case"keyup":Q=ra;break;case"focusin":fe="focus",Q=ea;break;case"focusout":fe="blur",Q=ea;break;case"beforeblur":case"afterblur":Q=ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ql;break;case lp:case cp:case up:Q=ta;break;case hp:Q=Yl;break;case"scroll":case"scrollend":Q=Fl;break;case"wheel":Q=ia;break;case"copy":case"cut":case"paste":Q=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=uo;break;case"toggle":case"beforetoggle":Q=Zl}var xe=(i&4)!==0,at=!xe&&(n==="scroll"||n==="scrollend"),V=xe?H!==null?H+"Capture":null:H;xe=[];for(var P=L,B;P!==null;){var J=P;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||V===null||(J=ns(P,V),J!=null&&xe.push(Bo(P,J,B))),at)break;P=P.return}0<xe.length&&(H=new Q(H,fe,null,a,W),ee.push({event:H,listeners:xe}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",H&&a!==yn&&(fe=a.relatedTarget||a.fromElement)&&(Ln(fe)||fe[Tr]))break e;if((Q||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=L,fe=fe?Ln(fe):null,fe!==null&&(at=te(fe),xe=fe.tag,fe!==at||xe!==5&&xe!==27&&xe!==6)&&(fe=null)):(Q=null,fe=L),Q!==fe)){if(xe=bn,J="onMouseLeave",V="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(xe=uo,J="onPointerLeave",V="onPointerEnter",P="pointer"),at=Q==null?H:ci(Q),B=fe==null?H:ci(fe),H=new xe(J,P+"leave",Q,a,W),H.target=at,H.relatedTarget=B,J=null,Ln(W)===L&&(xe=new xe(V,P+"enter",fe,a,W),xe.target=B,xe.relatedTarget=at,J=xe),at=J,Q&&fe)t:{for(xe=Q,V=fe,P=0,B=xe;B;B=ja(B))P++;for(B=0,J=V;J;J=ja(J))B++;for(;0<P-B;)xe=ja(xe),P--;for(;0<B-P;)V=ja(V),B--;for(;P--;){if(xe===V||V!==null&&xe===V.alternate)break t;xe=ja(xe),V=ja(V)}xe=null}else xe=null;Q!==null&&Ey(ee,H,Q,xe,!1),fe!==null&&at!==null&&Ey(ee,at,fe,xe,!0)}}e:{if(H=L?ci(L):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var he=Xm;else if(Nt(H))if(Zm)he=u0;else{he=l0;var Ae=o0}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&ro(L.elementType)&&(he=Xm):he=c0;if(he&&(he=he(n,L))){Ir(ee,he,a,W);break e}Ae&&Ae(n,H,L),n==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Ws(H,"number",H.value)}switch(Ae=L?ci(L):window,n){case"focusin":(Nt(Ae)||Ae.contentEditable==="true")&&(sa=Ae,Eh=L,mo=null);break;case"focusout":mo=Eh=sa=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,ap(ee,a,W);break;case"selectionchange":if(f0)break;case"keydown":case"keyup":ap(ee,a,W)}var me;if(rr)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Re?$(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(w&&a.locale!=="ko"&&(Re||we!=="onCompositionStart"?we==="onCompositionEnd"&&Re&&(me=so()):(Jn=W,pi="value"in Jn?Jn.value:Jn.textContent,Re=!0)),Ae=Mc(L,we),0<Ae.length&&(we=new lo(we,n,null,a,W),ee.push({event:we,listeners:Ae}),me?we.data=me:(me=ne(a),me!==null&&(we.data=me)))),(me=b?Tt(n,a):De(n,a))&&(we=Mc(L,"onBeforeInput"),0<we.length&&(Ae=new lo("onBeforeInput","beforeinput",null,a,W),ee.push({event:Ae,listeners:we}),Ae.data=me)),W0(ee,n,L,a,W)}xy(ee,i)})}function Bo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Mc(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,m=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ns(n,a),h!=null&&l.unshift(Bo(n,h,m)),h=ns(n,i),h!=null&&l.push(Bo(n,h,m))),n=n.return}return l}function ja(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ey(n,i,a,l,h){for(var m=i._reactName,_=[];a!==null&&a!==l;){var T=a,k=T.alternate,L=T.stateNode;if(T=T.tag,k!==null&&k===l)break;T!==5&&T!==26&&T!==27||L===null||(k=L,h?(L=ns(a,m),L!=null&&_.unshift(Bo(a,L,k))):h||(L=ns(a,m),L!=null&&_.push(Bo(a,L,k)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var J0=/\r\n?/g,ex=/\u0000|\uFFFD/g;function Sy(n){return(typeof n=="string"?n:""+n).replace(J0,`
`).replace(ex,"")}function Ay(n,i){return i=Sy(i),Sy(n)===i}function Lc(){}function qe(n,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(n,""+l);break;case"className":di(n,"class",l);break;case"tabIndex":di(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":di(n,a,l);break;case"style":Vl(n,l,m);break;case"data":if(i!=="object"){di(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Zn(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&qe(n,i,"name",h.name,h,null),qe(n,i,"formEncType",h.formEncType,h,null),qe(n,i,"formMethod",h.formMethod,h,null),qe(n,i,"formTarget",h.formTarget,h,null)):(qe(n,i,"encType",h.encType,h,null),qe(n,i,"method",h.method,h,null),qe(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Zn(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Lc);break;case"onScroll":l!=null&&Ce("scroll",n);break;case"onScrollEnd":l!=null&&Ce("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Zn(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ce("beforetoggle",n),Ce("toggle",n),hi(n,"popover",l);break;case"xlinkActuate":pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yh.get(a)||a,hi(n,a,l))}}function Qd(n,i,a,l,h,m){switch(a){case"style":Vl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?gn(n,l):(typeof l=="number"||typeof l=="bigint")&&gn(n,""+l);break;case"onScroll":l!=null&&Ce("scroll",n);break;case"onScrollEnd":l!=null&&Ce("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=n[xt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):hi(n,a,l)}}}function Ft(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",n),Ce("load",n);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:qe(n,i,m,_,a,null)}}h&&qe(n,i,"srcSet",a.srcSet,a,null),l&&qe(n,i,"src",a.src,a,null);return;case"input":Ce("invalid",n);var T=m=_=h=null,k=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":k=W;break;case"defaultChecked":L=W;break;case"value":m=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:qe(n,i,l,W,a,null)}}es(n,m,T,k,L,_,h,!1),Ji(n);return;case"select":Ce("invalid",n),l=_=m=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":m=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:qe(n,i,h,T,a,null)}i=m,a=_,n.multiple=!!l,i!=null?Pe(n,!!l,i,!1):a!=null&&Pe(n,!!l,a,!0);return;case"textarea":Ce("invalid",n),m=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:qe(n,i,_,T,a,null)}mi(n,l,h,m),Ji(n);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qe(n,i,k,l,a,null)}return;case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":Ce("load",n);break;case"video":case"audio":for(l=0;l<Fo.length;l++)Ce(Fo[l],n);break;case"image":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"embed":case"source":case"link":Ce("error",n),Ce("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:qe(n,i,L,l,a,null)}return;default:if(ro(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Qd(n,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&qe(n,i,T,l,a,null))}function tx(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,_=null,T=null,k=null,L=null,W=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=ee;default:l.hasOwnProperty(Q)||qe(n,i,Q,null,l,ee)}}for(var H in l){var Q=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(Q!=null||ee!=null))switch(H){case"type":m=Q;break;case"name":h=Q;break;case"checked":L=Q;break;case"defaultChecked":W=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ee&&qe(n,i,H,Q,l,ee)}}fi(n,_,T,k,L,W,m,h);return;case"select":Q=_=T=H=null;for(m in a)if(k=a[m],a.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":Q=k;default:l.hasOwnProperty(m)||qe(n,i,m,null,l,k)}for(h in l)if(m=l[h],k=a[h],l.hasOwnProperty(h)&&(m!=null||k!=null))switch(h){case"value":H=m;break;case"defaultValue":T=m;break;case"multiple":_=m;default:m!==k&&qe(n,i,h,m,l,k)}i=T,a=_,l=Q,H!=null?Pe(n,!!a,H,!1):!!l!=!!a&&(i!=null?Pe(n,!!a,i,!0):Pe(n,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:qe(n,i,T,null,l,h)}for(_ in l)if(h=l[_],m=a[_],l.hasOwnProperty(_)&&(h!=null||m!=null))switch(_){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&qe(n,i,_,h,l,m)}ts(n,H,Q);return;case"option":for(var fe in a)if(H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:qe(n,i,fe,null,l,H)}for(k in l)if(H=l[k],Q=a[k],l.hasOwnProperty(k)&&H!==Q&&(H!=null||Q!=null))switch(k){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:qe(n,i,k,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)H=a[xe],a.hasOwnProperty(xe)&&H!=null&&!l.hasOwnProperty(xe)&&qe(n,i,xe,null,l,H);for(L in l)if(H=l[L],Q=a[L],l.hasOwnProperty(L)&&H!==Q&&(H!=null||Q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:qe(n,i,L,H,l,Q)}return;default:if(ro(i)){for(var at in a)H=a[at],a.hasOwnProperty(at)&&H!==void 0&&!l.hasOwnProperty(at)&&Qd(n,i,at,void 0,l,H);for(W in l)H=l[W],Q=a[W],!l.hasOwnProperty(W)||H===Q||H===void 0&&Q===void 0||Qd(n,i,W,H,l,Q);return}}for(var V in a)H=a[V],a.hasOwnProperty(V)&&H!=null&&!l.hasOwnProperty(V)&&qe(n,i,V,null,l,H);for(ee in l)H=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||H===Q||H==null&&Q==null||qe(n,i,ee,H,l,Q)}var Wd=null,Yd=null;function Uc(n){return n.nodeType===9?n:n.ownerDocument}function jy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Xd(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zd=null;function nx(){var n=window.event;return n&&n.type==="popstate"?n===Zd?!1:(Zd=n,!0):(Zd=null,!1)}var ky=typeof setTimeout=="function"?setTimeout:void 0,rx=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,ix=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(n){return Ny.resolve(null).then(n).catch(sx)}:ky;function sx(n){setTimeout(function(){throw n})}function Jd(n,i){var a=i,l=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){n.removeChild(h),Yo(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Yo(i)}function ef(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ef(a),Zi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function ax(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[li])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence")||m!==h.rel||n.getAttribute("href")!==(h.href==null?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Fn(n.nextSibling),n===null)break}return null}function ox(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Fn(n.nextSibling),n===null))return null;return n}function Fn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function Iy(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function Ry(n,i,a){switch(i=Uc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var kn=new Map,Dy=new Set;function Vc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Gr=le.d;le.d={f:lx,r:cx,D:ux,C:hx,L:dx,m:fx,X:px,S:mx,M:gx};function lx(){var n=Gr.f(),i=Ic();return n||i}function cx(n){var i=Er(n);i!==null&&i.tag===5&&i.type==="form"?ag(i):Gr.r(n)}var Ca=typeof document>"u"?null:document;function Oy(n,i,a){var l=Ca;if(l&&typeof i=="string"&&i){var h=ct(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Dy.has(h)||(Dy.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",n),Ze(i),l.head.appendChild(i)))}}function ux(n){Gr.D(n),Oy("dns-prefetch",n,null)}function hx(n,i){Gr.C(n,i),Oy("preconnect",n,i)}function dx(n,i,a){Gr.L(n,i,a);var l=Ca;if(l&&n&&i){var h='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ct(a.imageSizes)+'"]')):h+='[href="'+ct(n)+'"]';var m=h;switch(i){case"style":m=ka(n);break;case"script":m=Na(n)}kn.has(m)||(n=N({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),kn.set(m,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(qo(m))||i==="script"&&l.querySelector(Ho(m))||(i=l.createElement("link"),Ft(i,"link",n),Ze(i),l.head.appendChild(i)))}}function fx(n,i){Gr.m(n,i);var a=Ca;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ct(l)+'"][href="'+ct(n)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Na(n)}if(!kn.has(m)&&(n=N({rel:"modulepreload",href:n},i),kn.set(m,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ho(m)))return}l=a.createElement("link"),Ft(l,"link",n),Ze(l),a.head.appendChild(l)}}}function mx(n,i,a){Gr.S(n,i,a);var l=Ca;if(l&&n){var h=ui(l).hoistableStyles,m=ka(n);i=i||"default";var _=h.get(m);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(qo(m)))T.loading=5;else{n=N({rel:"stylesheet",href:n,"data-precedence":i},a),(a=kn.get(m))&&tf(n,a);var k=_=l.createElement("link");Ze(k),Ft(k,"link",n),k._p=new Promise(function(L,W){k.onload=L,k.onerror=W}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(m,_)}}}function px(n,i){Gr.X(n,i);var a=Ca;if(a&&n){var l=ui(a).hoistableScripts,h=Na(n),m=l.get(h);m||(m=a.querySelector(Ho(h)),m||(n=N({src:n,async:!0},i),(i=kn.get(h))&&nf(n,i),m=a.createElement("script"),Ze(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function gx(n,i){Gr.M(n,i);var a=Ca;if(a&&n){var l=ui(a).hoistableScripts,h=Na(n),m=l.get(h);m||(m=a.querySelector(Ho(h)),m||(n=N({src:n,async:!0,type:"module"},i),(i=kn.get(h))&&nf(n,i),m=a.createElement("script"),Ze(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Py(n,i,a,l){var h=(h=fn.current)?Vc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=ui(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ka(a.href);var m=ui(h).hoistableStyles,_=m.get(n);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=h.querySelector(qo(n)))&&!m._p&&(_.instance=m,_.state.loading=5),kn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(n,a),m||yx(h,n,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Na(a),a=ui(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ka(n){return'href="'+ct(n)+'"'}function qo(n){return'link[rel="stylesheet"]['+n+"]"}function My(n){return N({},n,{"data-precedence":n.precedence,precedence:null})}function yx(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),Ze(i),n.head.appendChild(i))}function Na(n){return'[src="'+ct(n)+'"]'}function Ho(n){return"script[async]"+n}function Ly(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+ct(a.href)+'"]');if(l)return i.instance=l,Ze(l),l;var h=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ze(l),Ft(l,"style",h),zc(l,a.precedence,n),i.instance=l;case"stylesheet":h=ka(a.href);var m=n.querySelector(qo(h));if(m)return i.state.loading|=4,i.instance=m,Ze(m),m;l=My(a),(h=kn.get(h))&&tf(l,h),m=(n.ownerDocument||n).createElement("link"),Ze(m);var _=m;return _._p=new Promise(function(T,k){_.onload=T,_.onerror=k}),Ft(m,"link",l),i.state.loading|=4,zc(m,a.precedence,n),i.instance=m;case"script":return m=Na(a.src),(h=n.querySelector(Ho(m)))?(i.instance=h,Ze(h),h):(l=a,(h=kn.get(m))&&(l=N({},a),nf(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),Ze(h),Ft(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,n));return i.instance}function zc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)m=T;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function tf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function nf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Fc=null;function Uy(n,i,a){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(a,l)}else h=Fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[li]||m[jt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=n+_;var T=l.get(_);T?T.push(m):l.set(_,[m])}}return l}function Vy(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function vx(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var $o=null;function bx(){}function wx(n,i,a){if($o===null)throw Error(s(475));var l=$o;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ka(a.href),m=n.querySelector(qo(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Bc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,Ze(m);return}m=n.ownerDocument||n,a=My(a),(h=kn.get(h))&&tf(a,h),m=m.createElement("link"),Ze(m);var _=m;_._p=new Promise(function(T,k){_.onload=T,_.onerror=k}),Ft(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Bc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function _x(){if($o===null)throw Error(s(475));var n=$o;return n.stylesheets&&n.count===0&&rf(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&rf(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var qc=null;function rf(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,qc=new Map,i.forEach(xx,n),qc=null,Bc.call(n))}function xx(n,i){if(!(i.state.loading&4)){var a=qc.get(n);if(a)var l=a.get(null);else{a=new Map,qc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var _=h[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,h),a.set(_,h),this.count++,l=Bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Go={$$typeof:U,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function Tx(n,i,a,l,h,m,_,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.hiddenUpdates=$s(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Fy(n,i,a,l,h,m,_,T,k,L,W,ee){return n=new Tx(n,i,a,_,T,k,L,ee),i=1,m===!0&&(i|=24),m=jn(3,null,null,i),n.current=m,m.stateNode=n,i=Ph(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},pd(m),n}function By(n){return n?(n=la,n):la}function qy(n,i,a,l,h,m){h=By(h),l.context===null?l.context=h:l.pendingContext=h,l=Ti(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ei(n,l,i),a!==null&&(Jt(a,n,i),ko(a,n,i))}function Hy(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function sf(n,i){Hy(n,i),(n=n.alternate)&&Hy(n,i)}function $y(n){if(n.tag===13){var i=gi(n,67108864);i!==null&&Jt(i,n,67108864),sf(n,67108864)}}var Hc=!0;function Ex(n,i,a,l){var h=S.T;S.T=null;var m=le.p;try{le.p=2,af(n,i,a,l)}finally{le.p=m,S.T=h}}function Sx(n,i,a,l){var h=S.T;S.T=null;var m=le.p;try{le.p=8,af(n,i,a,l)}finally{le.p=m,S.T=h}}function af(n,i,a,l){if(Hc){var h=of(l);if(h===null)Kd(n,i,l,$c,a),Ky(n,l);else if(jx(h,n,i,a,l))l.stopPropagation();else if(Ky(n,l),i&4&&-1<Ax.indexOf(n)){for(;h!==null;){var m=Er(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Mn(m.pendingLanes);if(_!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var k=1<<31-Wt(_);T.entanglements[1]|=k,_&=~k}lr(m),(et&6)===0&&(Cc=nn()+500,zo(0))}}break;case 13:T=gi(m,2),T!==null&&Jt(T,m,2),Ic(),sf(m,2)}if(m=of(l),m===null&&Kd(n,i,l,$c,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Kd(n,i,l,null,a)}}function of(n){return n=Ys(n),lf(n)}var $c=null;function lf(n){if($c=null,n=Ln(n),n!==null){var i=te(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=_e(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return $c=n,null}function Gy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nl()){case _t:return 2;case At:return 8;case xr:case Il:return 32;case Ka:return 268435456;default:return 32}default:return 32}}var cf=!1,Ii=null,Ri=null,Di=null,Ko=new Map,Qo=new Map,Oi=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ky(n,i){switch(n){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Ko.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(i.pointerId)}}function Wo(n,i,a,l,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Er(i),i!==null&&$y(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function jx(n,i,a,l,h){switch(i){case"focusin":return Ii=Wo(Ii,n,i,a,l,h),!0;case"dragenter":return Ri=Wo(Ri,n,i,a,l,h),!0;case"mouseover":return Di=Wo(Di,n,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return Ko.set(m,Wo(Ko.get(m)||null,n,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Qo.set(m,Wo(Qo.get(m)||null,n,i,a,l,h)),!0}return!1}function Qy(n){var i=Ln(n.target);if(i!==null){var a=te(i);if(a!==null){if(i=a.tag,i===13){if(i=_e(a),i!==null){n.blockedOn=i,oi(n.priority,function(){if(a.tag===13){var l=dn(),h=gi(a,l);h!==null&&Jt(h,a,l),sf(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=of(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);yn=l,a.target.dispatchEvent(l),yn=null}else return i=Er(a),i!==null&&$y(i),n.blockedOn=a,!1;i.shift()}return!0}function Wy(n,i,a){Gc(n)&&a.delete(i)}function Cx(){cf=!1,Ii!==null&&Gc(Ii)&&(Ii=null),Ri!==null&&Gc(Ri)&&(Ri=null),Di!==null&&Gc(Di)&&(Di=null),Ko.forEach(Wy),Qo.forEach(Wy)}function Kc(n,i){n.blockedOn===i&&(n.blockedOn=null,cf||(cf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cx)))}var Qc=null;function Yy(n){Qc!==n&&(Qc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===n&&(Qc=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(lf(l||a)===null)continue;break}var m=Er(a);m!==null&&(n.splice(i,3),i-=3,Xh(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Yo(n){function i(k){return Kc(k,n)}Ii!==null&&Kc(Ii,n),Ri!==null&&Kc(Ri,n),Di!==null&&Kc(Di,n),Ko.forEach(i),Qo.forEach(i);for(var a=0;a<Oi.length;a++){var l=Oi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Oi.length&&(a=Oi[0],a.blockedOn===null);)Qy(a),a.blockedOn===null&&Oi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],_=h[xt]||null;if(typeof m=="function")_||Yy(a);else if(_){var T=null;if(m&&m.hasAttribute("formAction")){if(h=m,_=m[xt]||null)T=_.formAction;else if(lf(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Yy(a)}}}function uf(n){this._internalRoot=n}Wc.prototype.render=uf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=dn();qy(a,l,n,i,null,null)},Wc.prototype.unmount=uf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&Sa(),qy(n.current,2,null,n,null,null),Ic(),i[Tr]=null}};function Wc(n){this._internalRoot=n}Wc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ml();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Oi.length&&i!==0&&i<Oi[a].priority;a++);Oi.splice(a,0,n),a===0&&Qy(n)}};var Xy=e.version;if(Xy!=="19.0.0")throw Error(s(527,Xy,"19.0.0"));le.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=X(i),n=n!==null?ue(n):null,n=n===null?null:n.stateNode,n};var kx={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Ln,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{ti=Yc.inject(kx),Gt=Yc}catch{}}return Jy.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=mg,m=pg,_=gg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Fy(n,1,!1,null,null,a,l,h,m,_,T,null),n[Tr]=i.current,Gd(n.nodeType===8?n.parentNode:n),new uf(i)},Jy.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",m=mg,_=pg,T=gg,k=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Fy(n,1,!0,i,a??null,l,h,m,_,T,k,L),i.context=By(null),a=i.current,l=dn(),h=Ti(l),h.callback=null,Ei(a,h,l),i.current.lanes=l,ft(i,l),lr(i),n[Tr]=i.current,Gd(n),new Wc(i)},Jy.version="19.0.0",Jy}var dA;function oM(){if(dA)return Ix.exports;dA=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ix.exports=aM(),Ix.exports}var lM=oM(),ev={},fA;function cM(){if(fA)return ev;fA=1,Object.defineProperty(ev,"__esModule",{value:!0}),ev.parse=d,ev.serialize=v;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function d(C,U){const M=new c,K=C.length;if(K<2)return M;const q=(U==null?void 0:U.decode)||x;let G=0;do{const Z=C.indexOf("=",G);if(Z===-1)break;const Y=C.indexOf(";",G),ae=Y===-1?K:Y;if(Z>ae){G=C.lastIndexOf(";",Z-1)+1;continue}const ce=f(C,G,Z),de=p(C,Z,ce),R=C.slice(ce,de);if(M[R]===void 0){let j=f(C,Z+1,ae),S=p(C,ae,j);const N=q(C.slice(j,S));M[R]=N}G=ae+1}while(G<K);return M}function f(C,U,M){do{const K=C.charCodeAt(U);if(K!==32&&K!==9)return U}while(++U<M);return M}function p(C,U,M){for(;U>M;){const K=C.charCodeAt(--U);if(K!==32&&K!==9)return U+1}return M}function v(C,U,M){const K=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const q=K(U);if(!e.test(q))throw new TypeError(`argument val is invalid: ${U}`);let G=C+"="+q;if(!M)return G;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);G+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);G+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);G+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);G+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(G+="; HttpOnly"),M.secure&&(G+="; Secure"),M.partitioned&&(G+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return G}function x(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function A(C){return o.call(C)==="[object Date]"}return ev}cM();/**
* react-router v7.3.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var mA="popstate";function uM(r={}){function e(s,o){let{pathname:c,search:d,hash:f}=s.location;return TT("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Ov(o)}return dM(e,t,null,r)}function On(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function il(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hM(){return Math.random().toString(36).substring(2,10)}function pA(r,e){return{usr:r.state,key:r.key,idx:e}}function TT(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?km(e):e,state:t,key:e&&e.key||s||hM()}}function Ov({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function km(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function dM(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,f="POP",p=null,v=x();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function x(){return(d.state||{idx:null}).idx}function A(){f="POP";let q=x(),G=q==null?null:q-v;v=q,p&&p({action:f,location:K.location,delta:G})}function C(q,G){f="PUSH";let Z=TT(K.location,q,G);v=x()+1;let Y=pA(Z,v),ae=K.createHref(Z);try{d.pushState(Y,"",ae)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ae)}c&&p&&p({action:f,location:K.location,delta:1})}function U(q,G){f="REPLACE";let Z=TT(K.location,q,G);v=x();let Y=pA(Z,v),ae=K.createHref(Z);d.replaceState(Y,"",ae),c&&p&&p({action:f,location:K.location,delta:0})}function M(q){let G=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof q=="string"?q:Ov(q);return Z=Z.replace(/ $/,"%20"),On(G,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,G)}let K={get action(){return f},get location(){return r(o,d)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(mA,A),p=q,()=>{o.removeEventListener(mA,A),p=null}},createHref(q){return e(o,q)},createURL:M,encodeLocation(q){let G=M(q);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:C,replace:U,go(q){return d.go(q)}};return K}function jN(r,e,t="/"){return fM(r,e,t,!1)}function fM(r,e,t,s){let o=typeof e=="string"?km(e):e,c=mu(o.pathname||"/",t);if(c==null)return null;let d=CN(r);mM(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let v=SM(c);f=TM(d[p],v,s)}return f}function CN(r,e=[],t=[],s=""){let o=(c,d,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(On(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let v=au([s,p.relativePath]),x=t.concat(p);c.children&&c.children.length>0&&(On(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),CN(c.children,e,x,v)),!(c.path==null&&!c.index)&&e.push({path:v,score:_M(v,c.index),routesMeta:x})};return r.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))o(c,d);else for(let p of kN(c.path))o(c,d,p)}),e}function kN(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=kN(s.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&f.push(...d),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function mM(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:xM(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var pM=/^:[\w-]+$/,gM=3,yM=2,vM=1,bM=10,wM=-2,gA=r=>r==="*";function _M(r,e){let t=r.split("/"),s=t.length;return t.some(gA)&&(s+=wM),e&&(s+=yM),t.filter(o=>!gA(o)).reduce((o,c)=>o+(pM.test(c)?gM:c===""?vM:bM),s)}function xM(r,e){return r.length===e.length&&r.slice(0,-1).every((t,s)=>t===e[s])?r[r.length-1]-e[e.length-1]:0}function TM(r,e,t=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let f=0;f<s.length;++f){let p=s[f],v=f===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",A=pw({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},x),C=p.route;if(!A&&v&&t&&!s[s.length-1].route.index&&(A=pw({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:au([c,A.pathname]),pathnameBase:kM(au([c,A.pathnameBase])),route:C}),A.pathnameBase!=="/"&&(c=au([c,A.pathnameBase]))}return d}function pw(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=EM(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:x},A)=>{if(v==="*"){let U=f[A]||"";d=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const C=f[A];return x&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:r}}function EM(r,e=!1,t=!0){il(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function SM(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return il(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function mu(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function AM(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?km(r):r;return{pathname:t?t.startsWith("/")?t:jM(t,e):e,search:NM(s),hash:IM(o)}}function jM(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Dx(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CM(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function IE(r){let e=CM(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function RE(r,e,t,s=!1){let o;typeof r=="string"?o=km(r):(o={...r},On(!o.pathname||!o.pathname.includes("?"),Dx("?","pathname","search",o)),On(!o.pathname||!o.pathname.includes("#"),Dx("#","pathname","hash",o)),On(!o.search||!o.search.includes("#"),Dx("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,f;if(d==null)f=t;else{let A=e.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),A-=1;o.pathname=C.join("/")}f=A>=0?e[A]:"/"}let p=AM(o,f),v=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||x)&&(p.pathname+="/"),p}var au=r=>r.join("/").replace(/\/\/+/g,"/"),kM=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),NM=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,IM=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function RM(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var NN=["POST","PUT","PATCH","DELETE"];new Set(NN);var DM=["GET",...NN];new Set(DM);var Nm=re.createContext(null);Nm.displayName="DataRouter";var c_=re.createContext(null);c_.displayName="DataRouterState";var IN=re.createContext({isTransitioning:!1});IN.displayName="ViewTransition";var OM=re.createContext(new Map);OM.displayName="Fetchers";var PM=re.createContext(null);PM.displayName="Await";var ul=re.createContext(null);ul.displayName="Navigation";var nb=re.createContext(null);nb.displayName="Location";var El=re.createContext({outlet:null,matches:[],isDataRoute:!1});El.displayName="Route";var DE=re.createContext(null);DE.displayName="RouteError";function MM(r,{relative:e}={}){On(Im(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=re.useContext(ul),{hash:o,pathname:c,search:d}=rb(r,{relative:e}),f=c;return t!=="/"&&(f=c==="/"?t:au([t,c])),s.createHref({pathname:f,search:d,hash:o})}function Im(){return re.useContext(nb)!=null}function Sl(){return On(Im(),"useLocation() may be used only in the context of a <Router> component."),re.useContext(nb).location}var RN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DN(r){re.useContext(ul).static||re.useLayoutEffect(r)}function Al(){let{isDataRoute:r}=re.useContext(El);return r?WM():LM()}function LM(){On(Im(),"useNavigate() may be used only in the context of a <Router> component.");let r=re.useContext(Nm),{basename:e,navigator:t}=re.useContext(ul),{matches:s}=re.useContext(El),{pathname:o}=Sl(),c=JSON.stringify(IE(s)),d=re.useRef(!1);return DN(()=>{d.current=!0}),re.useCallback((f,p={})=>{if(il(d.current,RN),!d.current)return;if(typeof f=="number"){t.go(f);return}let v=RE(f,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:au([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,c,o,r])}re.createContext(null);function rb(r,{relative:e}={}){let{matches:t}=re.useContext(El),{pathname:s}=Sl(),o=JSON.stringify(IE(t));return re.useMemo(()=>RE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function UM(r,e){return ON(r,e)}function ON(r,e,t,s){var o;On(Im(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c,static:d}=re.useContext(ul),{matches:f}=re.useContext(El),p=f[f.length-1],v=p?p.params:{},x=p?p.pathname:"/",A=p?p.pathnameBase:"/",C=p&&p.route;{let Y=C&&C.path||"";PN(x,!C||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let U=Sl(),M;if(e){let Y=typeof e=="string"?km(e):e;On(A==="/"||((o=Y.pathname)==null?void 0:o.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),M=Y}else M=U;let K=M.pathname||"/",q=K;if(A!=="/"){let Y=A.replace(/^\//,"").split("/");q="/"+K.replace(/^\//,"").split("/").slice(Y.length).join("/")}let G=!d&&t&&t.matches&&t.matches.length>0?t.matches:jN(r,{pathname:q});il(C||G!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),il(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=qM(G&&G.map(Y=>Object.assign({},Y,{params:Object.assign({},v,Y.params),pathname:au([A,c.encodeLocation?c.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?A:au([A,c.encodeLocation?c.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),f,t,s);return e&&Z?re.createElement(nb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Z):Z}function VM(){let r=QM(),e=RM(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=re.createElement(re.Fragment,null,re.createElement("p",null,"💿 Hey developer 👋"),re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",re.createElement("code",{style:c},"ErrorBoundary")," or"," ",re.createElement("code",{style:c},"errorElement")," prop on your route.")),re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),t?re.createElement("pre",{style:o},t):null,d)}var zM=re.createElement(VM,null),FM=class extends re.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?re.createElement(El.Provider,{value:this.props.routeContext},re.createElement(DE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BM({routeContext:r,match:e,children:t}){let s=re.useContext(Nm);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),re.createElement(El.Provider,{value:r},t)}function qM(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,c=t==null?void 0:t.errors;if(c!=null){let p=o.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);On(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let v=o[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=p),v.route.id){let{loaderData:x,errors:A}=t,C=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||C){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,v,x)=>{let A,C=!1,U=null,M=null;t&&(A=c&&v.route.id?c[v.route.id]:void 0,U=v.route.errorElement||zM,d&&(f<0&&x===0?(PN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,M=null):f===x&&(C=!0,M=v.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,x+1)),q=()=>{let G;return A?G=U:C?G=M:v.route.Component?G=re.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=p,re.createElement(BM,{match:v,routeContext:{outlet:p,matches:K,isDataRoute:t!=null},children:G})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?re.createElement(FM,{location:t.location,revalidation:t.revalidation,component:U,error:A,children:q(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):q()},null)}function OE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HM(r){let e=re.useContext(Nm);return On(e,OE(r)),e}function $M(r){let e=re.useContext(c_);return On(e,OE(r)),e}function GM(r){let e=re.useContext(El);return On(e,OE(r)),e}function PE(r){let e=GM(r),t=e.matches[e.matches.length-1];return On(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function KM(){return PE("useRouteId")}function QM(){var r;let e=re.useContext(DE),t=$M("useRouteError"),s=PE("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function WM(){let{router:r}=HM("useNavigate"),e=PE("useNavigate"),t=re.useRef(!1);return DN(()=>{t.current=!0}),re.useCallback(async(s,o={})=>{il(t.current,RN),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...o}))},[r,e])}var yA={};function PN(r,e,t){!e&&!yA[r]&&(yA[r]=!0,il(!1,t))}re.memo(YM);function YM({routes:r,future:e,state:t}){return ON(r,void 0,t,e)}function MN({to:r,replace:e,state:t,relative:s}){On(Im(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=re.useContext(ul);il(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=re.useContext(El),{pathname:d}=Sl(),f=Al(),p=RE(r,IE(c),d,s==="path"),v=JSON.stringify(p);return re.useEffect(()=>{f(JSON.parse(v),{replace:e,state:t,relative:s})},[f,v,s,e,t]),null}function Bn(r){On(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XM({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1}){On(!Im(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),f=re.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof t=="string"&&(t=km(t));let{pathname:p="/",search:v="",hash:x="",state:A=null,key:C="default"}=t,U=re.useMemo(()=>{let M=mu(p,d);return M==null?null:{location:{pathname:M,search:v,hash:x,state:A,key:C},navigationType:s}},[d,p,v,x,A,C,s]);return il(U!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:re.createElement(ul.Provider,{value:f},re.createElement(nb.Provider,{children:e,value:U}))}function ZM({children:r,location:e}){return UM(ET(r),e)}function ET(r,e=[]){let t=[];return re.Children.forEach(r,(s,o)=>{if(!re.isValidElement(s))return;let c=[...e,o];if(s.type===re.Fragment){t.push.apply(t,ET(s.props.children,c));return}On(s.type===Bn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),On(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=ET(s.props.children,c)),t.push(d)}),t}var Hb="get",$b="application/x-www-form-urlencoded";function u_(r){return r!=null&&typeof r.tagName=="string"}function JM(r){return u_(r)&&r.tagName.toLowerCase()==="button"}function eL(r){return u_(r)&&r.tagName.toLowerCase()==="form"}function tL(r){return u_(r)&&r.tagName.toLowerCase()==="input"}function nL(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function rL(r,e){return r.button===0&&(!e||e==="_self")&&!nL(r)}var Ab=null;function iL(){if(Ab===null)try{new FormData(document.createElement("form"),0),Ab=!1}catch{Ab=!0}return Ab}var sL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ox(r){return r!=null&&!sL.has(r)?(il(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$b}"`),null):r}function aL(r,e){let t,s,o,c,d;if(eL(r)){let f=r.getAttribute("action");s=f?mu(f,e):null,t=r.getAttribute("method")||Hb,o=Ox(r.getAttribute("enctype"))||$b,c=new FormData(r)}else if(JM(r)||tL(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(s=p?mu(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Hb,o=Ox(r.getAttribute("formenctype"))||Ox(f.getAttribute("enctype"))||$b,c=new FormData(f,r),!iL()){let{name:v,type:x,value:A}=r;if(x==="image"){let C=v?`${v}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else v&&c.append(v,A)}}else{if(u_(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hb,s=null,o=$b,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:d}}function ME(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function oL(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lL(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function cL(r,e,t){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await oL(c,t);return d.links?d.links():[]}return[]}));return fL(s.flat(1).filter(lL).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vA(r,e,t,s,o,c){let d=(p,v)=>t[v]?p.route.id!==t[v].route.id:!0,f=(p,v)=>{var x;return t[v].pathname!==p.pathname||((x=t[v].route.path)==null?void 0:x.endsWith("*"))&&t[v].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,v)=>d(p,v)||f(p,v)):c==="data"?e.filter((p,v)=>{var x;let A=s.routes[p.route.id];if(!A||!A.hasLoader)return!1;if(d(p,v)||f(p,v))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function uL(r,e,{includeHydrateFallback:t}={}){return hL(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function hL(r){return[...new Set(r)]}function dL(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function fL(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(dL(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function mL(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&mu(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function LN(){let r=re.useContext(Nm);return ME(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pL(){let r=re.useContext(c_);return ME(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var LE=re.createContext(void 0);LE.displayName="FrameworkContext";function UN(){let r=re.useContext(LE);return ME(r,"You must render this element inside a <HydratedRouter> element"),r}function gL(r,e){let t=re.useContext(LE),[s,o]=re.useState(!1),[c,d]=re.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:v,onMouseLeave:x,onTouchStart:A}=e,C=re.useRef(null);re.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let K=G=>{G.forEach(Z=>{d(Z.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return C.current&&q.observe(C.current),()=>{q.disconnect()}}},[r]),re.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let U=()=>{o(!0)},M=()=>{o(!1),d(!1)};return t?r!=="intent"?[c,C,{}]:[c,C,{onFocus:tv(f,U),onBlur:tv(p,M),onMouseEnter:tv(v,U),onMouseLeave:tv(x,M),onTouchStart:tv(A,U)}]:[!1,C,{}]}function tv(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function yL({page:r,...e}){let{router:t}=LN(),s=re.useMemo(()=>jN(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?re.createElement(bL,{page:r,matches:s,...e}):null}function vL(r){let{manifest:e,routeModules:t}=UN(),[s,o]=re.useState([]);return re.useEffect(()=>{let c=!1;return cL(r,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,t]),s}function bL({page:r,matches:e,...t}){let s=Sl(),{manifest:o,routeModules:c}=UN(),{basename:d}=LN(),{loaderData:f,matches:p}=pL(),v=re.useMemo(()=>vA(r,e,p,o,s,"data"),[r,e,p,o,s]),x=re.useMemo(()=>vA(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=re.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,K=!1;if(e.forEach(G=>{var Z;let Y=o.routes[G.route.id];!Y||!Y.hasLoader||(!v.some(ae=>ae.route.id===G.route.id)&&G.route.id in f&&(Z=c[G.route.id])!=null&&Z.shouldRevalidate||Y.hasClientLoader?K=!0:M.add(G.route.id))}),M.size===0)return[];let q=mL(r,d);return K&&M.size>0&&q.searchParams.set("_routes",e.filter(G=>M.has(G.route.id)).map(G=>G.route.id).join(",")),[q.pathname+q.search]},[d,f,s,o,v,e,r,c]),C=re.useMemo(()=>uL(x,o),[x,o]),U=vL(x);return re.createElement(re.Fragment,null,A.map(M=>re.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),C.map(M=>re.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),U.map(({key:M,link:K})=>re.createElement("link",{key:M,...K})))}function wL(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var VN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VN&&(window.__reactRouterVersion="7.3.0")}catch{}function _L({basename:r,children:e,window:t}){let s=re.useRef();s.current==null&&(s.current=uM({window:t,v5Compat:!0}));let o=s.current,[c,d]=re.useState({action:o.action,location:o.location}),f=re.useCallback(p=>{re.startTransition(()=>d(p))},[d]);return re.useLayoutEffect(()=>o.listen(f),[o,f]),re.createElement(XM,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var zN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nn=re.forwardRef(function({onClick:r,discover:e="render",prefetch:t="none",relative:s,reloadDocument:o,replace:c,state:d,target:f,to:p,preventScrollReset:v,viewTransition:x,...A},C){let{basename:U}=re.useContext(ul),M=typeof p=="string"&&zN.test(p),K,q=!1;if(typeof p=="string"&&M&&(K=p,VN))try{let j=new URL(window.location.href),S=p.startsWith("//")?new URL(j.protocol+p):new URL(p),N=mu(S.pathname,U);S.origin===j.origin&&N!=null?p=N+S.search+S.hash:q=!0}catch{il(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=MM(p,{relative:s}),[Z,Y,ae]=gL(t,A),ce=SL(p,{replace:c,state:d,target:f,preventScrollReset:v,relative:s,viewTransition:x});function de(j){r&&r(j),j.defaultPrevented||ce(j)}let R=re.createElement("a",{...A,...ae,href:K||G,onClick:q||o?r:de,ref:wL(C,Y),target:f,"data-discover":!M&&e==="render"?"true":void 0});return Z&&!M?re.createElement(re.Fragment,null,R,re.createElement(yL,{page:G})):R});Nn.displayName="Link";var xL=re.forwardRef(function({"aria-current":r="page",caseSensitive:e=!1,className:t="",end:s=!1,style:o,to:c,viewTransition:d,children:f,...p},v){let x=rb(c,{relative:p.relative}),A=Sl(),C=re.useContext(c_),{navigator:U,basename:M}=re.useContext(ul),K=C!=null&&NL(x)&&d===!0,q=U.encodeLocation?U.encodeLocation(x).pathname:x.pathname,G=A.pathname,Z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;e||(G=G.toLowerCase(),Z=Z?Z.toLowerCase():null,q=q.toLowerCase()),Z&&M&&(Z=mu(Z,M)||Z);const Y=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ae=G===q||!s&&G.startsWith(q)&&G.charAt(Y)==="/",ce=Z!=null&&(Z===q||!s&&Z.startsWith(q)&&Z.charAt(q.length)==="/"),de={isActive:ae,isPending:ce,isTransitioning:K},R=ae?r:void 0,j;typeof t=="function"?j=t(de):j=[t,ae?"active":null,ce?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let S=typeof o=="function"?o(de):o;return re.createElement(Nn,{...p,"aria-current":R,className:j,ref:v,style:S,to:c,viewTransition:d},typeof f=="function"?f(de):f)});xL.displayName="NavLink";var TL=re.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:d=Hb,action:f,onSubmit:p,relative:v,preventScrollReset:x,viewTransition:A,...C},U)=>{let M=CL(),K=kL(f,{relative:v}),q=d.toLowerCase()==="get"?"get":"post",G=typeof f=="string"&&zN.test(f),Z=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ae=Y.nativeEvent.submitter,ce=(ae==null?void 0:ae.getAttribute("formmethod"))||d;M(ae||Y.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:o,state:c,relative:v,preventScrollReset:x,viewTransition:A})};return re.createElement("form",{ref:U,method:q,action:K,onSubmit:s?p:Z,...C,"data-discover":!G&&r==="render"?"true":void 0})});TL.displayName="Form";function EL(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FN(r){let e=re.useContext(Nm);return On(e,EL(r)),e}function SL(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let f=Al(),p=Sl(),v=rb(r,{relative:c});return re.useCallback(x=>{if(rL(x,e)){x.preventDefault();let A=t!==void 0?t:Ov(p)===Ov(v);f(r,{replace:A,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,f,v,t,s,e,r,o,c,d])}var AL=0,jL=()=>`__${String(++AL)}__`;function CL(){let{router:r}=FN("useSubmit"),{basename:e}=re.useContext(ul),t=KM();return re.useCallback(async(s,o={})=>{let{action:c,method:d,encType:f,formData:p,body:v}=aL(s,e);if(o.navigate===!1){let x=o.fetcherKey||jL();await r.fetch(x,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:v,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:v,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function kL(r,{relative:e}={}){let{basename:t}=re.useContext(ul),s=re.useContext(El);On(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...rb(r||".",{relative:e})},d=Sl();if(r==null){c.search=d.search;let f=new URLSearchParams(c.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(x=>x).forEach(x=>f.append("index",x));let v=f.toString();c.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:au([t,c.pathname])),Ov(c)}function NL(r,e={}){let t=re.useContext(IN);On(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=FN("useViewTransitionState"),o=rb(r,{relative:e.relative});if(!t.isTransitioning)return!1;let c=mu(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=mu(t.nextLocation.pathname,s)||t.nextLocation.pathname;return pw(o.pathname,d)!=null||pw(o.pathname,c)!=null}new TextEncoder;var bA={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const BN=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},IL=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[t++],d=r[t++],f=r[t++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[t++],d=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},qN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,f=d?r[o+1]:0,p=o+2<r.length,v=p?r[o+2]:0,x=c>>2,A=(c&3)<<4|f>>4;let C=(f&15)<<2|v>>6,U=v&63;p||(U=64,d||(C=64)),s.push(t[x],t[A],t[C],t[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(BN(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):IL(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const f=o<r.length?t[r.charAt(o)]:64;++o;const p=o<r.length?t[r.charAt(o)]:64;if(++o,c==null||d==null||f==null||p==null)throw new RL;const v=c<<2|d>>4;if(s.push(v),f!==64){const x=d<<4&240|f>>2;if(s.push(x),p!==64){const A=f<<6&192|p;s.push(A)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class RL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DL=function(r){const e=BN(r);return qN.encodeByteArray(e,!0)},gw=function(r){return DL(r).replace(/\./g,"")},HN=function(r){try{return qN.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PL=()=>OL().__FIREBASE_DEFAULTS__,ML=()=>{if(typeof process>"u"||typeof bA>"u")return;const r=bA.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},LL=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&HN(r[1]);return e&&JSON.parse(e)},h_=()=>{try{return PL()||ML()||LL()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$N=r=>{var e,t;return(t=(e=h_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},GN=r=>{const e=$N(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},KN=()=>{var r;return(r=h_())===null||r===void 0?void 0:r.config},QN=r=>{var e;return(e=h_())===null||e===void 0?void 0:e[`_${r}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function WN(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[gw(JSON.stringify(t)),gw(JSON.stringify(d)),""].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ki(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ki())}function zL(){var r;const e=(r=h_())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YN(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function BL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qL(){const r=Ki();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function HL(){return!zL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XN(){try{return typeof indexedDB=="object"}catch{return!1}}function ZN(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}function $L(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GL="FirebaseError";class qa extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=GL,Object.setPrototypeOf(this,qa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zf.prototype.create)}}class zf{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?KL(c,s):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new qa(o,f,s)}}function KL(r,e){return r.replace(QL,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const QL=/\{\$([^}]+)}/g;function WL(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Pv(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(wA(c)&&wA(d)){if(!Pv(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function wA(r){return r!==null&&typeof r=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ib(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function lv(r){const e={};return r.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[s,o]=t.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function cv(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function YL(r,e){const t=new XL(r,e);return t.subscribe.bind(t)}class XL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");ZL(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Px),o.error===void 0&&(o.error=Px),o.complete===void 0&&(o.complete=Px);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZL(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Px(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JL=1e3,e3=2,t3=4*60*60*1e3,n3=.5;function _A(r,e=JL,t=e3){const s=e*Math.pow(t,r),o=Math.round(n3*s*(Math.random()-.5)*2);return Math.min(t3,s+o)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hr(r){return r&&r._delegate?r._delegate:r}class Va{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hf="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new UL;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s3(e))try{this.getOrInitializeService({instanceIdentifier:hf})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=hf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hf){return this.instances.has(e)}getOptions(e=hf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);s===f&&d.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i3(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hf){return this.component?this.component.multipleInstances?e:hf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i3(r){return r===hf?void 0:r}function s3(r){return r.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new r3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const o3={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},l3=Ot.INFO,c3={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},u3=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=c3[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d_{constructor(e){this.name=e,this._logLevel=l3,this._logHandler=u3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const h3=(r,e)=>e.some(t=>r instanceof t);let xA,TA;function d3(){return xA||(xA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f3(){return TA||(TA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JN=new WeakMap,ST=new WeakMap,eI=new WeakMap,Mx=new WeakMap,UE=new WeakMap;function m3(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{t(Lu(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&JN.set(t,r)}).catch(()=>{}),UE.set(e,r),e}function p3(r){if(ST.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});ST.set(r,e)}let AT={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ST.get(r);if(e==="objectStoreNames")return r.objectStoreNames||eI.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Lu(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function g3(r){AT=r(AT)}function y3(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Lx(this),e,...t);return eI.set(s,e.sort?e.sort():[e]),Lu(s)}:f3().includes(r)?function(...e){return r.apply(Lx(this),e),Lu(JN.get(this))}:function(...e){return Lu(r.apply(Lx(this),e))}}function v3(r){return typeof r=="function"?y3(r):(r instanceof IDBTransaction&&p3(r),h3(r,d3())?new Proxy(r,AT):r)}function Lu(r){if(r instanceof IDBRequest)return m3(r);if(Mx.has(r))return Mx.get(r);const e=v3(r);return e!==r&&(Mx.set(r,e),UE.set(e,r)),e}const Lx=r=>UE.get(r);function tI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),f=Lu(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Lu(d.result),p.oldVersion,p.newVersion,Lu(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const b3=["get","getKey","getAll","getAllKeys","count"],w3=["put","add","delete","clear"],Ux=new Map;function EA(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ux.get(e))return Ux.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=w3.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||b3.includes(t)))return;const c=async function(d,...f){const p=this.transaction(d,o?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&p.done]))[0]};return Ux.set(e,c),c}g3(r=>({...r,get:(e,t,s)=>EA(e,t)||r.get(e,t,s),has:(e,t)=>!!EA(e,t)||r.has(e,t)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(x3(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(" ")}}function x3(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jT="@firebase/app",SA="0.11.1";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pu=new d_("@firebase/app"),T3="@firebase/app-compat",E3="@firebase/analytics-compat",S3="@firebase/analytics",A3="@firebase/app-check-compat",j3="@firebase/app-check",C3="@firebase/auth",k3="@firebase/auth-compat",N3="@firebase/database",I3="@firebase/data-connect",R3="@firebase/database-compat",D3="@firebase/functions",O3="@firebase/functions-compat",P3="@firebase/installations",M3="@firebase/installations-compat",L3="@firebase/messaging",U3="@firebase/messaging-compat",V3="@firebase/performance",z3="@firebase/performance-compat",F3="@firebase/remote-config",B3="@firebase/remote-config-compat",q3="@firebase/storage",H3="@firebase/storage-compat",$3="@firebase/firestore",G3="@firebase/vertexai",K3="@firebase/firestore-compat",Q3="firebase",W3="11.3.1";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const CT="[DEFAULT]",Y3={[jT]:"fire-core",[T3]:"fire-core-compat",[S3]:"fire-analytics",[E3]:"fire-analytics-compat",[j3]:"fire-app-check",[A3]:"fire-app-check-compat",[C3]:"fire-auth",[k3]:"fire-auth-compat",[N3]:"fire-rtdb",[I3]:"fire-data-connect",[R3]:"fire-rtdb-compat",[D3]:"fire-fn",[O3]:"fire-fn-compat",[P3]:"fire-iid",[M3]:"fire-iid-compat",[L3]:"fire-fcm",[U3]:"fire-fcm-compat",[V3]:"fire-perf",[z3]:"fire-perf-compat",[F3]:"fire-rc",[B3]:"fire-rc-compat",[q3]:"fire-gcs",[H3]:"fire-gcs-compat",[$3]:"fire-fst",[K3]:"fire-fst-compat",[G3]:"fire-vertex","fire-js":"fire-js",[Q3]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yw=new Map,X3=new Map,kT=new Map;function AA(r,e){try{r.container.addComponent(e)}catch(t){pu.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function sl(r){const e=r.name;if(kT.has(e))return pu.debug(`There were multiple attempts to register component ${e}.`),!1;kT.set(e,r);for(const t of yw.values())AA(t,r);for(const t of X3.values())AA(t,r);return!0}function ih(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Rs(r){return r==null?!1:r.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Z3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uu=new zf("app","Firebase",Z3);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J3{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uu.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ff=W3;function nI(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:CT,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Uu.create("bad-app-name",{appName:String(o)});if(t||(t=KN()),!t)throw Uu.create("no-options");const c=yw.get(o);if(c){if(Pv(t,c.options)&&Pv(s,c.config))return c;throw Uu.create("duplicate-app",{appName:o})}const d=new a3(o);for(const p of kT.values())d.addComponent(p);const f=new J3(t,s,d);return yw.set(o,f),f}function f_(r=CT){const e=yw.get(r);if(!e&&r===CT&&KN())return nI();if(!e)throw Uu.create("no-app",{appName:r});return e}function Os(r,e,t){var s;let o=(s=Y3[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const f=[`Unable to register library "${o}" with version "${e}":`];c&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pu.warn(f.join(" "));return}sl(new Va(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eU="firebase-heartbeat-database",tU=1,Mv="firebase-heartbeat-store";let Vx=null;function rI(){return Vx||(Vx=tI(eU,tU,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Mv)}catch(t){console.warn(t)}}}}).catch(r=>{throw Uu.create("idb-open",{originalErrorMessage:r.message})})),Vx}async function nU(r){try{const e=(await rI()).transaction(Mv),t=await e.objectStore(Mv).get(iI(r));return await e.done,t}catch(e){if(e instanceof qa)pu.warn(e.message);else{const t=Uu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pu.warn(t.message)}}}async function jA(r,e){try{const t=(await rI()).transaction(Mv,"readwrite");await t.objectStore(Mv).put(e,iI(r)),await t.done}catch(t){if(t instanceof qa)pu.warn(t.message);else{const s=Uu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});pu.warn(s.message)}}}function iI(r){return`${r.name}!${r.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rU=1024,iU=30;class sU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oU(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=CA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>iU){const c=lU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){pu.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=CA(),{heartbeatsToSend:s,unsentEntries:o}=aU(this._heartbeatsCache.heartbeats),c=gw(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return pu.warn(t),""}}}function CA(){return new Date().toISOString().substring(0,10)}function aU(r,e=rU){const t=[];let s=r.slice();for(const o of r){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),kA(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),kA(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class oU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XN()?ZN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await nU(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return jA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return jA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kA(r){return gw(JSON.stringify({version:2,heartbeats:r})).length}function lU(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cU(r){sl(new Va("platform-logger",e=>new _3(e),"PRIVATE")),sl(new Va("heartbeat",e=>new sU(e),"PRIVATE")),Os(jT,SA,r),Os(jT,SA,"esm2017"),Os("fire-js","")}cU("");var uU="firebase",hU="11.3.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Os(uU,hU,"app");const sI="@firebase/installations",VE="0.6.12";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aI=1e4,oI=`w:${VE}`,lI="FIS_v2",dU="https://firebaseinstallations.googleapis.com/v1",fU=60*60*1e3,mU="installations",pU="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ef=new zf(mU,pU,gU);function cI(r){return r instanceof qa&&r.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uI({projectId:r}){return`${dU}/projects/${r}/installations`}function hI(r){return{token:r.token,requestStatus:2,expiresIn:vU(r.expiresIn),creationTime:Date.now()}}async function dI(r,e){const t=(await e.json()).error;return Ef.create("request-failed",{requestName:r,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function fI({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function yU(r,{refreshToken:e}){const t=fI(r);return t.append("Authorization",bU(e)),t}async function mI(r){const e=await r();return e.status>=500&&e.status<600?r():e}function vU(r){return Number(r.replace("s","000"))}function bU(r){return`${lI} ${r}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function wU({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=uI(r),o=fI(r),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:t,authVersion:lI,appId:r.appId,sdkVersion:oI},f={method:"POST",headers:o,body:JSON.stringify(d)},p=await mI(()=>fetch(s,f));if(p.ok){const v=await p.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:hI(v.authToken)}}else throw await dI("Create Installation",p)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pI(r){return new Promise(e=>{setTimeout(e,r)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _U(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xU=/^[cdef][\w-]{21}$/,NT="";function TU(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const e=EU(r);return xU.test(e)?e:NT}catch{return NT}}function EU(r){return _U(r).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m_(r){return`${r.appName}!${r.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gI=new Map;function yI(r,e){const t=m_(r);vI(t,e),SU(t,e)}function vI(r,e){const t=gI.get(r);if(t)for(const s of t)s(e)}function SU(r,e){const t=AU();t&&t.postMessage({key:r,fid:e}),jU()}let mf=null;function AU(){return!mf&&"BroadcastChannel"in self&&(mf=new BroadcastChannel("[Firebase] FID Change"),mf.onmessage=r=>{vI(r.data.key,r.data.fid)}),mf}function jU(){gI.size===0&&mf&&(mf.close(),mf=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const CU="firebase-installations-database",kU=1,Sf="firebase-installations-store";let zx=null;function zE(){return zx||(zx=tI(CU,kU,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Sf)}}})),zx}async function vw(r,e){const t=m_(r),s=(await zE()).transaction(Sf,"readwrite"),o=s.objectStore(Sf),c=await o.get(t);return await o.put(e,t),await s.done,(!c||c.fid!==e.fid)&&yI(r,e.fid),e}async function bI(r){const e=m_(r),t=(await zE()).transaction(Sf,"readwrite");await t.objectStore(Sf).delete(e),await t.done}async function p_(r,e){const t=m_(r),s=(await zE()).transaction(Sf,"readwrite"),o=s.objectStore(Sf),c=await o.get(t),d=e(c);return d===void 0?await o.delete(t):await o.put(d,t),await s.done,d&&(!c||c.fid!==d.fid)&&yI(r,d.fid),d}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function FE(r){let e;const t=await p_(r.appConfig,s=>{const o=NU(s),c=IU(r,o);return e=c.registrationPromise,c.installationEntry});return t.fid===NT?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function NU(r){const e=r||{fid:TU(),registrationStatus:0};return wI(e)}function IU(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ef.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=RU(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DU(r)}:{installationEntry:e}}async function RU(r,e){try{const t=await wU(r,e);return vw(r.appConfig,t)}catch(t){throw cI(t)&&t.customData.serverCode===409?await bI(r.appConfig):await vw(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function DU(r){let e=await NA(r.appConfig);for(;e.registrationStatus===1;)await pI(100),e=await NA(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await FE(r);return s||t}return e}function NA(r){return p_(r,e=>{if(!e)throw Ef.create("installation-not-found");return wI(e)})}function wI(r){return OU(r)?{fid:r.fid,registrationStatus:0}:r}function OU(r){return r.registrationStatus===1&&r.registrationTime+aI<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function PU({appConfig:r,heartbeatServiceProvider:e},t){const s=MU(r,t),o=yU(r,t),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:oI,appId:r.appId}},f={method:"POST",headers:o,body:JSON.stringify(d)},p=await mI(()=>fetch(s,f));if(p.ok){const v=await p.json();return hI(v)}else throw await dI("Generate Auth Token",p)}function MU(r,{fid:e}){return`${uI(r)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function BE(r,e=!1){let t;const s=await p_(r.appConfig,o=>{if(!_I(o))throw Ef.create("not-registered");const c=o.authToken;if(!e&&VU(c))return o;if(c.requestStatus===1)return t=LU(r,e),o;{if(!navigator.onLine)throw Ef.create("app-offline");const d=FU(o);return t=UU(r,d),d}});return t?await t:s.authToken}async function LU(r,e){let t=await IA(r.appConfig);for(;t.authToken.requestStatus===1;)await pI(100),t=await IA(r.appConfig);const s=t.authToken;return s.requestStatus===0?BE(r,e):s}function IA(r){return p_(r,e=>{if(!_I(e))throw Ef.create("not-registered");const t=e.authToken;return BU(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function UU(r,e){try{const t=await PU(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await vw(r.appConfig,s),t}catch(t){if(cI(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await bI(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vw(r.appConfig,s)}throw t}}function _I(r){return r!==void 0&&r.registrationStatus===2}function VU(r){return r.requestStatus===2&&!zU(r)}function zU(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+fU}function FU(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function BU(r){return r.requestStatus===1&&r.requestTime+aI<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qU(r){const e=r,{installationEntry:t,registrationPromise:s}=await FE(e);return s?s.catch(console.error):BE(e).catch(console.error),t.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function HU(r,e=!1){const t=r;return await $U(t),(await BE(t,e)).token}async function $U(r){const{registrationPromise:e}=await FE(r);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function GU(r){if(!r||!r.options)throw Fx("App Configuration");if(!r.name)throw Fx("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Fx(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Fx(r){return Ef.create("missing-app-config-values",{valueName:r})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xI="installations",KU="installations-internal",QU=r=>{const e=r.getProvider("app").getImmediate(),t=GU(e),s=ih(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},WU=r=>{const e=r.getProvider("app").getImmediate(),t=ih(e,xI).getImmediate();return{getId:()=>qU(t),getToken:s=>HU(t,s)}};function YU(){sl(new Va(xI,QU,"PUBLIC")),sl(new Va(KU,WU,"PRIVATE"))}YU();Os(sI,VE);Os(sI,VE,"esm2017");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bw="analytics",XU="firebase_id",ZU="origin",JU=60*1e3,e9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qE="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ps=new d_("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Da=new zf("analytics","Analytics",t9);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function n9(r){if(!r.startsWith(qE)){const e=Da.create("invalid-gtag-resource",{gtagURL:r});return Ps.warn(e.message),""}return r}function TI(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function r9(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function i9(r,e){const t=r9("firebase-js-sdk-policy",{createScriptURL:n9}),s=document.createElement("script"),o=`${qE}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function s9(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function a9(r,e,t,s,o,c){const d=s[o];try{if(d)await e[d];else{const f=(await TI(t)).find(p=>p.measurementId===o);f&&await e[f.appId]}}catch(f){Ps.error(f)}r("config",o,c)}async function o9(r,e,t,s,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const f=await TI(t);for(const p of d){const v=f.find(A=>A.measurementId===p),x=v&&e[v.appId];if(x)c.push(x);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,o||{})}catch(c){Ps.error(c)}}function l9(r,e,t,s){async function o(c,...d){try{if(c==="event"){const[f,p]=d;await o9(r,e,t,f,p)}else if(c==="config"){const[f,p]=d;await a9(r,e,t,s,f,p)}else if(c==="consent"){const[f,p]=d;r("consent",f,p)}else if(c==="get"){const[f,p,v]=d;r("get",f,p,v)}else if(c==="set"){const[f]=d;r("set",f)}else r(c,...d)}catch(f){Ps.error(f)}}return o}function c9(r,e,t,s,o){let c=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=l9(c,r,e,t),{gtagCore:c,wrappedGtag:window[o]}}function u9(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(qE)&&t.src.includes(r))return t;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h9=30,d9=1e3;class f9{constructor(e={},t=d9){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const EI=new f9;function m9(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function p9(r){var e;const{appId:t,apiKey:s}=r,o={method:"GET",headers:m9(s)},c=e9.replace("{app-id}",t),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let f="";try{const p=await d.json();!((e=p.error)===null||e===void 0)&&e.message&&(f=p.error.message)}catch{}throw Da.create("config-fetch-failed",{httpStatus:d.status,responseMessage:f})}return d.json()}async function g9(r,e=EI,t){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw Da.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw Da.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new b9;return setTimeout(async()=>{f.abort()},JU),SI({appId:s,apiKey:o,measurementId:c},d,f,e)}async function SI(r,{throttleEndTimeMillis:e,backoffCount:t},s,o=EI){var c;const{appId:d,measurementId:f}=r;try{await y9(s,e)}catch(p){if(f)return Ps.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:d,measurementId:f};throw p}try{const p=await p9(r);return o.deleteThrottleMetadata(d),p}catch(p){const v=p;if(!v9(v)){if(o.deleteThrottleMetadata(d),f)return Ps.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:f};throw p}const x=Number((c=v==null?void 0:v.customData)===null||c===void 0?void 0:c.httpStatus)===503?_A(t,o.intervalMillis,h9):_A(t,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+x,backoffCount:t+1};return o.setThrottleMetadata(d,A),Ps.debug(`Calling attemptFetch again in ${x} millis`),SI(r,A,s,o)}}function y9(r,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(c),s(Da.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function v9(r){if(!(r instanceof qa)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class b9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function w9(r,e,t,s,o){if(o&&o.global){r("event",t,s);return}else{const c=await e,d=Object.assign(Object.assign({},s),{send_to:c});r("event",t,d)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _9(){if(XN())try{await ZN()}catch(r){return Ps.warn(Da.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return Ps.warn(Da.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function x9(r,e,t,s,o,c,d){var f;const p=g9(r);p.then(U=>{t[U.measurementId]=U.appId,r.options.measurementId&&U.measurementId!==r.options.measurementId&&Ps.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>Ps.error(U)),e.push(p);const v=_9().then(U=>{if(U)return s.getId()}),[x,A]=await Promise.all([p,v]);u9(c)||i9(c,x.measurementId),o("js",new Date);const C=(f=d==null?void 0:d.config)!==null&&f!==void 0?f:{};return C[ZU]="firebase",C.update=!0,A!=null&&(C[XU]=A),o("config",x.measurementId,C),x.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T9{constructor(e){this.app=e}_delete(){return delete wv[this.app.options.appId],Promise.resolve()}}let wv={},RA=[];const DA={};let Bx="dataLayer",E9="gtag",OA,AI,PA=!1;function S9(){const r=[];if(YN()&&r.push("This is a browser extension environment."),$L()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Da.create("invalid-analytics-context",{errorInfo:e});Ps.warn(t.message)}}function A9(r,e,t){S9();const s=r.options.appId;if(!s)throw Da.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Ps.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Da.create("no-api-key");if(wv[s]!=null)throw Da.create("already-exists",{id:s});if(!PA){s9(Bx);const{wrappedGtag:o,gtagCore:c}=c9(wv,RA,DA,Bx,E9);AI=o,OA=c,PA=!0}return wv[s]=x9(r,RA,DA,e,OA,Bx,t),new T9(r)}function j9(r=f_()){r=hr(r);const e=ih(r,bw);return e.isInitialized()?e.getImmediate():C9(r)}function C9(r,e={}){const t=ih(r,bw);if(t.isInitialized()){const s=t.getImmediate();if(Pv(e,t.getOptions()))return s;throw Da.create("already-initialized")}return t.initialize({options:e})}function k9(r,e,t,s){r=hr(r),w9(AI,wv[r.app.options.appId],e,t,s).catch(o=>Ps.error(o))}const MA="@firebase/analytics",LA="0.10.11";function N9(){sl(new Va(bw,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return A9(s,o,t)},"PUBLIC")),sl(new Va("analytics-internal",r,"PRIVATE")),Os(MA,LA),Os(MA,LA,"esm2017");function r(e){try{const t=e.getProvider(bw).getImmediate();return{logEvent:(s,o,c)=>k9(t,s,o,c)}}catch(t){throw Da.create("interop-component-reg-failed",{reason:t})}}}N9();function HE(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function jI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I9=jI,CI=new zf("auth","Firebase",jI());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ww=new d_("@firebase/auth");function R9(r,...e){ww.logLevel<=Ot.WARN&&ww.warn(`Auth (${Ff}): ${r}`,...e)}function Gb(r,...e){ww.logLevel<=Ot.ERROR&&ww.error(`Auth (${Ff}): ${r}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function za(r,...e){throw GE(r,...e)}function tl(r,...e){return GE(r,...e)}function $E(r,e,t){const s=Object.assign(Object.assign({},I9()),{[e]:t});return new zf("auth","Firebase",s).create(e,{appName:r.name})}function ou(r){return $E(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D9(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&za(r,"argument-error"),$E(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function GE(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return CI.create(r,...e)}function We(r,e,...t){if(!r)throw GE(e,...t)}function eu(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Gb(e),new Error(e)}function gu(r,e){r||eu(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function IT(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function O9(){return UA()==="http:"||UA()==="https:"}function UA(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function P9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O9()||YN()||"connection"in navigator)?navigator.onLine:!0}function M9(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sb{constructor(e,t){this.shortDelay=e,this.longDelay=t,gu(t>e,"Short delay should be less than long delay!"),this.isMobile=VL()||BL()}get(){return P9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function KE(r,e){gu(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kI{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;eu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;eu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;eu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const U9=new sb(3e4,6e4);function sh(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ah(r,e,t,s,o={}){return NI(r,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const f=ib(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:e,headers:p},c);return FL()||(v.referrerPolicy="no-referrer"),kI.fetch()(II(r,r.config.apiHost,t,f),v)})}async function NI(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},L9),e);try{const o=new z9(r),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw jb(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[p,v]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jb(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw jb(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw jb(r,"user-disabled",d);const x=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw $E(r,x,v);za(r,x)}}catch(o){if(o instanceof qa)throw o;za(r,"network-request-failed",{message:String(o)})}}async function ab(r,e,t,s,o={}){const c=await ah(r,e,t,s,o);return"mfaPendingCredential"in c&&za(r,"multi-factor-auth-required",{_serverResponse:c}),c}function II(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?KE(r.config,o):`${r.config.apiScheme}://${o}`}function V9(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class z9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(tl(this.auth,"network-request-failed")),U9.get())})}}function jb(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=tl(r,e,s);return o.customData._tokenResponse=t,o}function VA(r){return r!==void 0&&r.enterprise!==void 0}class F9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return V9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B9(r,e){return ah(r,"GET","/v2/recaptchaConfig",sh(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function q9(r,e){return ah(r,"POST","/v1/accounts:delete",e)}async function RI(r,e){return ah(r,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _v(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H9(r,e=!1){const t=hr(r),s=await t.getIdToken(e),o=QE(s);We(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:_v(qx(o.auth_time)),issuedAtTime:_v(qx(o.iat)),expirationTime:_v(qx(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function qx(r){return Number(r)*1e3}function QE(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Gb("JWT malformed, contained fewer than 3 sections"),null;try{const o=HN(t);return o?JSON.parse(o):(Gb("Failed to decode base64 JWT payload"),null)}catch(o){return Gb("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function zA(r){const e=QE(r);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Lv(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof qa&&$9(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function $9({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_v(this.lastLoginAt),this.creationTime=_v(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _w(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Lv(r,RI(t,{idToken:s}));We(o==null?void 0:o.users.length,t,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?DI(c.providerUserInfo):[],f=Q9(r.providerData,d),p=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!(f!=null&&f.length),x=p?v:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new RT(c.createdAt,c.lastLoginAt),isAnonymous:x};Object.assign(r,A)}async function K9(r){const e=hr(r);await _w(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q9(r,e){return[...r.filter(t=>!e.some(s=>s.providerId===t.providerId)),...e]}function DI(r){return r.map(e=>{var{providerId:t}=e,s=HE(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function W9(r,e){const t=await NI(r,{},async()=>{const s=ib({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=II(r,o,"/v1/token",`key=${c}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",kI.fetch()(d,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Y9(r,e){return ah(r,"POST","/v2/accounts:revokeToken",sh(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class om{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=zA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await W9(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,d=new om;return s&&(We(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(We(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(We(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new om,this.toJSON())}_performRefresh(){return eu("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Su(r,e){We(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class tu{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,c=HE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new RT(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await Lv(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return H9(this,e)}reload(){return K9(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await _w(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rs(this.auth.app))return Promise.reject(ou(this.auth));const e=await this.getIdToken();return await Lv(this,q9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,c,d,f,p,v,x;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,C=(o=t.email)!==null&&o!==void 0?o:void 0,U=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,M=(d=t.photoURL)!==null&&d!==void 0?d:void 0,K=(f=t.tenantId)!==null&&f!==void 0?f:void 0,q=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,G=(v=t.createdAt)!==null&&v!==void 0?v:void 0,Z=(x=t.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:Y,emailVerified:ae,isAnonymous:ce,providerData:de,stsTokenManager:R}=t;We(Y&&R,e,"internal-error");const j=om.fromJSON(this.name,R);We(typeof Y=="string",e,"internal-error"),Su(A,e.name),Su(C,e.name),We(typeof ae=="boolean",e,"internal-error"),We(typeof ce=="boolean",e,"internal-error"),Su(U,e.name),Su(M,e.name),Su(K,e.name),Su(q,e.name),Su(G,e.name),Su(Z,e.name);const S=new tu({uid:Y,auth:e,email:C,emailVerified:ae,displayName:A,isAnonymous:ce,photoURL:M,phoneNumber:U,tenantId:K,stsTokenManager:j,createdAt:G,lastLoginAt:Z});return de&&Array.isArray(de)&&(S.providerData=de.map(N=>Object.assign({},N))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new om;o.updateFromServerResponse(t);const c=new tu({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await _w(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];We(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?DI(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),f=new om;f.updateFromIdToken(s);const p=new tu({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new RT(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const FA=new Map;function nu(r){gu(r instanceof Function,"Expected a class definition");let e=FA.get(r);return e?(gu(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,FA.set(r,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OI.type="NONE";const BA=OI;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Kb(r,e,t){return`firebase:${r}:${e}:${t}`}class lm{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Kb(this.userKey,o.apiKey,c),this.fullPersistenceKey=Kb("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new lm(nu(BA),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||nu(BA);const d=Kb(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const x=await v._get(d);if(x){const A=tu._fromJSON(e,x);v!==c&&(f=A),c=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new lm(c,e,s):(c=p[0],f&&await c._set(d,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new lm(c,e,s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qA(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zI(e))return"Blackberry";if(FI(e))return"Webos";if(MI(e))return"Safari";if((e.includes("chrome/")||LI(e))&&!e.includes("edge/"))return"Chrome";if(VI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PI(r=Ki()){return/firefox\//i.test(r)}function MI(r=Ki()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LI(r=Ki()){return/crios\//i.test(r)}function UI(r=Ki()){return/iemobile/i.test(r)}function VI(r=Ki()){return/android/i.test(r)}function zI(r=Ki()){return/blackberry/i.test(r)}function FI(r=Ki()){return/webos/i.test(r)}function WE(r=Ki()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function X9(r=Ki()){var e;return WE(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Z9(){return qL()&&document.documentMode===10}function BI(r=Ki()){return WE(r)||VI(r)||FI(r)||zI(r)||/windows phone/i.test(r)||UI(r)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qI(r,e=[]){let t;switch(r){case"Browser":t=qA(Ki());break;case"Worker":t=`${qA(Ki())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ff}/${s}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((d,f)=>{try{const p=e(c);d(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function e6(r,e={}){return ah(r,"GET","/v2/passwordPolicy",sh(r,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t6=6;class n6{constructor(e){var t,s,o,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:t6,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,c,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r6{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HA(this),this.idTokenSubscription=new HA(this),this.beforeStateQueue=new J9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nu(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await lm.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await RI(this,{idToken:e}),s=await tu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rs(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===f)&&p!=null&&p.user&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _w(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rs(this.app))return Promise.reject(ou(this));const t=e?hr(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rs(this.app)?Promise.reject(ou(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rs(this.app)?Promise.reject(ou(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await e6(this),t=new n6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zf("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Y9(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&nu(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await lm.create(this,[nu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&R9(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oh(r){return hr(r)}class HA{constructor(e){this.auth=e,this.observer=null,this.addObserver=YL(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let g_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i6(r){g_=r}function HI(r){return g_.loadJS(r)}function s6(){return g_.recaptchaEnterpriseScript}function a6(){return g_.gapiScript}function o6(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class l6{constructor(){this.enterprise=new c6}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class c6{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const u6="recaptcha-enterprise",$I="NO_RECAPTCHA";class h6{constructor(e){this.type=u6,this.auth=oh(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,f)=>{B9(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const v=new F9(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(p=>{f(p)})})}function o(c,d,f){const p=window.grecaptcha;VA(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d($I)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l6().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(f=>{if(!t&&VA(window.grecaptcha))o(f,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=s6();p.length!==0&&(p+=f),HI(p).then(()=>{o(f,c,d)}).catch(v=>{d(v)})}}).catch(f=>{d(f)})})}}async function $A(r,e,t,s=!1,o=!1){const c=new h6(r);let d;if(o)d=$I;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,v=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function DT(r,e,t,s,o){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await $A(r,e,t,t==="getOobCode");return s(r,d)}else return s(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await $A(r,e,t,t==="getOobCode");return s(r,f)}else return Promise.reject(d)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function d6(r,e){const t=ih(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Pv(o,e??{}))return s;za(s,"already-initialized")}return t.initialize({options:e})}function f6(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(nu);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function m6(r,e,t){const s=oh(r);We(s._canInitEmulator,s,"emulator-config-failed"),We(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=GI(e),{host:d,port:f}=p6(e),p=f===null?"":`:${f}`;s.config.emulator={url:`${c}//${d}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),g6()}function GI(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function p6(r){const e=GI(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:GA(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:GA(d)}}}function GA(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function g6(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return eu("not implemented")}_getIdTokenResponse(e){return eu("not implemented")}_linkToIdToken(e,t){return eu("not implemented")}_getReauthenticationResolver(e){return eu("not implemented")}}async function y6(r,e){return ah(r,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function v6(r,e){return ab(r,"POST","/v1/accounts:signInWithPassword",sh(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function b6(r,e){return ab(r,"POST","/v1/accounts:signInWithEmailLink",sh(r,e))}async function w6(r,e){return ab(r,"POST","/v1/accounts:signInWithEmailLink",sh(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uv extends YE{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Uv(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Uv(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&t!=null&&t.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DT(e,t,"signInWithPassword",v6);case"emailLink":return b6(e,{email:this._email,oobCode:this._password});default:za(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DT(e,s,"signUpPassword",y6);case"emailLink":return w6(e,{idToken:t,email:this._email,oobCode:this._password});default:za(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function cm(r,e){return ab(r,"POST","/v1/accounts:signInWithIdp",sh(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _6="http://localhost";class Af extends YE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Af(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):za("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,c=HE(t,["providerId","signInMethod"]);if(!s||!o)return null;const d=new Af(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return cm(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,cm(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cm(e,t)}buildRequest(){const e={requestUri:_6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ib(t)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function x6(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T6(r){const e=lv(cv(r)).link,t=e?lv(cv(e)).deep_link_id:null,s=lv(cv(r)).deep_link_id;return(s?lv(cv(s)).link:null)||s||t||e||r}class XE{constructor(e){var t,s,o,c,d,f;const p=lv(cv(e)),v=(t=p.apiKey)!==null&&t!==void 0?t:null,x=(s=p.oobCode)!==null&&s!==void 0?s:null,A=x6((o=p.mode)!==null&&o!==void 0?o:null);We(v&&x&&A,"argument-error"),this.apiKey=v,this.operation=A,this.code=x,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=T6(e);try{return new XE(t)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rm{constructor(){this.providerId=Rm.PROVIDER_ID}static credential(e,t){return Uv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=XE.parseLink(t);return We(s,"argument-error"),Uv._fromEmailAndCode(e,s.code,s.tenantId)}}Rm.PROVIDER_ID="password";Rm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ZE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ob extends ZE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ju extends ob{constructor(){super("facebook.com")}static credential(e){return Af._fromParams({providerId:ju.PROVIDER_ID,signInMethod:ju.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ju.credentialFromTaggedObject(e)}static credentialFromError(e){return ju.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ju.credential(e.oauthAccessToken)}catch{return null}}}ju.FACEBOOK_SIGN_IN_METHOD="facebook.com";ju.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zc extends ob{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Af._fromParams({providerId:Zc.PROVIDER_ID,signInMethod:Zc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zc.credentialFromTaggedObject(e)}static credentialFromError(e){return Zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Zc.credential(t,s)}catch{return null}}}Zc.GOOGLE_SIGN_IN_METHOD="google.com";Zc.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cu extends ob{constructor(){super("github.com")}static credential(e){return Af._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cu.credential(e.oauthAccessToken)}catch{return null}}}Cu.GITHUB_SIGN_IN_METHOD="github.com";Cu.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ku extends ob{constructor(){super("twitter.com")}static credential(e,t){return Af._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ku.credential(t,s)}catch{return null}}}ku.TWITTER_SIGN_IN_METHOD="twitter.com";ku.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function E6(r,e){return ab(r,"POST","/v1/accounts:signUp",sh(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await tu._fromIdTokenResponse(e,s,o),d=KA(s);return new jf({user:c,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=KA(s);return new jf({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function KA(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xw extends qa{constructor(e,t,s,o){var c;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xw.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new xw(e,t,s,o)}}function KI(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xw._fromErrorAndOperation(r,o,e,s):o})}async function S6(r,e,t=!1){const s=await Lv(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return jf._forOperation(r,"link",s)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function A6(r,e,t=!1){const{auth:s}=r;if(Rs(s.app))return Promise.reject(ou(s));const o="reauthenticate";try{const c=await Lv(r,KI(s,o,e,r),t);We(c.idToken,s,"internal-error");const d=QE(c.idToken);We(d,s,"internal-error");const{sub:f}=d;return We(r.uid===f,s,"user-mismatch"),jf._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&za(s,"user-mismatch"),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function QI(r,e,t=!1){if(Rs(r.app))return Promise.reject(ou(r));const s="signIn",o=await KI(r,s,e),c=await jf._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(c.user),c}async function j6(r,e){return QI(oh(r),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function WI(r){const e=oh(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C6(r,e,t){if(Rs(r.app))return Promise.reject(ou(r));const s=oh(r),o=await DT(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E6).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&WI(r),d}),c=await jf._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(c.user),c}function k6(r,e,t){return Rs(r.app)?Promise.reject(ou(r)):j6(hr(r),Rm.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&WI(r),s})}function N6(r,e,t,s){return hr(r).onIdTokenChanged(e,t,s)}function I6(r,e,t){return hr(r).beforeAuthStateChanged(e,t)}function YI(r,e,t,s){return hr(r).onAuthStateChanged(e,t,s)}function R6(r){return hr(r).signOut()}const Tw="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class XI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tw,"1"),this.storage.removeItem(Tw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D6=1e3,O6=10;class ZI extends XI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Z9()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,O6):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},D6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZI.type="LOCAL";const P6=ZI;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JI extends XI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JI.type="SESSION";const eR=JI;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function M6(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new y_(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(d).map(async v=>v(t.origin,c)),p=await M6(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}y_.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function JE(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((f,p)=>{const v=JE("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(A){const C=A;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(C.data.response);break;default:clearTimeout(x),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gl(){return window}function U6(r){gl().location.href=r}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tR(){return typeof gl().WorkerGlobalScope<"u"&&typeof gl().importScripts=="function"}async function V6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z6(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function F6(){return tR()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nR="firebaseLocalStorageDb",B6=1,Ew="firebaseLocalStorage",rR="fbase_key";class lb{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function v_(r,e){return r.transaction([Ew],e?"readwrite":"readonly").objectStore(Ew)}function q6(){const r=indexedDB.deleteDatabase(nR);return new lb(r).toPromise()}function OT(){const r=indexedDB.open(nR,B6);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ew,{keyPath:rR})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ew)?e(s):(s.close(),await q6(),e(await OT()))})})}async function QA(r,e,t){const s=v_(r,!0).put({[rR]:e,value:t});return new lb(s).toPromise()}async function H6(r,e){const t=v_(r,!1).get(e),s=await new lb(t).toPromise();return s===void 0?null:s.value}function WA(r,e){const t=v_(r,!0).delete(e);return new lb(t).toPromise()}const $6=800,G6=3;class iR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await OT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>G6)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=y_._getInstance(F6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await V6(),!this.activeServiceWorker)return;this.sender=new L6(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await OT();return await QA(e,Tw,"1"),await WA(e,Tw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>QA(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>H6(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>WA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=v_(o,!1).getAll();return new lb(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iR.type="LOCAL";const K6=iR;new sb(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sR(r,e){return e?nu(e):(We(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eS extends YE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Q6(r){return QI(r.auth,new eS(r),r.bypassAuthState)}function W6(r){const{auth:e,user:t}=r;return We(t,e,"internal-error"),A6(t,new eS(r),r.bypassAuthState)}async function Y6(r){const{auth:e,user:t}=r;return We(t,e,"internal-error"),S6(t,new eS(r),r.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aR{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q6;case"linkViaPopup":case"linkViaRedirect":return Y6;case"reauthViaPopup":case"reauthViaRedirect":return W6;default:za(this.auth,"internal-error")}}resolve(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const X6=new sb(2e3,1e4);async function Z6(r,e,t){if(Rs(r.app))return Promise.reject(tl(r,"operation-not-supported-in-this-environment"));const s=oh(r);D9(r,e,ZE);const o=sR(s,t);return new pf(s,"signInViaPopup",e,o).executeNotNull()}class pf extends aR{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,pf.currentPopupAction&&pf.currentPopupAction.cancel(),pf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){gu(this.filter.length===1,"Popup operations only handle one event");const e=JE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X6.get())};e()}}pf.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const J6="pendingRedirect",Qb=new Map;class eV extends aR{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Qb.get(this.auth._key());if(!e){try{const t=await tV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Qb.set(this.auth._key(),e)}return this.bypassAuthState||Qb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tV(r,e){const t=iV(e),s=rV(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function nV(r,e){Qb.set(r._key(),e)}function rV(r){return nu(r._redirectPersistence)}function iV(r){return Kb(J6,r.config.apiKey,r.name)}async function sV(r,e,t=!1){if(Rs(r.app))return Promise.reject(ou(r));const s=oh(r),o=sR(s,e),c=await new eV(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aV=10*60*1e3;class oV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!oR(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(tl(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aV&&this.cachedEventUids.clear(),this.cachedEventUids.has(YA(e))}saveEventToCache(e){this.cachedEventUids.add(YA(e)),this.lastProcessedEventTime=Date.now()}}function YA(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function oR({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lV(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oR(r);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function cV(r,e={}){return ah(r,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hV=/^https?/;async function dV(r){if(r.config.emulator)return;const{authorizedDomains:e}=await cV(r);for(const t of e)try{if(fV(t))return}catch{}za(r,"unauthorized-domain")}function fV(r){const e=IT(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!hV.test(t))return!1;if(uV.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mV=new sb(3e4,6e4);function XA(){const r=gl().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function pV(r){return new Promise((e,t)=>{var s,o,c;function d(){XA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XA(),t(tl(r,"network-request-failed"))},timeout:mV.get()})}if(!((o=(s=gl().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=gl().gapi)===null||c===void 0)&&c.load)d();else{const f=o6("iframefcb");return gl()[f]=()=>{gapi.load?d():t(tl(r,"network-request-failed"))},HI(`${a6()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Wb=null,e})}let Wb=null;function gV(r){return Wb=Wb||pV(r),Wb}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yV=new sb(5e3,15e3),vV="__/auth/iframe",bV="emulator/auth/iframe",wV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_V=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xV(r){const e=r.config;We(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?KE(e,bV):`https://${r.config.authDomain}/${vV}`,s={apiKey:e.apiKey,appName:r.name,v:Ff},o=_V.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${ib(s).slice(1)}`}async function TV(r){const e=await gV(r),t=gl().gapi;return We(t,r,"internal-error"),e.open({where:document.body,url:xV(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wV,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=tl(r,"network-request-failed"),f=gl().setTimeout(()=>{c(d)},yV.get());function p(){gl().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SV=500,AV=600,jV="_blank",CV="http://localhost";class ZA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kV(r,e,t,s=SV,o=AV){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},EV),{width:s.toString(),height:o.toString(),top:c,left:d}),v=Ki().toLowerCase();t&&(f=LI(v)?jV:t),PI(v)&&(e=e||CV,p.scrollbars="yes");const x=Object.entries(p).reduce((C,[U,M])=>`${C}${U}=${M},`,"");if(X9(v)&&f!=="_self")return NV(e||"",f),new ZA(null);const A=window.open(e||"",f,x);We(A,r,"popup-blocked");try{A.focus()}catch{}return new ZA(A)}function NV(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IV="__/auth/handler",RV="emulator/auth/handler",DV=encodeURIComponent("fac");async function JA(r,e,t,s,o,c){We(r.config.authDomain,r,"auth-domain-config-required"),We(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Ff,eventId:o};if(e instanceof ZE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",WL(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,A]of Object.entries({}))d[x]=A}if(e instanceof ob){const x=e.getScopes().filter(A=>A!=="");x.length>0&&(d.scopes=x.join(","))}r.tenantId&&(d.tid=r.tenantId);const f=d;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const p=await r._getAppCheckToken(),v=p?`#${DV}=${encodeURIComponent(p)}`:"";return`${OV(r)}?${ib(f).slice(1)}${v}`}function OV({config:r}){return r.emulator?KE(r,RV):`https://${r.authDomain}/${IV}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hx="webStorageSupport";class PV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eR,this._completeRedirectFn=sV,this._overrideRedirectResult=nV}async _openPopup(e,t,s,o){var c;gu((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await JA(e,t,s,IT(),o);return kV(e,d,JE())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await JA(e,t,s,IT(),o);return U6(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(gu(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await TV(e),s=new oV(e);return t.register("authEvent",o=>(We(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hx,{type:Hx},s=>{var o;const c=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Hx];c!==void 0&&t(!!c),za(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BI()||MI()||WE()}}const MV=PV;var ej="@firebase/auth",tj="1.9.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function UV(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VV(r){sl(new Va("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=s.options;We(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qI(r)},v=new r6(s,o,c,p);return f6(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),sl(new Va("auth-internal",e=>{const t=oh(e.getProvider("auth").getImmediate());return(s=>new LV(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(ej,tj,UV(r)),Os(ej,tj,"esm2017")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zV=5*60,FV=QN("authIdTokenMaxAge")||zV;let nj=null;const BV=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>FV)return;const o=t==null?void 0:t.token;nj!==o&&(nj=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tS(r=f_()){const e=ih(r,"auth");if(e.isInitialized())return e.getImmediate();const t=d6(r,{popupRedirectResolver:MV,persistence:[K6,P6,eR]}),s=QN("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=BV(c.toString());I6(t,d,()=>d(t.currentUser)),N6(t,f=>d(f))}}const o=$N("auth");return o&&m6(t,`http://${o}`),t}function qV(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}i6({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=tl("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",qV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VV("Browser");const HV={apiKey:"AIzaSyD3pEM49vWCUqZxvE8W2KhDRc3niHfT7p8",authDomain:"psych-67c1c.firebaseapp.com",projectId:"psych-67c1c",storageBucket:"psych-67c1c.firebasestorage.app",messagingSenderId:"183648512326",appId:"1:183648512326:web:8e382ca479ea61342f9d47",measurementId:"G-9TRYDJJCDP"},lR=nI(HV);j9(lR);const cR=tS(lR),nS=re.createContext({darkMode:!1,toggleDarkMode:()=>{}}),$V=({children:r})=>{const e=()=>{const c=localStorage.getItem("darkMode");return c!==null?c==="true":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches},[t,s]=re.useState(e),o=()=>{s(c=>!c)};return re.useEffect(()=>{localStorage.setItem("darkMode",t),t?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[t]),re.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{localStorage.getItem("darkMode")===null&&s(c.matches)};return c.addEventListener("change",d),()=>c.removeEventListener("change",d)},[]),g.jsx(nS.Provider,{value:{darkMode:t,toggleDarkMode:o},children:r})};/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const GV=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uR=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var KV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const QV=re.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...f},p)=>re.createElement("svg",{ref:p,...KV,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:uR("lucide",o),...f},[...d.map(([v,x])=>re.createElement(v,x)),...Array.isArray(c)?c:[c]]));/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pa=(r,e)=>{const t=re.forwardRef(({className:s,...o},c)=>re.createElement(QV,{ref:c,iconNode:e,className:uR(`lucide-${GV(r)}`,s),...o}));return t.displayName=`${r}`,t};/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const WV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],YV=Pa("Bell",WV);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const XV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ZV=Pa("Calendar",XV);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const JV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xo=Pa("ChevronRight",JV);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const e5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],rj=Pa("CircleUser",e5);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const t5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],n5=Pa("FileText",t5);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const r5=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],i5=Pa("LogOut",r5);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const s5=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],a5=Pa("Moon",s5);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const o5=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],l5=Pa("Settings",o5);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const c5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],u5=Pa("Shield",c5);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const h5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],d5=Pa("SquareActivity",h5);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const f5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],m5=Pa("User",f5);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const p5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],g5=Pa("Users",p5);/**
* @license lucide-react v0.479.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const y5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ij=Pa("X",y5);var sj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vu,hR;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,j){function S(){}S.prototype=j.prototype,R.D=j.prototype,R.prototype=new S,R.prototype.constructor=R,R.C=function(N,O,z){for(var I=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)I[dt-2]=arguments[dt];return j.prototype[O].apply(N,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,j,S){S||(S=0);var N=Array(16);if(typeof j=="string")for(var O=0;16>O;++O)N[O]=j.charCodeAt(S++)|j.charCodeAt(S++)<<8|j.charCodeAt(S++)<<16|j.charCodeAt(S++)<<24;else for(O=0;16>O;++O)N[O]=j[S++]|j[S++]<<8|j[S++]<<16|j[S++]<<24;j=R.g[0],S=R.g[1],O=R.g[2];var z=R.g[3],I=j+(z^S&(O^z))+N[0]+3614090360&4294967295;j=S+(I<<7&4294967295|I>>>25),I=z+(O^j&(S^O))+N[1]+3905402710&4294967295,z=j+(I<<12&4294967295|I>>>20),I=O+(S^z&(j^S))+N[2]+606105819&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(j^O&(z^j))+N[3]+3250441966&4294967295,S=O+(I<<22&4294967295|I>>>10),I=j+(z^S&(O^z))+N[4]+4118548399&4294967295,j=S+(I<<7&4294967295|I>>>25),I=z+(O^j&(S^O))+N[5]+1200080426&4294967295,z=j+(I<<12&4294967295|I>>>20),I=O+(S^z&(j^S))+N[6]+2821735955&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(j^O&(z^j))+N[7]+4249261313&4294967295,S=O+(I<<22&4294967295|I>>>10),I=j+(z^S&(O^z))+N[8]+1770035416&4294967295,j=S+(I<<7&4294967295|I>>>25),I=z+(O^j&(S^O))+N[9]+2336552879&4294967295,z=j+(I<<12&4294967295|I>>>20),I=O+(S^z&(j^S))+N[10]+4294925233&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(j^O&(z^j))+N[11]+2304563134&4294967295,S=O+(I<<22&4294967295|I>>>10),I=j+(z^S&(O^z))+N[12]+1804603682&4294967295,j=S+(I<<7&4294967295|I>>>25),I=z+(O^j&(S^O))+N[13]+4254626195&4294967295,z=j+(I<<12&4294967295|I>>>20),I=O+(S^z&(j^S))+N[14]+2792965006&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(j^O&(z^j))+N[15]+1236535329&4294967295,S=O+(I<<22&4294967295|I>>>10),I=j+(O^z&(S^O))+N[1]+4129170786&4294967295,j=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(j^S))+N[6]+3225465664&4294967295,z=j+(I<<9&4294967295|I>>>23),I=O+(j^S&(z^j))+N[11]+643717713&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^j&(O^z))+N[0]+3921069994&4294967295,S=O+(I<<20&4294967295|I>>>12),I=j+(O^z&(S^O))+N[5]+3593408605&4294967295,j=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(j^S))+N[10]+38016083&4294967295,z=j+(I<<9&4294967295|I>>>23),I=O+(j^S&(z^j))+N[15]+3634488961&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^j&(O^z))+N[4]+3889429448&4294967295,S=O+(I<<20&4294967295|I>>>12),I=j+(O^z&(S^O))+N[9]+568446438&4294967295,j=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(j^S))+N[14]+3275163606&4294967295,z=j+(I<<9&4294967295|I>>>23),I=O+(j^S&(z^j))+N[3]+4107603335&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^j&(O^z))+N[8]+1163531501&4294967295,S=O+(I<<20&4294967295|I>>>12),I=j+(O^z&(S^O))+N[13]+2850285829&4294967295,j=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(j^S))+N[2]+4243563512&4294967295,z=j+(I<<9&4294967295|I>>>23),I=O+(j^S&(z^j))+N[7]+1735328473&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^j&(O^z))+N[12]+2368359562&4294967295,S=O+(I<<20&4294967295|I>>>12),I=j+(S^O^z)+N[5]+4294588738&4294967295,j=S+(I<<4&4294967295|I>>>28),I=z+(j^S^O)+N[8]+2272392833&4294967295,z=j+(I<<11&4294967295|I>>>21),I=O+(z^j^S)+N[11]+1839030562&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^j)+N[14]+4259657740&4294967295,S=O+(I<<23&4294967295|I>>>9),I=j+(S^O^z)+N[1]+2763975236&4294967295,j=S+(I<<4&4294967295|I>>>28),I=z+(j^S^O)+N[4]+1272893353&4294967295,z=j+(I<<11&4294967295|I>>>21),I=O+(z^j^S)+N[7]+4139469664&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^j)+N[10]+3200236656&4294967295,S=O+(I<<23&4294967295|I>>>9),I=j+(S^O^z)+N[13]+681279174&4294967295,j=S+(I<<4&4294967295|I>>>28),I=z+(j^S^O)+N[0]+3936430074&4294967295,z=j+(I<<11&4294967295|I>>>21),I=O+(z^j^S)+N[3]+3572445317&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^j)+N[6]+76029189&4294967295,S=O+(I<<23&4294967295|I>>>9),I=j+(S^O^z)+N[9]+3654602809&4294967295,j=S+(I<<4&4294967295|I>>>28),I=z+(j^S^O)+N[12]+3873151461&4294967295,z=j+(I<<11&4294967295|I>>>21),I=O+(z^j^S)+N[15]+530742520&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^j)+N[2]+3299628645&4294967295,S=O+(I<<23&4294967295|I>>>9),I=j+(O^(S|~z))+N[0]+4096336452&4294967295,j=S+(I<<6&4294967295|I>>>26),I=z+(S^(j|~O))+N[7]+1126891415&4294967295,z=j+(I<<10&4294967295|I>>>22),I=O+(j^(z|~S))+N[14]+2878612391&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~j))+N[5]+4237533241&4294967295,S=O+(I<<21&4294967295|I>>>11),I=j+(O^(S|~z))+N[12]+1700485571&4294967295,j=S+(I<<6&4294967295|I>>>26),I=z+(S^(j|~O))+N[3]+2399980690&4294967295,z=j+(I<<10&4294967295|I>>>22),I=O+(j^(z|~S))+N[10]+4293915773&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~j))+N[1]+2240044497&4294967295,S=O+(I<<21&4294967295|I>>>11),I=j+(O^(S|~z))+N[8]+1873313359&4294967295,j=S+(I<<6&4294967295|I>>>26),I=z+(S^(j|~O))+N[15]+4264355552&4294967295,z=j+(I<<10&4294967295|I>>>22),I=O+(j^(z|~S))+N[6]+2734768916&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~j))+N[13]+1309151649&4294967295,S=O+(I<<21&4294967295|I>>>11),I=j+(O^(S|~z))+N[4]+4149444226&4294967295,j=S+(I<<6&4294967295|I>>>26),I=z+(S^(j|~O))+N[11]+3174756917&4294967295,z=j+(I<<10&4294967295|I>>>22),I=O+(j^(z|~S))+N[2]+718787259&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~j))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+j&4294967295,R.g[1]=R.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+z&4294967295}s.prototype.u=function(R,j){j===void 0&&(j=R.length);for(var S=j-this.blockSize,N=this.B,O=this.h,z=0;z<j;){if(O==0)for(;z<=S;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<j;)if(N[O++]=R.charCodeAt(z++),O==this.blockSize){o(this,N),O=0;break}}else for(;z<j;)if(N[O++]=R[z++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=j},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var j=1;j<R.length-8;++j)R[j]=0;var S=8*this.o;for(j=R.length-8;j<R.length;++j)R[j]=S&255,S/=256;for(this.u(R),R=Array(16),j=S=0;4>j;++j)for(var N=0;32>N;N+=8)R[S++]=this.g[j]>>>N&255;return R};function c(R,j){var S=f;return Object.prototype.hasOwnProperty.call(S,R)?S[R]:S[R]=j(R)}function d(R,j){this.h=j;for(var S=[],N=!0,O=R.length-1;0<=O;O--){var z=R[O]|0;N&&z==j||(S[O]=z,N=!1)}this.g=S}var f={};function p(R){return-128<=R&&128>R?c(R,function(j){return new d([j|0],0>j?-1:0)}):new d([R|0],0>R?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return A;if(0>R)return q(v(-R));for(var j=[],S=1,N=0;R>=S;N++)j[N]=R/S|0,S*=4294967296;return new d(j,0)}function x(R,j){if(R.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(R.charAt(0)=="-")return q(x(R.substring(1),j));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(j,8)),N=A,O=0;O<R.length;O+=8){var z=Math.min(8,R.length-O),I=parseInt(R.substring(O,O+z),j);8>z?(z=v(Math.pow(j,z)),N=N.j(z).add(v(I))):(N=N.j(S),N=N.add(v(I)))}return N}var A=p(0),C=p(1),U=p(16777216);r=d.prototype,r.m=function(){if(K(this))return-q(this).m();for(var R=0,j=1,S=0;S<this.g.length;S++){var N=this.i(S);R+=(0<=N?N:4294967296+N)*j,j*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M(this))return"0";if(K(this))return"-"+q(this).toString(R);for(var j=v(Math.pow(R,6)),S=this,N="";;){var O=ae(S,j).g;S=G(S,O.j(j));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(R);if(S=O,M(S))return z+N;for(;6>z.length;)z="0"+z;N=z+N}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function M(R){if(R.h!=0)return!1;for(var j=0;j<R.g.length;j++)if(R.g[j]!=0)return!1;return!0}function K(R){return R.h==-1}r.l=function(R){return R=G(this,R),K(R)?-1:M(R)?0:1};function q(R){for(var j=R.g.length,S=[],N=0;N<j;N++)S[N]=~R.g[N];return new d(S,~R.h).add(C)}r.abs=function(){return K(this)?q(this):this},r.add=function(R){for(var j=Math.max(this.g.length,R.g.length),S=[],N=0,O=0;O<=j;O++){var z=N+(this.i(O)&65535)+(R.i(O)&65535),I=(z>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);N=I>>>16,z&=65535,I&=65535,S[O]=I<<16|z}return new d(S,S[S.length-1]&-2147483648?-1:0)};function G(R,j){return R.add(q(j))}r.j=function(R){if(M(this)||M(R))return A;if(K(this))return K(R)?q(this).j(q(R)):q(q(this).j(R));if(K(R))return q(this.j(q(R)));if(0>this.l(U)&&0>R.l(U))return v(this.m()*R.m());for(var j=this.g.length+R.g.length,S=[],N=0;N<2*j;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<R.g.length;O++){var z=this.i(N)>>>16,I=this.i(N)&65535,dt=R.i(O)>>>16,nt=R.i(O)&65535;S[2*N+2*O]+=I*nt,Z(S,2*N+2*O),S[2*N+2*O+1]+=z*nt,Z(S,2*N+2*O+1),S[2*N+2*O+1]+=I*dt,Z(S,2*N+2*O+1),S[2*N+2*O+2]+=z*dt,Z(S,2*N+2*O+2)}for(N=0;N<j;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=j;N<2*j;N++)S[N]=0;return new d(S,0)};function Z(R,j){for(;(R[j]&65535)!=R[j];)R[j+1]+=R[j]>>>16,R[j]&=65535,j++}function Y(R,j){this.g=R,this.h=j}function ae(R,j){if(M(j))throw Error("division by zero");if(M(R))return new Y(A,A);if(K(R))return j=ae(q(R),j),new Y(q(j.g),q(j.h));if(K(j))return j=ae(R,q(j)),new Y(q(j.g),j.h);if(30<R.g.length){if(K(R)||K(j))throw Error("slowDivide_ only works with positive integers.");for(var S=C,N=j;0>=N.l(R);)S=ce(S),N=ce(N);var O=de(S,1),z=de(N,1);for(N=de(N,2),S=de(S,2);!M(N);){var I=z.add(N);0>=I.l(R)&&(O=O.add(S),z=I),N=de(N,1),S=de(S,1)}return j=G(R,O.j(j)),new Y(O,j)}for(O=A;0<=R.l(j);){for(S=Math.max(1,Math.floor(R.m()/j.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),z=v(S),I=z.j(j);K(I)||0<I.l(R);)S-=N,z=v(S),I=z.j(j);M(z)&&(z=C),O=O.add(z),R=G(R,I)}return new Y(O,R)}r.A=function(R){return ae(this,R).h},r.and=function(R){for(var j=Math.max(this.g.length,R.g.length),S=[],N=0;N<j;N++)S[N]=this.i(N)&R.i(N);return new d(S,this.h&R.h)},r.or=function(R){for(var j=Math.max(this.g.length,R.g.length),S=[],N=0;N<j;N++)S[N]=this.i(N)|R.i(N);return new d(S,this.h|R.h)},r.xor=function(R){for(var j=Math.max(this.g.length,R.g.length),S=[],N=0;N<j;N++)S[N]=this.i(N)^R.i(N);return new d(S,this.h^R.h)};function ce(R){for(var j=R.g.length+1,S=[],N=0;N<j;N++)S[N]=R.i(N)<<1|R.i(N-1)>>>31;return new d(S,R.h)}function de(R,j){var S=j>>5;j%=32;for(var N=R.g.length-S,O=[],z=0;z<N;z++)O[z]=0<j?R.i(z+S)>>>j|R.i(z+S+1)<<32-j:R.i(z+S);return new d(O,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,hR=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=x,Vu=d}).apply(typeof sj<"u"?sj:typeof self<"u"?self:typeof window<"u"?window:{});var Cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dR,uv,fR,Yb,PT,mR,pR,gR;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,b,w){return u==Array.prototype||u==Object.prototype||(u[b]=w.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cb=="object"&&Cb];for(var b=0;b<u.length;++b){var w=u[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function o(u,b){if(b)e:{var w=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var F=u[E];if(!(F in w))break e;w=w[F]}u=u[u.length-1],E=w[u],b=b(E),b!=E&&b!=null&&e(w,u,{configurable:!0,writable:!0,value:b})}}function c(u,b){u instanceof String&&(u+="");var w=0,E=!1,F={next:function(){if(!E&&w<u.length){var $=w++;return{value:b($,u[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return c(this,function(b,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function p(u){var b=typeof u;return b=b!="object"?b:u?Array.isArray(u)?"array":b:"null",b=="array"||b=="object"&&typeof u.length=="number"}function v(u){var b=typeof u;return b=="object"&&u!=null||b=="function"}function x(u,b,w){return u.call.apply(u.bind,arguments)}function A(u,b,w){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,E),u.apply(b,F)}}return function(){return u.apply(b,arguments)}}function C(u,b,w){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:A,C.apply(null,arguments)}function U(u,b){var w=Array.prototype.slice.call(arguments,1);return function(){var E=w.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function M(u,b){function w(){}w.prototype=b.prototype,u.aa=b.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(E,F,$){for(var ne=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ne[Re-2]=arguments[Re];return b.prototype[F].apply(E,ne)}}function K(u){const b=u.length;if(0<b){const w=Array(b);for(let E=0;E<b;E++)w[E]=u[E];return w}return[]}function q(u,b){for(let w=1;w<arguments.length;w++){const E=arguments[w];if(p(E)){const F=u.length||0,$=E.length||0;u.length=F+$;for(let ne=0;ne<$;ne++)u[F+ne]=E[ne]}else u.push(E)}}class G{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function Z(u){return/^[\s\xa0]*$/.test(u)}function Y(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ae(u){return ae[" "](u),u}ae[" "]=function(){};var ce=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function de(u,b,w){for(const E in u)b.call(w,u[E],E,u)}function R(u,b){for(const w in u)b.call(void 0,u[w],w,u)}function j(u){const b={};for(const w in u)b[w]=u[w];return b}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,b){let w,E;for(let F=1;F<arguments.length;F++){E=arguments[F];for(w in E)u[w]=E[w];for(let $=0;$<S.length;$++)w=S[$],Object.prototype.hasOwnProperty.call(E,w)&&(u[w]=E[w])}}function O(u){var b=1;u=u.split(":");const w=[];for(;0<b&&u.length;)w.push(u.shift()),b--;return u.length&&w.push(u.join(":")),w}function z(u){f.setTimeout(()=>{throw u},0)}function I(){var u=_e;let b=null;return u.g&&(b=u.g,u.g=u.g.next,u.g||(u.h=null),b.next=null),b}class dt{constructor(){this.h=this.g=null}add(b,w){const E=nt.get();E.set(b,w),this.h?this.h.next=E:this.g=E,this.h=E}}var nt=new G(()=>new se,u=>u.reset());class se{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let be,te=!1,_e=new dt,D=()=>{const u=f.Promise.resolve(void 0);be=()=>{u.then(X)}};var X=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(w){z(w)}var b=nt;b.j(u),100>b.h&&(b.h++,u.next=b.g,b.g=u)}te=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(u,b){this.type=u,this.g=this.target=b,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,b=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};f.addEventListener("test",w,b),f.removeEventListener("test",w,b)}catch{}return u}();function Ee(u,b){if(oe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=b,b=u.relatedTarget){if(ce){e:{try{ae(b.nodeName);var F=!0;break e}catch{}F=!1}F||(b=null)}}else w=="mouseover"?b=u.fromElement:w=="mouseout"&&(b=u.toElement);this.relatedTarget=b,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ee.aa.h.call(this)}}M(Ee,oe);var Te={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function rt(u,b,w,E,F){this.listener=u,this.proxy=null,this.src=b,this.type=w,this.capture=!!E,this.ha=F,this.key=++Oe,this.da=this.fa=!1}function Fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qt(u){this.src=u,this.g={},this.h=0}Qt.prototype.add=function(u,b,w,E,F){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ne=fn(u,b,E,F);return-1<ne?(b=u[ne],w||(b.fa=!1)):(b=new rt(b,this.src,$,!!E,F),b.fa=w,u.push(b)),b};function wr(u,b){var w=b.type;if(w in u.g){var E=u.g[w],F=Array.prototype.indexOf.call(E,b,void 0),$;($=0<=F)&&Array.prototype.splice.call(E,F,1),$&&(Fe(b),u.g[w].length==0&&(delete u.g[w],u.h--))}}function fn(u,b,w,E){for(var F=0;F<u.length;++F){var $=u[F];if(!$.da&&$.listener==b&&$.capture==!!w&&$.ha==E)return F}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),ei={};function _r(u,b,w,E,F){if(Array.isArray(b)){for(var $=0;$<b.length;$++)_r(u,b[$],w,E,F);return null}return w=Nl(w),u&&u[pt]?u.K(b,w,v(E)?!!E.capture:!1,F):$a(u,b,w,!1,E,F)}function $a(u,b,w,E,F,$){if(!b)throw Error("Invalid event type");var ne=v(F)?!!F.capture:!!F,Re=Ga(u);if(Re||(u[Jr]=Re=new Qt(u)),w=Re.add(b,w,E,ne,$),w.proxy)return w;if(E=Fs(),w.proxy=E,E.src=u,E.listener=w,u.addEventListener)le||(F=ne),F===void 0&&(F=!1),u.addEventListener(b.toString(),E,F);else if(u.attachEvent)u.attachEvent(qs(b.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Fs(){function u(w){return b.call(u.src,u.listener,w)}const b=dh;return u}function Bs(u,b,w,E,F){if(Array.isArray(b))for(var $=0;$<b.length;$++)Bs(u,b[$],w,E,F);else E=v(E)?!!E.capture:!!E,w=Nl(w),u&&u[pt]?(u=u.i,b=String(b).toString(),b in u.g&&($=u.g[b],w=fn($,w,E,F),-1<w&&(Fe($[w]),Array.prototype.splice.call($,w,1),$.length==0&&(delete u.g[b],u.h--)))):u&&(u=Ga(u))&&(b=u.g[b.toString()],u=-1,b&&(u=fn(b,w,E,F)),(w=-1<u?b[u]:null)&&Wi(w))}function Wi(u){if(typeof u!="number"&&u&&!u.da){var b=u.src;if(b&&b[pt])wr(b.i,u);else{var w=u.type,E=u.proxy;b.removeEventListener?b.removeEventListener(w,E,u.capture):b.detachEvent?b.detachEvent(qs(w),E):b.addListener&&b.removeListener&&b.removeListener(E),(w=Ga(b))?(wr(w,u),w.h==0&&(w.src=null,b[Jr]=null)):Fe(u)}}}function qs(u){return u in ei?ei[u]:ei[u]="on"+u}function dh(u,b){if(u.da)u=!0;else{b=new Ee(b,this);var w=u.listener,E=u.ha||u.src;u.fa&&Wi(u),u=w.call(E,b)}return u}function Ga(u){return u=u[Jr],u instanceof Qt?u:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nl(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(b){return u.handleEvent(b)}),u[nn])}function _t(){ue.call(this),this.i=new Qt(this),this.M=this,this.F=null}M(_t,ue),_t.prototype[pt]=!0,_t.prototype.removeEventListener=function(u,b,w,E){Bs(this,u,b,w,E)};function At(u,b){var w,E=u.F;if(E)for(w=[];E;E=E.F)w.push(E);if(u=u.M,E=b.type||b,typeof b=="string")b=new oe(b,u);else if(b instanceof oe)b.target=b.target||u;else{var F=b;b=new oe(E,u),N(b,F)}if(F=!0,w)for(var $=w.length-1;0<=$;$--){var ne=b.g=w[$];F=xr(ne,E,!0,b)&&F}if(ne=b.g=u,F=xr(ne,E,!0,b)&&F,F=xr(ne,E,!1,b)&&F,w)for($=0;$<w.length;$++)ne=b.g=w[$],F=xr(ne,E,!1,b)&&F}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var u=this.i,b;for(b in u.g){for(var w=u.g[b],E=0;E<w.length;E++)Fe(w[E]);delete u.g[b],u.h--}}this.F=null},_t.prototype.K=function(u,b,w,E){return this.i.add(String(u),b,!1,w,E)},_t.prototype.L=function(u,b,w,E){return this.i.add(String(u),b,!0,w,E)};function xr(u,b,w,E){if(b=u.i.g[String(b)],!b)return!0;b=b.concat();for(var F=!0,$=0;$<b.length;++$){var ne=b[$];if(ne&&!ne.da&&ne.capture==w){var Re=ne.listener,Tt=ne.ha||ne.src;ne.fa&&wr(u.i,ne),F=Re.call(Tt,E)!==!1&&F}}return F&&!E.defaultPrevented}function Il(u,b,w){if(typeof u=="function")w&&(u=C(u,w));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:f.setTimeout(u,b||0)}function Ka(u){u.g=Il(()=>{u.g=null,u.i&&(u.i=!1,Ka(u))},u.l);const b=u.h;u.h=null,u.m.apply(null,b)}class fh extends ue{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ka(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(u){ue.call(this),this.h=u,this.g={}}M(Yi,ue);var ti=[];function Gt(u){de(u.g,function(b,w){this.g.hasOwnProperty(w)&&Wi(b)},u),u.g={}}Yi.prototype.N=function(){Yi.aa.N.call(this),Gt(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qa=f.JSON.stringify,Qn=f.JSON.parse,Wt=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Wa(){}Wa.prototype.h=null;function Rl(u){return u.h||(u.h=u.i())}function Dl(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){oe.call(this,"d")}M(ni,oe);function Mn(){oe.call(this,"c")}M(Mn,oe);var mn={},ri=null;function Hs(){return ri=ri||new _t}mn.La="serverreachability";function Ya(u){oe.call(this,mn.La,u)}M(Ya,oe);function ii(u){const b=Hs();At(b,new Ya(b))}mn.STAT_EVENT="statevent";function $s(u,b){oe.call(this,mn.STAT_EVENT,u),this.stat=b}M($s,oe);function ft(u){const b=Hs();At(b,new $s(b,u))}mn.Ma="timingevent";function Ol(u,b){oe.call(this,mn.Ma,u),this.size=b}M(Ol,oe);function si(u,b){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},b)}function ai(){this.g=!0}ai.prototype.xa=function(){this.g=!1};function Pl(u,b,w,E,F,$){u.info(function(){if(u.g)if($)for(var ne="",Re=$.split("&"),Tt=0;Tt<Re.length;Tt++){var De=Re[Tt].split("=");if(1<De.length){var kt=De[0];De=De[1];var Nt=kt.split("_");ne=2<=Nt.length&&Nt[1]=="type"?ne+(kt+"="+De+"&"):ne+(kt+"=redacted&")}}else ne=null;else ne=$;return"XMLHTTP REQ ("+E+") [attempt "+F+"]: "+b+`
`+w+`
`+ne})}function Ml(u,b,w,E,F,$,ne){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+F+"]: "+b+`
`+w+`
`+$+" "+ne})}function oi(u,b,w,E){u.info(function(){return"XMLHTTP TEXT ("+b+"): "+jt(u,w)+(E?" "+E:"")})}function Yn(u,b){u.info(function(){return"TIMEOUT: "+b})}ai.prototype.info=function(){};function jt(u,b){if(!u.g)return b;if(!b)return null;try{var w=JSON.parse(b);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var E=w[u];if(!(2>E.length)){var F=E[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var ne=1;ne<F.length;ne++)F[ne]=""}}}}return Qa(w)}catch{return b}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xi;function Gs(){}M(Gs,Wa),Gs.prototype.g=function(){return new XMLHttpRequest},Gs.prototype.i=function(){return{}},Xi=new Gs;function Xn(u,b,w,E){this.j=u,this.i=b,this.l=w,this.R=E||1,this.U=new Yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xa}function Xa(){this.i=null,this.g="",this.h=!1}var li={},Zi={};function Ln(u,b,w){u.L=1,u.v=ts(ct(b)),u.m=w,u.P=!0,Er(u,null)}function Er(u,b){u.F=Date.now(),Ze(u),u.A=ct(u.v);var w=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),jr(w.i,"t",E),u.C=0,w=u.j.J,u.h=new Xa,u.g=Yl(u.j,w?b:null,!u.m),0<u.O&&(u.M=new fh(C(u.Y,u,u.g),u.O)),b=u.U,w=u.g,E=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(ti[0]=F.toString()),F=ti);for(var $=0;$<F.length;$++){var ne=_r(w,F[$],E||b.handleEvent,!1,b.h||b);if(!ne)break;b.g[ne.key]=ne}b=u.H?j(u.H):{},u.m?(u.u||(u.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,b)):(u.u="GET",u.g.ea(u.A,u.u,null,b)),ii(),Pl(u.i,u.u,u.A,u.l,u.R,u.m)}Xn.prototype.ca=function(u){u=u.target;const b=this.M;b&&bn(u)==3?b.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Nt=bn(this.g);var b=this.g.Ba();const Ir=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Bl(this.g)))){this.J||Nt!=4||b==7||(b==8||0>=Ir?ii(3):ii(2)),Ks(this);var w=this.g.Z();this.X=w;t:if(ci(this)){var E=Bl(this.g);u="";var F=E.length,$=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),an(this);var ne="";break t}this.h.i=new f.TextDecoder}for(b=0;b<F;b++)this.h.h=!0,u+=this.h.i.decode(E[b],{stream:!($&&b==F-1)});E.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=w==200,Ml(this.i,this.u,this.A,this.l,this.R,Nt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,Tt=this.g;if((Re=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Re)){var De=Re;break t}}De=null}if(w=De)oi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,w);else{this.o=!1,this.s=3,ft(12),rn(this),an(this);break e}}if(this.P){w=!0;let Ut;for(;!this.J&&this.C<ne.length;)if(Ut=ui(this,ne),Ut==Zi){Nt==4&&(this.s=4,ft(14),w=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==li){this.s=4,ft(15),oi(this.i,this.l,ne,"[Invalid Chunk]"),w=!1;break}else oi(this.i,this.l,Ut,null),on(this,Ut);if(ci(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ne.length!=0||this.h.h||(this.s=1,ft(16),w=!1),this.o=this.o&&w,!w)oi(this.i,this.l,ne,"[Invalid Chunked Response]"),rn(this),an(this);else if(0<ne.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),ls(kt),kt.M=!0,ft(11))}}else oi(this.i,this.l,ne,null),on(this,ne);Nt==4&&rn(this),this.o&&!this.J&&(Nt==4?Kl(this.j,this):(this.o=!1,Ze(this)))}else bh(this.g),w==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),rn(this),an(this)}}}catch{}finally{}};function ci(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ui(u,b){var w=u.C,E=b.indexOf(`
`,w);return E==-1?Zi:(w=Number(b.substring(w,E)),isNaN(w)?li:(E+=1,E+w>b.length?Zi:(b=b.slice(E,E+w),u.C=E+w,b)))}Xn.prototype.cancel=function(){this.J=!0,rn(this)};function Ze(u){u.S=Date.now()+u.I,Za(u,u.I)}function Za(u,b){if(u.B!=null)throw Error("WatchDog timer not null");u.B=si(C(u.ba,u),b)}function Ks(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Yn(this.i,this.A),this.L!=2&&(ii(),ft(17)),rn(this),this.s=2,an(this)):Za(this,this.S-u)};function an(u){u.j.G==0||u.J||Kl(u.j,u)}function rn(u){Ks(u);var b=u.M;b&&typeof b.ma=="function"&&b.ma(),u.M=null,Gt(u.U),u.g&&(b=u.g,u.g=null,b.abort(),b.ma())}function on(u,b){try{var w=u.j;if(w.G!=0&&(w.g==u||hi(w.h,u))){if(!u.K&&hi(w.h,u)&&w.G==3){try{var E=w.Da.g.parse(b)}catch{E=null}if(Array.isArray(E)&&E.length==3){var F=E;if(F[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)ra(w),ta(w);else break e;co(w),ft(18)}}else w.za=F[1],0<w.za-w.T&&37500>F[2]&&w.F&&w.v==0&&!w.C&&(w.C=si(C(w.Za,w),6e3));if(1>=Ll(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Nr(w,11)}else if((u.K||w.g==u)&&ra(w),!Z(b))for(F=w.Da.g.parse(b),b=0;b<F.length;b++){let De=F[b];if(w.T=De[0],De=De[1],w.G==2)if(De[0]=="c"){w.K=De[1],w.ia=De[2];const kt=De[3];kt!=null&&(w.la=kt,w.j.info("VER="+w.la));const Nt=De[4];Nt!=null&&(w.Aa=Nt,w.j.info("SVER="+w.Aa));const Ir=De[5];Ir!=null&&typeof Ir=="number"&&0<Ir&&(E=1.5*Ir,w.L=E,w.j.info("backChannelRequestTimeoutMs_="+E)),E=w;const Ut=u.g;if(Ut){const ir=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ir){var $=E.h;$.g||ir.indexOf("spdy")==-1&&ir.indexOf("quic")==-1&&ir.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(di($,$.h),$.h=null))}if(E.D){const ho=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(E.ya=ho,Pe(E.I,E.D,ho))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),E=w;var ne=u;if(E.qa=Wl(E,E.J?E.ia:null,E.W),ne.K){pn(E.h,ne);var Re=ne,Tt=E.L;Tt&&(Re.I=Tt),Re.B&&(Ks(Re),Ze(Re)),E.g=ne}else $l(E);0<w.i.length&&na(w)}else De[0]!="stop"&&De[0]!="close"||Nr(w,7);else w.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Nr(w,7):oo(w):De[0]!="noop"&&w.l&&w.l.ta(De),w.v=0)}}ii(4)}catch{}}var mh=class{constructor(u,b){this.g=u,this.map=b}};function Ja(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ll(u){return u.h?1:u.g?u.g.size:0}function hi(u,b){return u.h?u.h==b:u.g?u.g.has(b):!1}function di(u,b){u.g?u.g.add(b):u.h=b}function pn(u,b){u.h&&u.h==b?u.h=null:u.g&&u.g.has(b)&&u.g.delete(b)}Ja.prototype.cancel=function(){if(this.i=Yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yt(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let b=u.i;for(const w of u.g.values())b=b.concat(w.D);return b}return K(u.i)}function Ul(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var b=[],w=u.length,E=0;E<w;E++)b.push(u[E]);return b}b=[],w=0;for(E in u)b[w++]=u[E];return b}function ph(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var b=[];u=u.length;for(var w=0;w<u;w++)b.push(w);return b}b=[],w=0;for(const E in u)b[w++]=E;return b}}}function Ji(u,b){if(u.forEach&&typeof u.forEach=="function")u.forEach(b,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,b,void 0);else for(var w=ph(u),E=Ul(u),F=E.length,$=0;$<F;$++)b.call(void 0,E[$],w&&w[$],u)}var to=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(u,b){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var E=u[w].indexOf("="),F=null;if(0<=E){var $=u[w].substring(0,E);F=u[w].substring(E+1)}else $=u[w];b($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Sr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Sr){this.h=u.h,fi(this,u.j),this.o=u.o,this.g=u.g,es(this,u.s),this.l=u.l;var b=u.i,w=new Zn;w.i=b.i,b.g&&(w.g=new Map(b.g),w.h=b.h),Ws(this,w),this.m=u.m}else u&&(b=String(u).match(to))?(this.h=!1,fi(this,b[1]||"",!0),this.o=mi(b[2]||""),this.g=mi(b[3]||"",!0),es(this,b[4]),this.l=mi(b[5]||"",!0),Ws(this,b[6]||"",!0),this.m=mi(b[7]||"")):(this.h=!1,this.i=new Zn(null,this.h))}Sr.prototype.toString=function(){var u=[],b=this.j;b&&u.push(gn(b,no,!0),":");var w=this.g;return(w||b=="file")&&(u.push("//"),(b=this.o)&&u.push(gn(b,no,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(gn(w,w.charAt(0)=="/"?ro:Vl,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",gn(w,vh)),u.join("")};function ct(u){return new Sr(u)}function fi(u,b,w){u.j=w?mi(b,!0):b,u.j&&(u.j=u.j.replace(/:$/,""))}function es(u,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);u.s=b}else u.s=null}function Ws(u,b,w){b instanceof Zn?(u.i=b,io(u.i,u.h)):(w||(b=gn(b,yh)),u.i=new Zn(b,u.h))}function Pe(u,b,w){u.i.set(b,w)}function ts(u){return Pe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mi(u,b){return u?b?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gn(u,b,w){return typeof u=="string"?(u=encodeURI(u).replace(b,gh),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var no=/[#\/\?@]/g,Vl=/[#\?:]/g,ro=/[#\?]/g,yh=/[#\?@]/g,vh=/#/g;function Zn(u,b){this.h=this.g=null,this.i=u||null,this.j=!!b}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qs(u.i,function(b,w){u.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}r=Zn.prototype,r.add=function(u,b){yn(this),this.i=null,u=Cr(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(b),this.h+=1,this};function Ys(u,b){yn(u),b=Cr(u,b),u.g.has(b)&&(u.i=null,u.h-=u.g.get(b).length,u.g.delete(b))}function Ar(u,b){return yn(u),b=Cr(u,b),u.g.has(b)}r.forEach=function(u,b){yn(this),this.g.forEach(function(w,E){w.forEach(function(F){u.call(b,F,E,this)},this)},this)},r.na=function(){yn(this);const u=Array.from(this.g.values()),b=Array.from(this.g.keys()),w=[];for(let E=0;E<b.length;E++){const F=u[E];for(let $=0;$<F.length;$++)w.push(b[E])}return w},r.V=function(u){yn(this);let b=[];if(typeof u=="string")Ar(this,u)&&(b=b.concat(this.g.get(Cr(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)b=b.concat(u[w])}return b},r.set=function(u,b){return yn(this),this.i=null,u=Cr(this,u),Ar(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[b]),this.h+=1,this},r.get=function(u,b){return u?(u=this.V(u),0<u.length?String(u[0]):b):b};function jr(u,b,w){Ys(u,b),0<w.length&&(u.i=null,u.g.set(Cr(u,b),K(w)),u.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],b=Array.from(this.g.keys());for(var w=0;w<b.length;w++){var E=b[w];const $=encodeURIComponent(String(E)),ne=this.V(E);for(E=0;E<ne.length;E++){var F=$;ne[E]!==""&&(F+="="+encodeURIComponent(String(ne[E]))),u.push(F)}}return this.i=u.join("&")};function Cr(u,b){return b=String(b),u.j&&(b=b.toLowerCase()),b}function io(u,b){b&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(w,E){var F=E.toLowerCase();E!=F&&(Ys(this,E),jr(this,F,w))},u)),u.j=b}function zl(u,b){const w=new ai;if(f.Image){const E=new Image;E.onload=U(vn,w,"TestLoadImage: loaded",!0,b,E),E.onerror=U(vn,w,"TestLoadImage: error",!1,b,E),E.onabort=U(vn,w,"TestLoadImage: abort",!1,b,E),E.ontimeout=U(vn,w,"TestLoadImage: timeout",!1,b,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else b(!1)}function ns(u,b){const w=new ai,E=new AbortController,F=setTimeout(()=>{E.abort(),vn(w,"TestPingServer: timeout",!1,b)},1e4);fetch(u,{signal:E.signal}).then($=>{clearTimeout(F),$.ok?vn(w,"TestPingServer: ok",!0,b):vn(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(F),vn(w,"TestPingServer: error",!1,b)})}function vn(u,b,w,E,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),E(w)}catch{}}function rs(){this.g=new Wt}function Jn(u,b,w){const E=w||"";try{Ji(u,function(F,$){let ne=F;v(F)&&(ne=Qa(F)),b.push(E+$+"="+encodeURIComponent(ne))})}catch(F){throw b.push(E+"type="+encodeURIComponent("_badmap")),F}}function pi(u){this.l=u.Ub||null,this.j=u.eb||!1}M(pi,Wa),pi.prototype.g=function(){return new kr(this.l,this.j)},pi.prototype.i=function(u){return function(){return u}}({});function kr(u,b){_t.call(this),this.D=u,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(kr,_t),r=kr.prototype,r.open=function(u,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=b,this.readyState=1,tr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(b.body=u),(this.D||f).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;so(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function so(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var b=u.value?u.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!u.done}))&&(this.response=this.responseText+=b)}u.done?er(this):tr(this),this.readyState==3&&so(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,er(this))},r.Qa=function(u){this.g&&(this.response=u,er(this))},r.ga=function(){this.g&&er(this)};function er(u){u.readyState=4,u.l=null,u.j=null,u.v=null,tr(u)}r.setRequestHeader=function(u,b){this.u.append(u,b)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=b.next();return u.join(`\r
`)};function tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ao(u){let b="";return de(u,function(w,E){b+=E,b+=":",b+=w,b+=`\r
`}),b}function Ct(u,b,w){e:{for(E in w){var E=!1;break e}E=!0}E||(w=ao(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):Pe(u,b,w))}function ze(u){_t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(ze,_t);var Xs=/^https?$/i,is=["POST","PUT"];r=ze.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,b,w,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);b=b?b.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xi.g(),this.v=this.o?Rl(this.o):Rl(Xi),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(b,String(u),!0),this.B=!1}catch($){Fl(this,$);return}if(u=w||"",w=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var F in E)w.set(F,E[F]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())w.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(w.keys()).find($=>$.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(is,b,void 0))||E||F||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ne]of w)this.g.setRequestHeader($,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Fl(this,$)}};function Fl(u,b){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=b,u.m=5,Zs(u),nr(u)}function Zs(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),nr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),ze.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(u){if(u.h&&typeof d<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Il(u.Ea,0,u);else if(At(u,"readystatechange"),bn(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var E;if(E=ne===0){var F=String(u.D).match(to)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),E=!Xs.test(F?F.toLowerCase():"")}w=E}if(w)At(u,"complete"),At(u,"success");else{u.m=6;try{var $=2<bn(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Zs(u)}}finally{nr(u)}}}}function nr(u,b){if(u.g){ss(u);const w=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,b||At(u,"ready");try{w.onreadystatechange=E}catch{}}}function ss(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var b=this.g.responseText;return u&&b.indexOf(u)==0&&(b=b.substring(u.length)),Qn(b)}};function Bl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bh(u){const b={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(Z(u[E]))continue;var w=O(u[E]);const F=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const $=b[F]||[];b[F]=$,$.push(w)}R(b,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(u,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||b}function ea(u){this.Aa=0,this.i=[],this.j=new ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,u),this.cb=as("retryDelaySeedMs",1e4,u),this.Wa=as("forwardChannelMaxRetries",2,u),this.wa=as("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ja(u&&u.concurrentRequestLimit),this.Da=new rs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ea.prototype,r.la=8,r.G=1,r.connect=function(u,b,w,E){ft(0),this.W=u,this.H=b||{},w&&E!==void 0&&(this.H.OSID=w,this.H.OAID=E),this.F=this.X,this.I=Wl(this,null,this.W),na(this)};function oo(u){if(ql(u),u.G==3){var b=u.U++,w=ct(u.I);if(Pe(w,"SID",u.K),Pe(w,"RID",b),Pe(w,"TYPE","terminate"),os(u,w),b=new Xn(u,u.j,b),b.L=2,b.v=ts(ct(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(b.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=b.v,w=!0),w||(b.g=Yl(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Ze(b)}Ql(u)}function ta(u){u.g&&(ls(u),u.g.cancel(),u.g=null)}function ql(u){ta(u),u.u&&(f.clearTimeout(u.u),u.u=null),ra(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function na(u){if(!eo(u.h)&&!u.s){u.s=!0;var b=u.Ga;be||D(),te||(be(),te=!0),_e.add(b,u),u.B=0}}function wh(u,b){return Ll(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=b.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=si(C(u.Ga,u,b),uo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Xn(this,this.j,u);let $=this.o;if(this.S&&($?($=j($),N($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var E=this.i[w];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(b+=E,4096<b){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Hl(this,F,b),w=ct(this.I),Pe(w,"RID",u),Pe(w,"CVER",22),this.D&&Pe(w,"X-HTTP-Session-Id",this.D),os(this,w),$&&(this.O?b="headers="+encodeURIComponent(String(ao($)))+"&"+b:this.m&&Ct(w,this.m,$)),di(this.h,F),this.Ua&&Pe(w,"TYPE","init"),this.P?(Pe(w,"$req",b),Pe(w,"SID","null"),F.T=!0,Ln(F,w,null)):Ln(F,w,b),this.G=2}}else this.G==3&&(u?lo(this,u):this.i.length==0||eo(this.h)||lo(this))};function lo(u,b){var w;b?w=b.l:w=u.U++;const E=ct(u.I);Pe(E,"SID",u.K),Pe(E,"RID",w),Pe(E,"AID",u.T),os(u,E),u.m&&u.o&&Ct(E,u.m,u.o),w=new Xn(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),b&&(u.i=b.D.concat(u.i)),b=Hl(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),di(u.h,w),Ln(w,E,b)}function os(u,b){u.H&&de(u.H,function(w,E){Pe(b,E,w)}),u.l&&Ji({},function(w,E){Pe(b,E,w)})}function Hl(u,b,w){w=Math.min(u.i.length,w);var E=u.l?C(u.l.Na,u.l,u):null;e:{var F=u.i;let $=-1;for(;;){const ne=["count="+w];$==-1?0<w?($=F[0].g,ne.push("ofs="+$)):$=0:ne.push("ofs="+$);let Re=!0;for(let Tt=0;Tt<w;Tt++){let De=F[Tt].g;const kt=F[Tt].map;if(De-=$,0>De)$=Math.max(0,F[Tt].g-100),Re=!1;else try{Jn(kt,ne,"req"+De+"_")}catch{E&&E(kt)}}if(Re){E=ne.join("&");break e}}}return u=u.i.splice(0,w),b.D=u,E}function $l(u){if(!u.g&&!u.u){u.Y=1;var b=u.Fa;be||D(),te||(be(),te=!0),_e.add(b,u),u.v=0}}function co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=si(C(u.Fa,u),uo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Gl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=si(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),ta(this),Gl(this))};function ls(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Gl(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var b=ct(u.qa);Pe(b,"RID","rpc"),Pe(b,"SID",u.K),Pe(b,"AID",u.T),Pe(b,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pe(b,"TO",u.ja),Pe(b,"TYPE","xmlhttp"),os(u,b),u.m&&u.o&&Ct(b,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=ts(ct(b)),w.m=null,w.P=!0,Er(w,u)}r.Za=function(){this.C!=null&&(this.C=null,ta(this),co(this),ft(19))};function ra(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Kl(u,b){var w=null;if(u.g==b){ra(u),ls(u),u.g=null;var E=2}else if(hi(u.h,b))w=b.D,pn(u.h,b),E=1;else return;if(u.G!=0){if(b.o)if(E==1){w=b.m?b.m.length:0,b=Date.now()-b.F;var F=u.B;E=Hs(),At(E,new Ol(E,w)),na(u)}else $l(u);else if(F=b.s,F==3||F==0&&0<b.X||!(E==1&&wh(u,b)||E==2&&co(u)))switch(w&&0<w.length&&(b=u.h,b.i=b.i.concat(w)),F){case 1:Nr(u,5);break;case 4:Nr(u,10);break;case 3:Nr(u,6);break;default:Nr(u,2)}}}function uo(u,b){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*b}function Nr(u,b){if(u.j.info("Error code "+b),b==2){var w=C(u.fb,u),E=u.Xa;const F=!E;E=new Sr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||fi(E,"https"),ts(E),F?zl(E.toString(),w):ns(E.toString(),w)}else ft(2);u.G=0,u.l&&u.l.sa(b),Ql(u),ql(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Ql(u){if(u.G=0,u.ka=[],u.l){const b=Yt(u.h);(b.length!=0||u.i.length!=0)&&(q(u.ka,b),q(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Wl(u,b,w){var E=w instanceof Sr?ct(w):new Sr(w);if(E.g!="")b&&(E.g=b+"."+E.g),es(E,E.s);else{var F=f.location;E=F.protocol,b=b?b+"."+F.hostname:F.hostname,F=+F.port;var $=new Sr(null);E&&fi($,E),b&&($.g=b),F&&es($,F),w&&($.l=w),E=$}return w=u.D,b=u.ya,w&&b&&Pe(E,w,b),Pe(E,"VER",u.la),os(u,E),E}function Yl(u,b,w){if(b&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=u.Ca&&!u.pa?new ze(new pi({eb:w})):new ze(u.pa),b.Ha(u.J),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xl(){}r=Xl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ia(){}ia.prototype.g=function(u,b){return new Xt(u,b)};function Xt(u,b){_t.call(this),this.g=new ea(b),this.l=u,this.h=b&&b.messageUrlParams||null,u=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(u?u["X-WebChannel-Content-Type"]=b.messageContentType:u={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(u?u["X-WebChannel-Client-Profile"]=b.va:u={"X-WebChannel-Client-Profile":b.va}),this.g.S=u,(u=b&&b.Sb)&&!Z(u)&&(this.g.m=u),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!Z(b)&&(this.g.D=b,u=this.h,u!==null&&b in u&&(u=this.h,b in u&&delete u[b])),this.j=new rr(this)}M(Xt,_t),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){oo(this.g)},Xt.prototype.o=function(u){var b=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=Qa(u),u=w);b.i.push(new mh(b.Ya++,u)),b.G==3&&na(b)},Xt.prototype.N=function(){this.g.l=null,delete this.j,oo(this.g),delete this.g,Xt.aa.N.call(this)};function Zl(u){ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var b=u.__sm__;if(b){e:{for(const w in b){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,b=b!==null&&u in b?b[u]:void 0),this.data=b}else this.data=u}M(Zl,ni);function Jl(){Mn.call(this),this.status=1}M(Jl,Mn);function rr(u){this.g=u}M(rr,Xl),rr.prototype.ua=function(){At(this.g,"a")},rr.prototype.ta=function(u){At(this.g,new Zl(u))},rr.prototype.sa=function(u){At(this.g,new Jl)},rr.prototype.ra=function(){At(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,gR=function(){return new ia},pR=function(){return Hs()},mR=mn,PT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,Yb=xt,Tr.COMPLETE="complete",fR=Tr,Dl.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,uv=Dl,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,dR=ze}).apply(typeof Cb<"u"?Cb:typeof self<"u"?self:typeof window<"u"?window:{});const aj="@firebase/firestore",oj="4.7.8";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let qi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qi.UNAUTHENTICATED=new qi(null),qi.GOOGLE_CREDENTIALS=new qi("google-credentials-uid"),qi.FIRST_PARTY=new qi("first-party-uid"),qi.MOCK_USER=new qi("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Dm="11.3.1";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cf=new d_("@firebase/firestore");function Zf(){return Cf.logLevel}function Ne(r,...e){if(Cf.logLevel<=Ot.DEBUG){const t=e.map(rS);Cf.debug(`Firestore (${Dm}): ${r}`,...t)}}function yu(r,...e){if(Cf.logLevel<=Ot.ERROR){const t=e.map(rS);Cf.error(`Firestore (${Dm}): ${r}`,...t)}}function pm(r,...e){if(Cf.logLevel<=Ot.WARN){const t=e.map(rS);Cf.warn(`Firestore (${Dm}): ${r}`,...t)}}function rS(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tt(r="Unexpected state"){const e=`FIRESTORE (${Dm}) INTERNAL ASSERTION FAILED: `+r;throw yu(e),new Error(e)}function en(r,e){r||tt()}function ut(r,e){return r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends qa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qi.UNAUTHENTICATED))}shutdown(){}}class b5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class w5{constructor(e){this.t=e,this.currentUser=qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){en(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let c=new lu;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new lu,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new lu)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(en(typeof s.accessToken=="string"),new yR(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return en(e===null||typeof e=="string"),new qi(e)}}class _5{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=qi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class x5{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new _5(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T5{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Rs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){en(this.o===void 0);const s=c=>{c.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,Ne("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new lj(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(en(typeof t.token=="string"),this.R=t.token,new lj(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function E5(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=E5(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function Bt(r,e){return r<e?-1:r>e?1:0}function gm(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cj=-62135596800,uj=1e6;let ks=class Xb{static now(){return Xb.fromMillis(Date.now())}static fromDate(e){return Xb.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*uj);return new Xb(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cj)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uj}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ot{static fromTimestamp(e){return new ot(e)}static min(){return new ot(new ks(0,0))}static max(){return new ot(new ks(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hj="__name__";class dl{constructor(e,t,s){t===void 0?t=0:t>e.length&&tt(),s===void 0?s=e.length-t:s>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return dl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=dl.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=dl.isNumericId(e),o=dl.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?dl.extractNumericId(e).compare(dl.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vu.fromString(e.substring(4,e.length-2))}}class Rn extends dl{construct(e,t,s){return new Rn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Rn(t)}static emptyPath(){return new Rn([])}}const S5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let nl=class Jf extends dl{construct(e,t,s){return new Jf(e,t,s)}static isValidIdentifier(e){return S5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jf.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hj}static keyField(){return new Jf([hj])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ue(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ue(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(d=!d,o++):f!=="."||d?(s+=f,o++):(c(),o++)}if(c(),d)throw new Ue(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jf(t)}static emptyPath(){return new Jf([])}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Rn.fromString(e))}static fromName(e){return new $e(Rn.fromString(e).popFirst(5))}static empty(){return new $e(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Rn(e.slice()))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Vv=-1;function A5(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ot.fromTimestamp(s===1e9?new ks(t+1,0):new ks(t,s));return new Gu(o,$e.empty(),e)}function j5(r){return new Gu(r.readTime,r.key,Vv)}class Gu{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Gu(ot.min(),$e.empty(),Vv)}static max(){return new Gu(ot.max(),$e.empty(),Vv)}}function C5(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=$e.comparator(r.documentKey,e.documentKey),t!==0?t:Bt(r.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Om(r){if(r.code!==ye.FAILED_PRECONDITION||r.message!==k5)throw r;Ne("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,s)=>{t(e)})}static reject(e){return new pe((t,s)=>{s(e)})}static waitFor(e){return new pe((t,s)=>{let o=0,c=0,d=!1;e.forEach(f=>{++o,f.next(()=>{++c,d&&c===o&&t()},p=>s(p))}),d=!0,c===o&&t()})}static or(e){let t=pe.resolve(!1);for(const s of e)t=t.next(o=>o?pe.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,c)=>{s.push(t.call(this,o,c))}),this.waitFor(s)}static mapArray(e,t){return new pe((s,o)=>{const c=e.length,d=new Array(c);let f=0;for(let p=0;p<c;p++){const v=p;t(e[v]).next(x=>{d[v]=x,++f,f===c&&s(d)},x=>o(x))}})}static doWhile(e,t){return new pe((s,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):s()};c()})}}function I5(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pm(r){return r.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}b_.ae=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iS=-1;function w_(r){return r==null}function Sw(r){return r===0&&1/r==-1/0}function R5(r){return typeof r=="number"&&Number.isInteger(r)&&!Sw(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bR="";function D5(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=dj(e)),e=O5(r.get(t),e);return dj(e)}function O5(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":t+="";break;case bR:t+="";break;default:t+=c}}return t}function dj(r){return r+bR+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fj(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Bf(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function wR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let vr=class MT{constructor(e,t){this.comparator=e,this.root=t||zu.EMPTY}insert(e,t){return new MT(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zu.BLACK,null,null))}remove(e){return new MT(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kb(this.root,e,this.comparator,!1)}getReverseIterator(){return new kb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kb(this.root,e,this.comparator,!0)}};class kb{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}let zu=class Xc{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??Xc.RED,this.left=o??Xc.EMPTY,this.right=c??Xc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new Xc(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xc.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}};zu.EMPTY=null,zu.RED=!0,zu.BLACK=!1;zu.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(r,e,t,s,o){return this}insert(r,e,t){return new zu(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Gi=class LT{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mj(this.data.getIterator())}getIteratorFrom(e){return new mj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof LT)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new LT(this.comparator);return t.data=e,t}};class mj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jo{constructor(e){this.fields=e,e.sort(nl.comparator)}static empty(){return new Jo([])}unionWith(e){let t=new Gi(nl.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Jo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gm(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _R extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let zs=class UT{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _R("Invalid base64 string: "+o):o}}(e);return new UT(t)}static fromUint8Array(e){const t=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new UT(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};zs.EMPTY_BYTE_STRING=new zs("");const P5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ku(r){if(en(!!r),typeof r=="string"){let e=0;const t=P5.exec(r);if(en(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:cr(r.seconds),nanos:cr(r.nanos)}}function cr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qu(r){return typeof r=="string"?zs.fromBase64String(r):zs.fromUint8Array(r)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xR="server_timestamp",TR="__type__",ER="__previous_value__",SR="__local_write_time__";function sS(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[TR])===null||t===void 0?void 0:t.stringValue)===xR}function __(r){const e=r.mapValue.fields[ER];return sS(e)?__(e):e}function zv(r){const e=Ku(r.mapValue.fields[SR].timestampValue);return new ks(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class M5{constructor(e,t,s,o,c,d,f,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=v}}const Aw="(default)";class Fv{constructor(e,t){this.projectId=e,this.database=t||Aw}static empty(){return new Fv("","")}get isDefaultDatabase(){return this.database===Aw}isEqual(e){return e instanceof Fv&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AR="__type__",L5="__max__",Nb={mapValue:{}},jR="__vector__",jw="value";function Wu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sS(r)?4:V5(r)?9007199254740991:U5(r)?10:11:tt()}function xl(r,e){if(r===e)return!0;const t=Wu(r);if(t!==Wu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zv(r).isEqual(zv(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Ku(s.timestampValue),d=Ku(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,o){return Qu(s.bytesValue).isEqual(Qu(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,o){return cr(s.geoPointValue.latitude)===cr(o.geoPointValue.latitude)&&cr(s.geoPointValue.longitude)===cr(o.geoPointValue.longitude)}(r,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return cr(s.integerValue)===cr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=cr(s.doubleValue),d=cr(o.doubleValue);return c===d?Sw(c)===Sw(d):isNaN(c)&&isNaN(d)}return!1}(r,e);case 9:return gm(r.arrayValue.values||[],e.arrayValue.values||[],xl);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(fj(c)!==fj(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!xl(c[f],d[f])))return!1;return!0}(r,e);default:return tt()}}function Bv(r,e){return(r.values||[]).find(t=>xl(t,e))!==void 0}function ym(r,e){if(r===e)return 0;const t=Wu(r),s=Wu(e);if(t!==s)return Bt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(r.booleanValue,e.booleanValue);case 2:return function(o,c){const d=cr(o.integerValue||o.doubleValue),f=cr(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(r,e);case 3:return pj(r.timestampValue,e.timestampValue);case 4:return pj(zv(r),zv(e));case 5:return Bt(r.stringValue,e.stringValue);case 6:return function(o,c){const d=Qu(o),f=Qu(c);return d.compareTo(f)}(r.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),f=c.split("/");for(let p=0;p<d.length&&p<f.length;p++){const v=Bt(d[p],f[p]);if(v!==0)return v}return Bt(d.length,f.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Bt(cr(o.latitude),cr(c.latitude));return d!==0?d:Bt(cr(o.longitude),cr(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return gj(r.arrayValue,e.arrayValue);case 10:return function(o,c){var d,f,p,v;const x=o.fields||{},A=c.fields||{},C=(d=x[jw])===null||d===void 0?void 0:d.arrayValue,U=(f=A[jw])===null||f===void 0?void 0:f.arrayValue,M=Bt(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((v=U==null?void 0:U.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:gj(C,U)}(r.mapValue,e.mapValue);case 11:return function(o,c){if(o===Nb.mapValue&&c===Nb.mapValue)return 0;if(o===Nb.mapValue)return 1;if(c===Nb.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),p=c.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let x=0;x<f.length&&x<v.length;++x){const A=Bt(f[x],v[x]);if(A!==0)return A;const C=ym(d[f[x]],p[v[x]]);if(C!==0)return C}return Bt(f.length,v.length)}(r.mapValue,e.mapValue);default:throw tt()}}function pj(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Bt(r,e);const t=Ku(r),s=Ku(e),o=Bt(t.seconds,s.seconds);return o!==0?o:Bt(t.nanos,s.nanos)}function gj(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=ym(t[o],s[o]);if(c)return c}return Bt(t.length,s.length)}function vm(r){return VT(r)}function VT(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const t=Ku(e);return`time(${t.seconds},${t.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return Qu(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return $e.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let t="[",s=!0;for(const o of e.values||[])s?s=!1:t+=",",t+=VT(o);return t+"]"}(r.arrayValue):"mapValue"in r?function(e){const t=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const c of t)o?o=!1:s+=",",s+=`${c}:${VT(e.fields[c])}`;return s+"}"}(r.mapValue):tt()}function Zb(r){switch(Wu(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=__(r);return e?16+Zb(e):16;case 5:return 2*r.stringValue.length;case 6:return Qu(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce((s,o)=>s+Zb(o),0)}(r.arrayValue);case 10:case 11:return function(t){let s=0;return Bf(t.fields,(o,c)=>{s+=o.length+Zb(c)}),s}(r.mapValue);default:throw tt()}}function yj(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function zT(r){return!!r&&"integerValue"in r}function aS(r){return!!r&&"arrayValue"in r}function vj(r){return!!r&&"nullValue"in r}function bj(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jb(r){return!!r&&"mapValue"in r}function U5(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[AR])===null||t===void 0?void 0:t.stringValue)===jR}function xv(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Bf(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=xv(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xv(r.arrayValue.values[t]);return e}return Object.assign({},r)}function V5(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===L5}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class La{constructor(e){this.value=e}static empty(){return new La({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Jb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xv(t)}setAll(e){let t=nl.emptyPath(),s={},o=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}d?s[f.lastSegment()]=xv(d):o.push(f.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());Jb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Jb(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Bf(t,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new La(xv(this.value))}}function CR(r){const e=[];return Bf(r.fields,(t,s)=>{const o=new nl([t]);if(Jb(s)){const c=CR(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Jo(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let vu=class df{constructor(e,t,s,o,c,d,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=f}static newInvalidDocument(e){return new df(e,0,ot.min(),ot.min(),ot.min(),La.empty(),0)}static newFoundDocument(e,t,s,o){return new df(e,1,t,ot.min(),s,o,0)}static newNoDocument(e,t){return new df(e,2,t,ot.min(),ot.min(),La.empty(),0)}static newUnknownDocument(e,t){return new df(e,3,t,ot.min(),ot.min(),La.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=La.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=La.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof df&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new df(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cw{constructor(e,t){this.position=e,this.inclusive=t}}function wj(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=$e.comparator($e.fromName(d.referenceValue),t.key):s=ym(d,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function _j(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!xl(r.position[t],e.position[t]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kw{constructor(e,t="asc"){this.field=e,this.dir=t}}function z5(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kR{}class gr extends kR{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new B5(e,t,s):t==="array-contains"?new $5(e,s):t==="in"?new G5(e,s):t==="not-in"?new K5(e,s):t==="array-contains-any"?new Q5(e,s):new gr(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new q5(e,s):new H5(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ym(t,this.value)):t!==null&&Wu(this.value)===Wu(t)&&this.matchesComparison(ym(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class al extends kR{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new al(e,t)}matches(e){return NR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function NR(r){return r.op==="and"}function IR(r){return F5(r)&&NR(r)}function F5(r){for(const e of r.filters)if(e instanceof al)return!1;return!0}function FT(r){if(r instanceof gr)return r.field.canonicalString()+r.op.toString()+vm(r.value);if(IR(r))return r.filters.map(e=>FT(e)).join(",");{const e=r.filters.map(t=>FT(t)).join(",");return`${r.op}(${e})`}}function RR(r,e){return r instanceof gr?function(t,s){return s instanceof gr&&t.op===s.op&&t.field.isEqual(s.field)&&xl(t.value,s.value)}(r,e):r instanceof al?function(t,s){return s instanceof al&&t.op===s.op&&t.filters.length===s.filters.length?t.filters.reduce((o,c,d)=>o&&RR(c,s.filters[d]),!0):!1}(r,e):void tt()}function DR(r){return r instanceof gr?function(e){return`${e.field.canonicalString()} ${e.op} ${vm(e.value)}`}(r):r instanceof al?function(e){return e.op.toString()+" {"+e.getFilters().map(DR).join(" ,")+"}"}(r):"Filter"}class B5 extends gr{constructor(e,t,s){super(e,t,s),this.key=$e.fromName(s.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class q5 extends gr{constructor(e,t){super(e,"in",t),this.keys=OR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class H5 extends gr{constructor(e,t){super(e,"not-in",t),this.keys=OR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OR(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>$e.fromName(s.referenceValue))}class $5 extends gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return aS(t)&&Bv(t.arrayValue,this.value)}}class G5 extends gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bv(this.value.arrayValue,t)}}class K5 extends gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Bv(this.value.arrayValue,t)}}class Q5 extends gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!aS(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Bv(this.value.arrayValue,s))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W5{constructor(e,t=null,s=[],o=[],c=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=f,this.le=null}}function xj(r,e=null,t=[],s=[],o=null,c=null,d=null){return new W5(r,e,t,s,o,c,d)}function oS(r){const e=ut(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>FT(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),w_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>vm(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>vm(s)).join(",")),e.le=t}return e.le}function lS(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!z5(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!RR(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_j(r.startAt,e.startAt)&&_j(r.endAt,e.endAt)}function BT(r){return $e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cb{constructor(e,t=null,s=[],o=[],c=null,d="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Y5(r,e,t,s,o,c,d,f){return new cb(r,e,t,s,o,c,d,f)}function cS(r){return new cb(r)}function Tj(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function PR(r){return r.collectionGroup!==null}function Tv(r){const e=ut(r);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Gi(nl.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new kw(o,s))}),t.has(nl.keyField().canonicalString())||e.he.push(new kw(nl.keyField(),s))}return e.he}function yl(r){const e=ut(r);return e.Pe||(e.Pe=X5(e,Tv(r))),e.Pe}function X5(r,e){if(r.limitType==="F")return xj(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new kw(o.field,c)});const t=r.endAt?new Cw(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Cw(r.startAt.position,r.startAt.inclusive):null;return xj(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function qT(r,e){const t=r.filters.concat([e]);return new cb(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function HT(r,e,t){return new cb(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function x_(r,e){return lS(yl(r),yl(e))&&r.limitType===e.limitType}function MR(r){return`${oS(yl(r))}|lt:${r.limitType}`}function em(r){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>DR(s)).join(", ")}]`),w_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>vm(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>vm(s)).join(",")),`Target(${t})`}(yl(r))}; limitType=${r.limitType})`}function T_(r,e){return e.isFoundDocument()&&function(t,s){const o=s.key.path;return t.collectionGroup!==null?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):$e.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(r,e)&&function(t,s){for(const o of Tv(t))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(r,e)&&function(t,s){for(const o of t.filters)if(!o.matches(s))return!1;return!0}(r,e)&&function(t,s){return!(t.startAt&&!function(o,c,d){const f=wj(o,c,d);return o.inclusive?f<=0:f<0}(t.startAt,Tv(t),s)||t.endAt&&!function(o,c,d){const f=wj(o,c,d);return o.inclusive?f>=0:f>0}(t.endAt,Tv(t),s))}(r,e)}function Z5(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LR(r){return(e,t)=>{let s=!1;for(const o of Tv(r)){const c=J5(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function J5(r,e,t){const s=r.field.isKeyField()?$e.comparator(e.key,t.key):function(o,c,d){const f=c.data.field(o),p=d.data.field(o);return f!==null&&p!==null?ym(f,p):tt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return tt()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Bf(this.inner,(t,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return wR(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ez=new vr($e.comparator);function bu(){return ez}const UR=new vr($e.comparator);function hv(...r){let e=UR;for(const t of r)e=e.insert(t.key,t);return e}function VR(r){let e=UR;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function gf(){return Ev()}function zR(){return Ev()}function Ev(){return new qf(r=>r.toString(),(r,e)=>r.isEqual(e))}const tz=new vr($e.comparator),nz=new Gi($e.comparator);function Mt(...r){let e=nz;for(const t of r)e=e.add(t);return e}const rz=new Gi(Bt);function iz(){return rz}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uS(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sw(e)?"-0":e}}function FR(r){return{integerValue:""+r}}function sz(r,e){return R5(e)?FR(e):uS(r,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E_{constructor(){this._=void 0}}function az(r,e,t){return r instanceof Nw?function(s,o){const c={fields:{[TR]:{stringValue:xR},[SR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&sS(o)&&(o=__(o)),o&&(c.fields[ER]=o),{mapValue:c}}(t,e):r instanceof qv?qR(r,e):r instanceof Hv?HR(r,e):function(s,o){const c=BR(s,o),d=Ej(c)+Ej(s.Ie);return zT(c)&&zT(s.Ie)?FR(d):uS(s.serializer,d)}(r,e)}function oz(r,e,t){return r instanceof qv?qR(r,e):r instanceof Hv?HR(r,e):t}function BR(r,e){return r instanceof Iw?function(t){return zT(t)||function(s){return!!s&&"doubleValue"in s}(t)}(e)?e:{integerValue:0}:null}class Nw extends E_{}class qv extends E_{constructor(e){super(),this.elements=e}}function qR(r,e){const t=$R(e);for(const s of r.elements)t.some(o=>xl(o,s))||t.push(s);return{arrayValue:{values:t}}}class Hv extends E_{constructor(e){super(),this.elements=e}}function HR(r,e){let t=$R(e);for(const s of r.elements)t=t.filter(o=>!xl(o,s));return{arrayValue:{values:t}}}class Iw extends E_{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ej(r){return cr(r.integerValue||r.doubleValue)}function $R(r){return aS(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function lz(r,e){return r.field.isEqual(e.field)&&function(t,s){return t instanceof qv&&s instanceof qv||t instanceof Hv&&s instanceof Hv?gm(t.elements,s.elements,xl):t instanceof Iw&&s instanceof Iw?xl(t.Ie,s.Ie):t instanceof Nw&&s instanceof Nw}(r.transform,e.transform)}class cz{constructor(e,t){this.version=e,this.transformResults=t}}class cu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cu}static exists(e){return new cu(void 0,e)}static updateTime(e){return new cu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ew(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class S_{}function GR(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new QR(r.key,cu.none()):new ub(r.key,r.data,cu.none());{const t=r.data,s=La.empty();let o=new Gi(nl.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Hf(r.key,s,new Jo(o.toArray()),cu.none())}}function uz(r,e,t){r instanceof ub?function(s,o,c){const d=s.value.clone(),f=Aj(s.fieldTransforms,o,c.transformResults);d.setAll(f),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Hf?function(s,o,c){if(!ew(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=Aj(s.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(KR(s)),f.setAll(d),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Sv(r,e,t,s){return r instanceof ub?function(o,c,d,f){if(!ew(o.precondition,c))return d;const p=o.value.clone(),v=jj(o.fieldTransforms,f,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(r,e,t,s):r instanceof Hf?function(o,c,d,f){if(!ew(o.precondition,c))return d;const p=jj(o.fieldTransforms,f,c),v=c.data;return v.setAll(KR(o)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(r,e,t,s):function(o,c,d){return ew(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(r,e,t)}function hz(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=BR(s.transform,o||null);c!=null&&(t===null&&(t=La.empty()),t.set(s.field,c))}return t||null}function Sj(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(t,s){return t===void 0&&s===void 0||!(!t||!s)&&gm(t,s,(o,c)=>lz(o,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ub extends S_{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hf extends S_{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function KR(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Aj(r,e,t){const s=new Map;en(r.length===t.length);for(let o=0;o<t.length;o++){const c=r[o],d=c.transform,f=e.data.field(c.field);s.set(c.field,oz(d,f,t[o]))}return s}function jj(r,e,t){const s=new Map;for(const o of r){const c=o.transform,d=t.data.field(o.field);s.set(o.field,az(c,d,e))}return s}class QR extends S_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dz extends S_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fz{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&uz(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Sv(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Sv(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=zR();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let f=this.applyToLocalView(d,c.mutatedFields);f=t.has(o.key)?null:f;const p=GR(d,f);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(ot.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mt())}isEqual(e){return this.batchId===e.batchId&&gm(this.mutations,e.mutations,(t,s)=>Sj(t,s))&&gm(this.baseMutations,e.baseMutations,(t,s)=>Sj(t,s))}}class hS{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){en(e.mutations.length===s.length);let o=function(){return tz}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new hS(e,t,s,o)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mz{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mr,Ht;function gz(r){switch(r){case ye.OK:return tt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return tt()}}function WR(r){if(r===void 0)return yu("GRPC error has no .code"),ye.UNKNOWN;switch(r){case mr.OK:return ye.OK;case mr.CANCELLED:return ye.CANCELLED;case mr.UNKNOWN:return ye.UNKNOWN;case mr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case mr.INTERNAL:return ye.INTERNAL;case mr.UNAVAILABLE:return ye.UNAVAILABLE;case mr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case mr.NOT_FOUND:return ye.NOT_FOUND;case mr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case mr.ABORTED:return ye.ABORTED;case mr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case mr.DATA_LOSS:return ye.DATA_LOSS;default:return tt()}}(Ht=mr||(mr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yz(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vz=new Vu([4294967295,4294967295],0);function Cj(r){const e=yz().encode(r),t=new hR;return t.update(e),new Uint8Array(t.digest())}function kj(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Vu([t,s],0),new Vu([o,c],0)]}class dS{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new dv(`Invalid padding: ${t}`);if(s<0)throw new dv(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new dv(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new dv(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Vu.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Vu.fromNumber(s)));return o.compare(vz)===1&&(o=new Vu([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Cj(e),[s,o]=kj(t);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new dS(c,o,t);return s.forEach(f=>d.insert(f)),d}insert(e){if(this.Ee===0)return;const t=Cj(e),[s,o]=kj(t);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class dv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class A_{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,hb.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new A_(ot.min(),o,new vr(Bt),bu(),Mt())}}class hb{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new hb(s,t,Mt(),Mt(),Mt())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tw{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class YR{constructor(e,t){this.targetId=e,this.ge=t}}class XR{constructor(e,t,s=zs.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Nj{constructor(){this.pe=0,this.ye=Ij(),this.we=zs.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Mt(),t=Mt(),s=Mt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:tt()}}),new hb(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=Ij()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,en(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class bz{constructor(e){this.ke=e,this.qe=new Map,this.Qe=bu(),this.$e=Ib(),this.Ke=Ib(),this.Ue=new vr(Bt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const c=o.target;if(BT(c))if(s===0){const d=new $e(c.path);this.ze(t,d,vu.newNoDocument(d,ot.min()))}else en(s===1);else{const d=this.et(t);if(d!==s){const f=this.tt(e),p=f?this.nt(f,e,d):1;if(p!==0){this.Ye(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,v)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let d,f;try{d=Qu(s).toUint8Array()}catch(p){if(p instanceof _R)return pm("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new dS(d,o,c)}catch(p){return pm(p instanceof dv?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(c=>{const d=this.ke.it(),f=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,c,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((c,d)=>{const f=this.Xe(d);if(f){if(c.current&&BT(f.target)){const p=new $e(f.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,vu.newNoDocument(p,e))}c.ve&&(t.set(d,c.Fe()),c.Me())}});let s=Mt();this.Ke.forEach((c,d)=>{let f=!0;d.forEachWhile(p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new A_(e,t,this.Ue,this.Qe,s);return this.Qe=bu(),this.$e=Ib(),this.Ke=Ib(),this.Ue=new vr(Bt),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Nj,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Gi(Bt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Gi(Bt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Nj),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ib(){return new vr($e.comparator)}function Ij(){return new vr($e.comparator)}const wz={asc:"ASCENDING",desc:"DESCENDING"},_z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xz={and:"AND",or:"OR"};class Tz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $T(r,e){return r.useProto3Json||w_(e)?e:{value:e}}function Rw(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZR(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ez(r,e){return Rw(r,e.toTimestamp())}function vl(r){return en(!!r),ot.fromTimestamp(function(e){const t=Ku(e);return new ks(t.seconds,t.nanos)}(r))}function fS(r,e){return GT(r,e).canonicalString()}function GT(r,e){const t=function(s){return new Rn(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function JR(r){const e=Rn.fromString(r);return en(i2(e)),e}function KT(r,e){return fS(r.databaseId,e.path)}function $x(r,e){const t=JR(e);if(t.get(1)!==r.databaseId.projectId)throw new Ue(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ue(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new $e(t2(t))}function e2(r,e){return fS(r.databaseId,e)}function Sz(r){const e=JR(r);return e.length===4?Rn.emptyPath():t2(e)}function QT(r){return new Rn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function t2(r){return en(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Rj(r,e,t){return{name:KT(r,e),fields:t.value.mapValue.fields}}function Az(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:tt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(p,v){return p.useProto3Json?(en(v===void 0||typeof v=="string"),zs.fromBase64String(v||"")):(en(v===void 0||v instanceof Buffer||v instanceof Uint8Array),zs.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(p){const v=p.code===void 0?ye.UNKNOWN:WR(p.code);return new Ue(v,p.message||"")}(d);t=new XR(s,o,c,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=$x(r,s.document.name),c=vl(s.document.updateTime),d=s.document.createTime?vl(s.document.createTime):ot.min(),f=new La({mapValue:{fields:s.document.fields}}),p=vu.newFoundDocument(o,c,d,f),v=s.targetIds||[],x=s.removedTargetIds||[];t=new tw(v,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=$x(r,s.document),c=s.readTime?vl(s.readTime):ot.min(),d=vu.newNoDocument(o,c),f=s.removedTargetIds||[];t=new tw([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=$x(r,s.document),c=s.removedTargetIds||[];t=new tw([],c,o,null)}else{if(!("filter"in e))return tt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new pz(o,c),f=s.targetId;t=new YR(f,d)}}return t}function jz(r,e){let t;if(e instanceof ub)t={update:Rj(r,e.key,e.value)};else if(e instanceof QR)t={delete:KT(r,e.key)};else if(e instanceof Hf)t={update:Rj(r,e.key,e.data),updateMask:Mz(e.fieldMask)};else{if(!(e instanceof dz))return tt();t={verify:KT(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(o,c){const d=c.transform;if(d instanceof Nw)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof qv)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Hv)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Iw)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw tt()}(0,s))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Ez(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:tt()}(r,e.precondition)),t}function Cz(r,e){return r&&r.length>0?(en(e!==void 0),r.map(t=>function(s,o){let c=s.updateTime?vl(s.updateTime):vl(o);return c.isEqual(ot.min())&&(c=vl(o)),new cz(c,s.transformResults||[])}(t,e))):[]}function kz(r,e){return{documents:[e2(r,e.path)]}}function Nz(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=e2(r,o);const c=function(p){if(p.length!==0)return r2(al.create(p,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const d=function(p){if(p.length!==0)return p.map(v=>function(x){return{field:tm(x.field),direction:Dz(x.dir)}}(v))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=$T(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:o}}function Iz(r){let e=Sz(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){en(s===1);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=function(x){const A=n2(x);return A instanceof al&&IR(A)?A.getFilters():[A]}(t.where));let d=[];t.orderBy&&(d=function(x){return x.map(A=>function(C){return new kw(nm(C.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(A))}(t.orderBy));let f=null;t.limit&&(f=function(x){let A;return A=typeof x=="object"?x.value:x,w_(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(x){const A=!!x.before,C=x.values||[];return new Cw(C,A)}(t.startAt));let v=null;return t.endAt&&(v=function(x){const A=!x.before,C=x.values||[];return new Cw(C,A)}(t.endAt)),Y5(e,o,d,c,f,"F",p,v)}function Rz(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function n2(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nm(e.unaryFilter.field);return gr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=nm(e.unaryFilter.field);return gr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=nm(e.unaryFilter.field);return gr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=nm(e.unaryFilter.field);return gr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(r):r.fieldFilter!==void 0?function(e){return gr.create(nm(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return al.create(e.compositeFilter.filters.map(t=>n2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return tt()}}(e.compositeFilter.op))}(r):tt()}function Dz(r){return wz[r]}function Oz(r){return _z[r]}function Pz(r){return xz[r]}function tm(r){return{fieldPath:r.canonicalString()}}function nm(r){return nl.fromServerFormat(r.fieldPath)}function r2(r){return r instanceof gr?function(e){if(e.op==="=="){if(bj(e.value))return{unaryFilter:{field:tm(e.field),op:"IS_NAN"}};if(vj(e.value))return{unaryFilter:{field:tm(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(bj(e.value))return{unaryFilter:{field:tm(e.field),op:"IS_NOT_NAN"}};if(vj(e.value))return{unaryFilter:{field:tm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tm(e.field),op:Oz(e.op),value:e.value}}}(r):r instanceof al?function(e){const t=e.getFilters().map(s=>r2(s));return t.length===1?t[0]:{compositeFilter:{op:Pz(e.op),filters:t}}}(r):tt()}function Mz(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function i2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pu{constructor(e,t,s,o,c=ot.min(),d=ot.min(),f=zs.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lz{constructor(e){this.Tt=e}}function Uz(r){const e=Iz({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?HT(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vz{constructor(){this.Tn=new zz}addToCollectionParentIndex(e,t){return this.Tn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Gu.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Gu.min())}updateCollectionGroup(e,t,s){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class zz{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Gi(Rn.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Gi(Rn.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s2=41943040;class Ns{static withCacheSize(e){return new Ns(e,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Ns.DEFAULT_COLLECTION_PERCENTILE=10,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ns.DEFAULT=new Ns(s2,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ns.DISABLED=new Ns(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bm{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new bm(0)}static Un(){return new bm(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Oj="LruGarbageCollector",Fz=1048576;function Pj([r,e],[t,s]){const o=Bt(r,t);return o===0?Bt(e,s):o}class Bz{constructor(e){this.Hn=e,this.buffer=new Gi(Pj),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Pj(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qz{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ne(Oj,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pm(t)?Ne(Oj,"Ignoring IndexedDB error during garbage collection: ",t):await Om(t)}await this.er(3e5)})}}class Hz{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(b_.ae);const s=new Bz(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Dj)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dj):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,c,d,f,p,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,f=Date.now(),this.removeTargets(e,s,t))).next(A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(v=Date.now(),Zf()<=Ot.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(f-d)+`ms
	Removed ${c} targets in `+(p-f)+`ms
	Removed ${A} documents in `+(v-p)+`ms
Total Duration: ${v-x}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A})))}}function $z(r,e){return new Hz(r,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gz{constructor(){this.changes=new qf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?pe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qz{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Sv(s.mutation,o,Jo.empty(),ks.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Mt()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Mt()){const o=gf();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(c=>{let d=hv();return c.forEach((f,p)=>{d=d.insert(f,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const s=gf();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Mt()))}populateOverlays(e,t,s){const o=[];return s.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,s,o){let c=bu();const d=Ev(),f=function(){return Ev()}();return t.forEach((p,v)=>{const x=s.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof Hf)?c=c.insert(v.key,v):x!==void 0?(d.set(v.key,x.mutation.getFieldMask()),Sv(x.mutation,v,x.mutation.getFieldMask(),ks.now())):d.set(v.key,Jo.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((v,x)=>d.set(v,x)),t.forEach((v,x)=>{var A;return f.set(v,new Kz(x,(A=d.get(v))!==null&&A!==void 0?A:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Ev();let o=new vr((d,f)=>d-f),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(p=>{const v=t.get(p);if(v===null)return;let x=s.get(p)||Jo.empty();x=f.applyToLocalView(v,x),s.set(p,x);const A=(o.get(f.batchId)||Mt()).add(p);o=o.insert(f.batchId,A)})}).next(()=>{const d=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),v=p.key,x=p.value,A=zR();x.forEach(C=>{if(!c.has(C)){const U=GR(t.get(C),s.get(C));U!==null&&A.set(C,U),c=c.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,A))}return pe.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(c){return $e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):pe.resolve(gf());let f=Vv,p=c;return d.next(v=>pe.forEach(v,(x,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),c.get(x)?pe.resolve():this.remoteDocumentCache.getEntry(e,x).next(C=>{p=p.insert(x,C)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,p,v,Mt())).next(x=>({batchId:f,changes:VR(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(s=>{let o=hv();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let d=hv();return this.indexManager.getCollectionParents(e,c).next(f=>pe.forEach(f,p=>{const v=function(x,A){return new cb(A,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(x=>{x.forEach((A,C)=>{d=d.insert(A,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o))).next(d=>{c.forEach((p,v)=>{const x=v.getKey();d.get(x)===null&&(d=d.insert(x,vu.newInvalidDocument(x)))});let f=hv();return d.forEach((p,v)=>{const x=c.get(p);x!==void 0&&Sv(x.mutation,v,Jo.empty(),ks.now()),T_(t,v)&&(f=f.insert(p,v))}),f})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wz{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return pe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:vl(s.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:Uz(s.bundledQuery),readTime:vl(s.readTime)}}(t)),pe.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yz{constructor(){this.overlays=new vr($e.comparator),this.Rr=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=gf();return pe.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,c)=>{this.Et(e,t,c)}),pe.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),pe.resolve()}getOverlaysForCollection(e,t,s){const o=gf(),c=t.length+1,d=new $e(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return pe.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new vr((v,x)=>v-x);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let x=c.get(v.largestBatchId);x===null&&(x=gf(),c=c.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const f=gf(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,x)=>f.set(v,x)),!(f.size()>=o)););return pe.resolve(f)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new mz(t,s));let c=this.Rr.get(t);c===void 0&&(c=Mt(),this.Rr.set(t,c)),this.Rr.set(t,c.add(s.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xz{constructor(){this.sessionToken=zs.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mS{constructor(){this.Vr=new Gi(Xr.mr),this.gr=new Gi(Xr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Xr(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Xr(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new $e(new Rn([])),s=new Xr(t,e),o=new Xr(t,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new $e(new Rn([])),s=new Xr(t,e),o=new Xr(t,e+1);let c=Mt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new Xr(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xr{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return $e.comparator(e.key,t.key)||Bt(e.Cr,t.Cr)}static pr(e,t){return Bt(e.Cr,t.Cr)||$e.comparator(e.key,t.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Gi(Xr.mr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fz(c,t,s,o);this.mutationQueue.push(d);for(const f of o)this.Mr=this.Mr.add(new Xr(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return pe.resolve(d)}lookupMutationBatch(e,t){return pe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),c=o<0?0:o;return pe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?iS:this.Fr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xr(t,0),o=new Xr(t,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const f=this.Or(d.Cr);c.push(f)}),pe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Gi(Bt);return t.forEach(o=>{const c=new Xr(o,0),d=new Xr(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],f=>{s=s.add(f.Cr)})}),pe.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;$e.isDocumentKey(c)||(c=c.child(""));const d=new Xr(new $e(c),0);let f=new Gi(Bt);return this.Mr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(p.Cr)),!0)},d),pe.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){en(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return pe.forEach(t.mutations,o=>{const c=new Xr(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Xr(t,0),o=this.Mr.firstAfterOrEqual(s);return pe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jz{constructor(e){this.kr=e,this.docs=function(){return new vr($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return pe.resolve(s?s.document.mutableCopy():vu.newInvalidDocument(t))}getEntries(e,t){let s=bu();return t.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():vu.newInvalidDocument(o))}),pe.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=bu();const d=t.path,f=new $e(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:v,value:{document:x}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||C5(j5(x),s)<=0||(o.has(x.key)||T_(t,x))&&(c=c.insert(x.key,x.mutableCopy()))}return pe.resolve(c)}getAllFromCollectionGroup(e,t,s,o){tt()}qr(e,t){return pe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new e7(this)}getSize(e){return pe.resolve(this.size)}}class e7 extends Gz{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),pe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t7{constructor(e){this.persistence=e,this.Qr=new qf(t=>oS(t),lS),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.$r=0,this.Kr=new mS,this.targetCount=0,this.Ur=bm.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),pe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new bm(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.zn(t),pe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.Qr.forEach((d,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),pe.waitFor(c).next(()=>o)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return pe.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),pe.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),pe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return pe.resolve(s)}containsKey(e,t){return pe.resolve(this.Kr.containsKey(t))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a2{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new b_(0),this.zr=!1,this.zr=!0,this.jr=new Xz,this.referenceDelegate=e(this),this.Hr=new t7(this),this.indexManager=new Vz,this.remoteDocumentCache=function(s){return new Jz(s)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new Lz(t),this.Yr=new Wz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Yz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new Zz(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){Ne("MemoryPersistence","Starting transaction:",e);const o=new n7(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,t){return pe.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class n7 extends N5{constructor(e){super(),this.currentSequenceNumber=e}}class pS{constructor(e){this.persistence=e,this.ti=new mS,this.ni=null}static ri(e){return new pS(e)}get ii(){if(this.ni)return this.ni;throw tt()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),pe.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),pe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.ii,s=>{const o=$e.fromPath(s);return this.si(e,o).next(c=>{c||t.removeEntry(o,ot.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return pe.or([()=>pe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Dw{constructor(e,t){this.persistence=e,this.oi=new qf(s=>D5(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=$z(this,t)}static ri(e,t){return new Dw(e,t)}Zr(){}Xr(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return pe.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?pe.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,t).next(f=>{f||(s++,c.removeEntry(d,ot.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),pe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zb(e.data.value)),t}ar(e,t,s){return pe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return pe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gS{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Mt(),o=Mt();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new gS(e,t.fromCache,s,o)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class i7{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return HL()?8:I5(Ki())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.rs(e,t).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,t,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new r7;return this._s(e,t,d).next(f=>{if(c.result=f,this.Xi)return this.us(e,t,d,f.size)})}).next(()=>c.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Zf()<=Ot.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",em(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),pe.resolve()):(Zf()<=Ot.DEBUG&&Ne("QueryEngine","Query:",em(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Zf()<=Ot.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",em(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yl(t))):pe.resolve())}rs(e,t){if(Tj(t))return pe.resolve(null);let s=yl(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=HT(t,null,"F"),s=yl(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Mt(...c);return this.ns.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const v=this.cs(t,f);return this.ls(t,v,d,p.readTime)?this.rs(e,HT(t,null,"F")):this.hs(e,v,t,p)}))})))}ss(e,t,s,o){return Tj(t)||o.isEqual(ot.min())?pe.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(t,c);return this.ls(t,d,s,o)?pe.resolve(null):(Zf()<=Ot.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),em(t)),this.hs(e,d,t,A5(o,Vv)).next(f=>f))})}cs(e,t){let s=new Gi(LR(e));return t.forEach((o,c)=>{T_(e,c)&&(s=s.add(c))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,t,s){return Zf()<=Ot.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",em(t)),this.ns.getDocumentsMatchingQuery(e,t,Gu.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yS="LocalStore",s7=3e8;class a7{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new vr(Bt),this.Is=new qf(c=>oS(c),lS),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qz(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function o7(r,e,t,s){return new a7(r,e,t,s)}async function o2(r,e){const t=ut(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],f=[];let p=Mt();for(const v of o){d.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}for(const v of c){f.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}return t.localDocuments.getDocuments(s,p).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:f}))})})}function l7(r,e){const t=ut(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,f,p,v){const x=p.batch,A=x.keys();let C=pe.resolve();return A.forEach(U=>{C=C.next(()=>v.getEntry(f,U)).next(M=>{const K=p.docVersions.get(U);en(K!==null),M.version.compareTo(K)<0&&(x.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),v.addEntry(M)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(f,x))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let f=Mt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function l2(r){const e=ut(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function c7(r,e){const t=ut(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((x,A)=>{const C=o.get(A);if(!C)return;f.push(t.Hr.removeMatchingKeys(c,x.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(c,x.addedDocuments,A)));let U=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?U=U.withResumeToken(zs.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):x.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(x.resumeToken,s)),o=o.insert(A,U),function(M,K,q){return M.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=s7?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(C,U,x)&&f.push(t.Hr.updateTargetData(c,U))});let p=bu(),v=Mt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(c,x))}),f.push(u7(c,d,e.documentUpdates).next(x=>{p=x.Vs,v=x.fs})),!s.isEqual(ot.min())){const x=t.Hr.getLastRemoteSnapshotVersion(c).next(A=>t.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));f.push(x)}return pe.waitFor(f).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(t.Ts=o,c))}function u7(r,e,t){let s=Mt(),o=Mt();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=bu();return t.forEach((f,p)=>{const v=c.get(f);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(ot.min())?(e.removeEntry(f,p.readTime),d=d.insert(f,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),d=d.insert(f,p)):Ne(yS,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function h7(r,e){const t=ut(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=iS),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function d7(r,e){const t=ut(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(c=>c?(o=c,pe.resolve(o)):t.Hr.allocateTargetId(s).next(d=>(o=new Pu(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function WT(r,e,t){const s=ut(r),o=s.Ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Pm(d))throw d;Ne(yS,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Mj(r,e,t){const s=ut(r);let o=ot.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(f,p,v){const x=ut(f),A=x.Is.get(v);return A!==void 0?pe.resolve(x.Ts.get(A)):x.Hr.getTargetData(p,v)}(s,d,yl(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,f.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,t?o:ot.min(),t?c:Mt())).next(f=>(f7(s,Z5(e),f),{documents:f,gs:c})))}function f7(r,e,t){let s=r.Es.get(e)||ot.min();t.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class Lj{constructor(){this.activeTargetIds=iz()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m7{constructor(){this.ho=new Lj,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Lj,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p7{To(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Uj="ConnectivityMonitor";class Vj{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ne(Uj,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ne(Uj,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Rb=null;function YT(){return Rb===null?Rb=function(){return 268435456+Math.round(2147483648*Math.random())}():Rb++,"0x"+Rb.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gx="RestConnection",g7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class y7{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Aw?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,c){const d=YT(),f=this.bo(e,t.toUriEncodedString());Ne(Gx,`Sending RPC '${e}' ${d}:`,f,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,f,p,s).then(v=>(Ne(Gx,`Received RPC '${e}' ${d}: `,v),v),v=>{throw pm(Gx,`RPC '${e}' ${d} failed with error: `,v,"url: ",f,"request:",s),v})}Co(e,t,s,o,c,d){return this.So(e,t,s,o,c)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dm}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,t){const s=g7[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class v7{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zi="WebChannelConnection";class b7 extends y7{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const c=YT();return new Promise((d,f)=>{const p=new dR;p.setWithCredentials(!0),p.listenOnce(fR.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Yb.NO_ERROR:const x=p.getResponseJson();Ne(zi,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),d(x);break;case Yb.TIMEOUT:Ne(zi,`RPC '${e}' ${c} timed out`),f(new Ue(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Yb.HTTP_ERROR:const A=p.getStatus();if(Ne(zi,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C==null?void 0:C.error;if(U&&U.status&&U.message){const M=function(K){const q=K.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(q)>=0?q:ye.UNKNOWN}(U.status);f(new Ue(M,U.message))}else f(new Ue(ye.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ue(ye.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Ne(zi,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);Ne(zi,`RPC '${e}' ${c} sending request:`,o),p.send(t,"POST",v,s,15)})}Wo(e,t,s){const o=YT(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=gR(),f=pR(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const x=c.join("");Ne(zi,`Creating RPC '${e}' stream ${o}: ${x}`,p);const A=d.createWebChannel(x,p);let C=!1,U=!1;const M=new v7({Fo:q=>{U?Ne(zi,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(C||(Ne(zi,`Opening RPC '${e}' stream ${o} transport.`),A.open(),C=!0),Ne(zi,`RPC '${e}' stream ${o} sending:`,q),A.send(q))},Mo:()=>A.close()}),K=(q,G,Z)=>{q.listen(G,Y=>{try{Z(Y)}catch(ae){setTimeout(()=>{throw ae},0)}})};return K(A,uv.EventType.OPEN,()=>{U||(Ne(zi,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),K(A,uv.EventType.CLOSE,()=>{U||(U=!0,Ne(zi,`RPC '${e}' stream ${o} transport closed`),M.Ko())}),K(A,uv.EventType.ERROR,q=>{U||(U=!0,pm(zi,`RPC '${e}' stream ${o} transport errored:`,q),M.Ko(new Ue(ye.UNAVAILABLE,"The operation could not be completed")))}),K(A,uv.EventType.MESSAGE,q=>{var G;if(!U){const Z=q.data[0];en(!!Z);const Y=Z,ae=(Y==null?void 0:Y.error)||((G=Y[0])===null||G===void 0?void 0:G.error);if(ae){Ne(zi,`RPC '${e}' stream ${o} received error:`,ae);const ce=ae.status;let de=function(j){const S=mr[j];if(S!==void 0)return WR(S)}(ce),R=ae.message;de===void 0&&(de=ye.INTERNAL,R="Unknown error status: "+ce+" with message "+ae.message),U=!0,M.Ko(new Ue(de,R)),A.close()}else Ne(zi,`RPC '${e}' stream ${o} received:`,Z),M.Uo(Z)}}),K(f,mR.STAT_EVENT,q=>{q.stat===PT.PROXY?Ne(zi,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===PT.NOPROXY&&Ne(zi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Kx(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function j_(r){return new Tz(r,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class c2{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zj="PersistentStream";class u2{constructor(e,t,s,o,c,d,f,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new c2(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(yu(t.toString()),yu("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new Ue(ye.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ne(zj,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ne(zj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w7 extends u2{constructor(e,t,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Az(this.serializer,e),s=function(o){if(!("targetChange"in o))return ot.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?ot.min():c.readTime?vl(c.readTime):ot.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=QT(this.serializer),t.addTarget=function(o,c){let d;const f=c.target;if(d=BT(f)?{documents:kz(o,f)}:{query:Nz(o,f).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=ZR(o,c.resumeToken);const p=$T(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(ot.min())>0){d.readTime=Rw(o,c.snapshotVersion.toTimestamp());const p=$T(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const s=Rz(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=QT(this.serializer),t.removeTarget=e,this.I_(t)}}class _7 extends u2{constructor(e,t,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return en(!!e.streamToken),this.lastStreamToken=e.streamToken,en(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){en(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Cz(e.writeResults,e.commitTime),s=vl(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=QT(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>jz(this.serializer,s))};this.I_(t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x7{}class T7 extends x7{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ue(ye.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,GT(t,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ue(ye.UNKNOWN,c.toString())})}Co(e,t,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.Co(e,GT(t,s),o,d,f,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ue(ye.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class E7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(yu(t),this.N_=!1):Ne("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kf="RemoteStore";class S7{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{$f(this)&&(Ne(kf,"Restarting streams for network reachability change."),await async function(f){const p=ut(f);p.W_.add(4),await db(p),p.j_.set("Unknown"),p.W_.delete(4),await C_(p)}(this))})}),this.j_=new E7(s,o)}}async function C_(r){if($f(r))for(const e of r.G_)await e(!0)}async function db(r){for(const e of r.G_)await e(!1)}function h2(r,e){const t=ut(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),_S(t)?wS(t):Mm(t).c_()&&bS(t,e))}function vS(r,e){const t=ut(r),s=Mm(t);t.U_.delete(e),s.c_()&&d2(t,e),t.U_.size===0&&(s.c_()?s.P_():$f(t)&&t.j_.set("Unknown"))}function bS(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mm(r).y_(e)}function d2(r,e){r.H_.Ne(e),Mm(r).w_(e)}function wS(r){r.H_=new bz({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Mm(r).start(),r.j_.B_()}function _S(r){return $f(r)&&!Mm(r).u_()&&r.U_.size>0}function $f(r){return ut(r).W_.size===0}function f2(r){r.H_=void 0}async function A7(r){r.j_.set("Online")}async function j7(r){r.U_.forEach((e,t)=>{bS(r,e)})}async function C7(r,e){f2(r),_S(r)?(r.j_.q_(e),wS(r)):r.j_.set("Unknown")}async function k7(r,e,t){if(r.j_.set("Online"),e instanceof XR&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const d of o.targetIds)s.U_.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.U_.delete(d),s.H_.removeTarget(d))}(r,e)}catch(s){Ne(kf,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ow(r,s)}else if(e instanceof tw?r.H_.We(e):e instanceof YR?r.H_.Ze(e):r.H_.je(e),!t.isEqual(ot.min()))try{const s=await l2(r.localStore);t.compareTo(s)>=0&&await function(o,c){const d=o.H_.ot(c);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.U_.get(p);v&&o.U_.set(p,v.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,p)=>{const v=o.U_.get(f);if(!v)return;o.U_.set(f,v.withResumeToken(zs.EMPTY_BYTE_STRING,v.snapshotVersion)),d2(o,f);const x=new Pu(v.target,f,p,v.sequenceNumber);bS(o,x)}),o.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){Ne(kf,"Failed to raise snapshot:",s),await Ow(r,s)}}async function Ow(r,e,t){if(!Pm(e))throw e;r.W_.add(1),await db(r),r.j_.set("Offline"),t||(t=()=>l2(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ne(kf,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await C_(r)})}function m2(r,e){return e().catch(t=>Ow(r,t,e))}async function k_(r){const e=ut(r),t=Yu(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:iS;for(;N7(e);)try{const o=await h7(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,I7(e,o)}catch(o){await Ow(e,o)}p2(e)&&g2(e)}function N7(r){return $f(r)&&r.K_.length<10}function I7(r,e){r.K_.push(e);const t=Yu(r);t.c_()&&t.S_&&t.b_(e.mutations)}function p2(r){return $f(r)&&!Yu(r).u_()&&r.K_.length>0}function g2(r){Yu(r).start()}async function R7(r){Yu(r).C_()}async function D7(r){const e=Yu(r);for(const t of r.K_)e.b_(t.mutations)}async function O7(r,e,t){const s=r.K_.shift(),o=hS.from(s,e,t);await m2(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await k_(r)}async function P7(r,e){e&&Yu(r).S_&&await async function(t,s){if(function(o){return gz(o)&&o!==ye.ABORTED}(s.code)){const o=t.K_.shift();Yu(t).h_(),await m2(t,()=>t.remoteSyncer.rejectFailedWrite(o.batchId,s)),await k_(t)}}(r,e),p2(r)&&g2(r)}async function Fj(r,e){const t=ut(r);t.asyncQueue.verifyOperationInProgress(),Ne(kf,"RemoteStore received new credentials");const s=$f(t);t.W_.add(3),await db(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await C_(t)}async function M7(r,e){const t=ut(r);e?(t.W_.delete(2),await C_(t)):e||(t.W_.add(2),await db(t),t.j_.set("Unknown"))}function Mm(r){return r.J_||(r.J_=function(e,t,s){const o=ut(e);return o.M_(),new w7(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{xo:A7.bind(null,r),No:j7.bind(null,r),Lo:C7.bind(null,r),p_:k7.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),_S(r)?wS(r):r.j_.set("Unknown")):(await r.J_.stop(),f2(r))})),r.J_}function Yu(r){return r.Y_||(r.Y_=function(e,t,s){const o=ut(e);return o.M_(),new _7(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:R7.bind(null,r),Lo:P7.bind(null,r),D_:D7.bind(null,r),v_:O7.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await k_(r)):(await r.Y_.stop(),r.K_.length>0&&(Ne(kf,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xS{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new lu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const d=Date.now()+s,f=new xS(e,t,d,o,c);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function TS(r,e){if(yu("AsyncQueue",`${e}: ${r}`),Pm(r))return new Ue(ye.UNAVAILABLE,`${e}: ${r}`);throw r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class um{static emptySet(e){return new um(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||$e.comparator(t.key,s.key):(t,s)=>$e.comparator(t.key,s.key),this.keyedMap=hv(),this.sortedSet=new vr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof um)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new um;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bj{constructor(){this.Z_=new vr($e.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):tt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class wm{constructor(e,t,s,o,c,d,f,p,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,c){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new wm(e,t,um.emptySet(t),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L7{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class U7{constructor(){this.queries=qj(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,t){const s=ut(e),o=s.queries;s.queries=qj(),o.forEach((c,d)=>{for(const f of d.ta)f.onError(t)})})(this,new Ue(ye.ABORTED,"Firestore shutting down"))}}function qj(){return new qf(r=>MR(r),x_)}async function y2(r,e){const t=ut(r);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new L7,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await t.onListen(o,!0);break;case 1:c.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const f=TS(d,`Initialization of query '${em(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,c),c.ta.push(e),e.sa(t.onlineState),c.ea&&e.oa(c.ea)&&ES(t)}async function v2(r,e){const t=ut(r),s=e.query;let o=3;const c=t.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function V7(r,e){const t=ut(r);let s=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const f of d.ta)f.oa(o)&&(s=!0);d.ea=o}}s&&ES(t)}function z7(r,e,t){const s=ut(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(t);s.queries.delete(e)}function ES(r){r.ia.forEach(e=>{e.next()})}var XT,Hj;(Hj=XT||(XT={}))._a="default",Hj.Cache="cache";class b2{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wm(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=wm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==XT.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class w2{constructor(e){this.key=e}}class _2{constructor(e){this.key=e}}class F7{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Mt(),this.mutatedKeys=Mt(),this.ya=LR(e),this.wa=new um(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new Bj,o=t?t.wa:this.wa;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,A)=>{const C=o.get(x),U=T_(this.query,A)?A:null,M=!!C&&this.mutatedKeys.has(C.key),K=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let q=!1;C&&U?C.data.isEqual(U.data)?M!==K&&(s.track({type:3,doc:U}),q=!0):this.va(C,U)||(s.track({type:2,doc:U}),q=!0,(p&&this.ya(U,p)>0||v&&this.ya(U,v)<0)&&(f=!0)):!C&&U?(s.track({type:0,doc:U}),q=!0):C&&!U&&(s.track({type:1,doc:C}),q=!0,(p||v)&&(f=!0)),q&&(U?(d=d.add(U),c=K?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{wa:d,Da:s,ls:f,mutatedKeys:c}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((x,A)=>function(C,U){const M=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return M(C)-M(U)}(x.type,A.type)||this.ya(x.doc,A.doc)),this.Ca(s),o=o!=null&&o;const f=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,v=p!==this.ga;return this.ga=p,d.length!==0||v?{snapshot:new wm(this.query,e.wa,c,d,e.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Bj,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Mt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new _2(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new w2(s))}),t}Oa(e){this.fa=e.gs,this.pa=Mt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return wm.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const SS="SyncEngine";class B7{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class q7{constructor(e){this.key=e,this.Ba=!1}}class H7{constructor(e,t,s,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new qf(f=>MR(f),x_),this.qa=new Map,this.Qa=new Set,this.$a=new vr($e.comparator),this.Ka=new Map,this.Ua=new mS,this.Wa={},this.Ga=new Map,this.za=bm.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function $7(r,e,t=!0){const s=j2(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await x2(s,e,t,!0),o}async function G7(r,e){const t=j2(r);await x2(t,e,!0,!1)}async function x2(r,e,t,s){const o=await d7(r.localStore,yl(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,t);let f;return s&&(f=await K7(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&t&&h2(r.remoteStore,o),f}async function K7(r,e,t,s,o){r.Ha=(A,C,U)=>async function(M,K,q,G){let Z=K.view.ba(q);Z.ls&&(Z=await Mj(M.localStore,K.query,!1).then(({documents:de})=>K.view.ba(de,Z)));const Y=G&&G.targetChanges.get(K.targetId),ae=G&&G.targetMismatches.get(K.targetId)!=null,ce=K.view.applyChanges(Z,M.isPrimaryClient,Y,ae);return Gj(M,K.targetId,ce.Ma),ce.snapshot}(r,A,C,U);const c=await Mj(r.localStore,e,!0),d=new F7(e,c.gs),f=d.ba(c.documents),p=hb.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),v=d.applyChanges(f,r.isPrimaryClient,p);Gj(r,t,v.Ma);const x=new B7(e,t,d);return r.ka.set(e,x),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),v.snapshot}async function Q7(r,e,t){const s=ut(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!x_(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await WT(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&vS(s.remoteStore,o.targetId),ZT(s,o.targetId)}).catch(Om)):(ZT(s,o.targetId),await WT(s.localStore,o.targetId,!0))}async function W7(r,e){const t=ut(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),vS(t.remoteStore,s.targetId))}async function Y7(r,e,t){const s=rF(r);try{const o=await function(c,d){const f=ut(c),p=ks.now(),v=d.reduce((C,U)=>C.add(U.key),Mt());let x,A;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let U=bu(),M=Mt();return f.ds.getEntries(C,v).next(K=>{U=K,U.forEach((q,G)=>{G.isValidDocument()||(M=M.add(q))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,U)).next(K=>{x=K;const q=[];for(const G of d){const Z=hz(G,x.get(G.key).overlayedDocument);Z!=null&&q.push(new Hf(G.key,Z,CR(Z.value.mapValue),cu.exists(!0)))}return f.mutationQueue.addMutationBatch(C,p,q,d)}).next(K=>{A=K;const q=K.applyToLocalDocumentSet(x,M);return f.documentOverlayCache.saveOverlays(C,K.batchId,q)})}).then(()=>({batchId:A.batchId,changes:VR(x)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,d,f){let p=c.Wa[c.currentUser.toKey()];p||(p=new vr(Bt)),p=p.insert(d,f),c.Wa[c.currentUser.toKey()]=p}(s,o.batchId,t),await fb(s,o.changes),await k_(s.remoteStore)}catch(o){const c=TS(o,"Failed to persist write");t.reject(c)}}async function T2(r,e){const t=ut(r);try{const s=await c7(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.Ka.get(c);d&&(en(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?en(d.Ba):o.removedDocuments.size>0&&(en(d.Ba),d.Ba=!1))}),await fb(t,s,e)}catch(s){await Om(s)}}function $j(r,e,t){const s=ut(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((c,d)=>{const f=d.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(c,d){const f=ut(c);f.onlineState=d;let p=!1;f.queries.forEach((v,x)=>{for(const A of x.ta)A.sa(d)&&(p=!0)}),p&&ES(f)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function X7(r,e,t){const s=ut(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),c=o&&o.key;if(c){let d=new vr($e.comparator);d=d.insert(c,vu.newNoDocument(c,ot.min()));const f=Mt().add(c),p=new A_(ot.min(),new Map,new vr(Bt),d,f);await T2(s,p),s.$a=s.$a.remove(c),s.Ka.delete(e),AS(s)}else await WT(s.localStore,e,!1).then(()=>ZT(s,e,t)).catch(Om)}async function Z7(r,e){const t=ut(r),s=e.batch.batchId;try{const o=await l7(t.localStore,e);S2(t,s,null),E2(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await fb(t,o)}catch(o){await Om(o)}}async function J7(r,e,t){const s=ut(r);try{const o=await function(c,d){const f=ut(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,d).next(x=>(en(x!==null),v=x.keys(),f.mutationQueue.removeMutationBatch(p,x))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(s.localStore,e);S2(s,e,t),E2(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await fb(s,o)}catch(o){await Om(o)}}function E2(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function S2(r,e,t){const s=ut(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function ZT(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||A2(r,s)})}function A2(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(vS(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),AS(r))}function Gj(r,e,t){for(const s of t)s instanceof w2?(r.Ua.addReference(s.key,e),eF(r,s)):s instanceof _2?(Ne(SS,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||A2(r,s.key)):tt()}function eF(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(Ne(SS,"New document in limbo: "+t),r.Qa.add(s),AS(r))}function AS(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new $e(Rn.fromString(e)),s=r.za.next();r.Ka.set(s,new q7(t)),r.$a=r.$a.insert(t,s),h2(r.remoteStore,new Pu(yl(cS(t.path)),s,"TargetPurposeLimboResolution",b_.ae))}}async function fb(r,e,t){const s=ut(r),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((f,p)=>{d.push(s.Ha(p,e,t).then(v=>{var x;if((v||t)&&s.isPrimaryClient){const A=v?!v.fromCache:(x=t==null?void 0:t.targetChanges.get(p.targetId))===null||x===void 0?void 0:x.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(v){o.push(v);const A=gS.Yi(p.targetId,v);c.push(A)}}))}),await Promise.all(d),s.La.p_(o),await async function(f,p){const v=ut(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>pe.forEach(p,A=>pe.forEach(A.Hi,C=>v.persistence.referenceDelegate.addReference(x,A.targetId,C)).next(()=>pe.forEach(A.Ji,C=>v.persistence.referenceDelegate.removeReference(x,A.targetId,C)))))}catch(x){if(!Pm(x))throw x;Ne(yS,"Failed to update sequence numbers: "+x)}for(const x of p){const A=x.targetId;if(!x.fromCache){const C=v.Ts.get(A),U=C.snapshotVersion,M=C.withLastLimboFreeSnapshotVersion(U);v.Ts=v.Ts.insert(A,M)}}}(s.localStore,c))}async function tF(r,e){const t=ut(r);if(!t.currentUser.isEqual(e)){Ne(SS,"User change. New user:",e.toKey());const s=await o2(t.localStore,e);t.currentUser=e,function(o,c){o.Ga.forEach(d=>{d.forEach(f=>{f.reject(new Ue(ye.CANCELLED,c))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fb(t,s.Rs)}}function nF(r,e){const t=ut(r),s=t.Ka.get(e);if(s&&s.Ba)return Mt().add(s.key);{let o=Mt();const c=t.qa.get(e);if(!c)return o;for(const d of c){const f=t.ka.get(d);o=o.unionWith(f.view.Sa)}return o}}function j2(r){const e=ut(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=T2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X7.bind(null,e),e.La.p_=V7.bind(null,e.eventManager),e.La.Ja=z7.bind(null,e.eventManager),e}function rF(r){const e=ut(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J7.bind(null,e),e}class Pw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=j_(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return o7(this.persistence,new i7,e.initialUser,this.serializer)}Xa(e){return new a2(pS.ri,this.serializer)}Za(e){return new m7}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pw.provider={build:()=>new Pw};class iF extends Pw{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){en(this.persistence.referenceDelegate instanceof Dw);const s=this.persistence.referenceDelegate.garbageCollector;return new qz(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Ns.withCacheSize(this.cacheSizeBytes):Ns.DEFAULT;return new a2(s=>Dw.ri(s,t),this.serializer)}}class JT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$j(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tF.bind(null,this.syncEngine),await M7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U7}()}createDatastore(e){const t=j_(e.databaseInfo.databaseId),s=function(o){return new b7(o)}(e.databaseInfo);return function(o,c,d,f){return new T7(o,c,d,f)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(t,s,o,c,d){return new S7(t,s,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>$j(this.syncEngine,t,0),function(){return Vj.D()?new Vj:new p7}())}createSyncEngine(e,t){return function(s,o,c,d,f,p,v){const x=new H7(s,o,c,d,f,p);return v&&(x.ja=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=ut(s);Ne(kf,"RemoteStore shutting down."),o.W_.add(5),await db(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}JT.provider={build:()=>new JT};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):yu("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xu="FirestoreClient";class sF{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=qi.UNAUTHENTICATED,this.clientId=vR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{Ne(Xu,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(Ne(Xu,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=TS(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Qx(r,e){r.asyncQueue.verifyOperationInProgress(),Ne(Xu,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await o2(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Kj(r,e){r.asyncQueue.verifyOperationInProgress();const t=await aF(r);Ne(Xu,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Fj(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Fj(e.remoteStore,o)),r._onlineComponents=e}async function aF(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ne(Xu,"Using user provided OfflineComponentProvider");try{await Qx(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ye.FAILED_PRECONDITION||s.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;pm("Error using user provided cache. Falling back to memory cache: "+t),await Qx(r,new Pw)}}else Ne(Xu,"Using default OfflineComponentProvider"),await Qx(r,new iF(void 0));return r._offlineComponents}async function k2(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ne(Xu,"Using user provided OnlineComponentProvider"),await Kj(r,r._uninitializedComponentsProvider._online)):(Ne(Xu,"Using default OnlineComponentProvider"),await Kj(r,new JT))),r._onlineComponents}function oF(r){return k2(r).then(e=>e.syncEngine)}async function N2(r){const e=await k2(r),t=e.eventManager;return t.onListen=$7.bind(null,e.syncEngine),t.onUnlisten=Q7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=G7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=W7.bind(null,e.syncEngine),t}function lF(r,e,t={}){const s=new lu;return r.asyncQueue.enqueueAndForget(async()=>function(o,c,d,f,p){const v=new C2({next:A=>{v.su(),c.enqueueAndForget(()=>v2(o,x));const C=A.docs.has(d);!C&&A.fromCache?p.reject(new Ue(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&A.fromCache&&f&&f.source==="server"?p.reject(new Ue(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),x=new b2(cS(d.path),v,{includeMetadataChanges:!0,Ta:!0});return y2(o,x)}(await N2(r),r.asyncQueue,e,t,s)),s.promise}function cF(r,e,t={}){const s=new lu;return r.asyncQueue.enqueueAndForget(async()=>function(o,c,d,f,p){const v=new C2({next:A=>{v.su(),c.enqueueAndForget(()=>v2(o,x)),A.fromCache&&f.source==="server"?p.reject(new Ue(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),x=new b2(d,v,{includeMetadataChanges:!0,Ta:!0});return y2(o,x)}(await N2(r),r.asyncQueue,e,t,s)),s.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function I2(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qj=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function R2(r,e,t){if(!t)throw new Ue(ye.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function uF(r,e,t,s){if(e===!0&&s===!0)throw new Ue(ye.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Wj(r){if(!$e.isDocumentKey(r))throw new Ue(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Yj(r){if($e.isDocumentKey(r))throw new Ue(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function N_(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":tt()}function Nf(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ue(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=N_(r);throw new Ue(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D2="firestore.googleapis.com",Xj=!0;class Zj{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D2,this.ssl=Xj}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Xj;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Fz)throw new Ue(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I2((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(t,s){return t.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I_{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zj(e),e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new v5;switch(t.type){case"firstParty":return new x5(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ue(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qj.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),Qj.delete(e),t.terminate())}(this),Promise.resolve()}}function hF(r,e,t,s={}){var o;const c=(r=Nf(r,I_))._getSettings(),d=`${e}:${t}`;if(c.host!==D2&&c.host!==d&&pm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let f,p;if(typeof s.mockUserToken=="string")f=s.mockUserToken,p=qi.MOCK_USER;else{f=WN(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new Ue(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qi(v)}r._authCredentials=new b5(new yR(f,p))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lm{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lm(this.firestore,e,this._query)}}class Ms{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ms(this.firestore,e,this._key)}}class Fu extends Lm{constructor(e,t,s){super(e,t,cS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ms(this.firestore,null,new $e(e))}withConverter(e){return new Fu(this.firestore,e,this._path)}}function dF(r,e,...t){if(r=hr(r),R2("collection","path",e),r instanceof I_){const s=Rn.fromString(e,...t);return Yj(s),new Fu(r,null,s)}{if(!(r instanceof Ms||r instanceof Fu))throw new Ue(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Rn.fromString(e,...t));return Yj(s),new Fu(r.firestore,null,s)}}function Wx(r,e,...t){if(r=hr(r),arguments.length===1&&(e=vR.newId()),R2("doc","path",e),r instanceof I_){const s=Rn.fromString(e,...t);return Wj(s),new Ms(r,null,new $e(s))}{if(!(r instanceof Ms||r instanceof Fu))throw new Ue(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Rn.fromString(e,...t));return Wj(s),new Ms(r.firestore,r instanceof Fu?r.converter:null,new $e(s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jj="AsyncQueue";class eC{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new c2(this,"async_queue_retry"),this.Su=()=>{const s=Kx();s&&Ne(Jj,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Kx();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Kx();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new lu;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Pm(e))throw e;Ne(Jj,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(s);throw yu("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=xS.createAndSchedule(this,e,t,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&tt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class R_ extends I_{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new eC,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eC(e),this._firestoreClient=void 0,await e}}}function fF(r,e){const t=f_(),s=Aw,o=ih(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=GN("firestore");c&&hF(o,...c)}return o}function jS(r){if(r._terminated)throw new Ue(ye.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mF(r),r._firestoreClient}function mF(r){var e,t,s;const o=r._freezeSettings(),c=function(d,f,p,v){return new M5(d,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,I2(v.experimentalLongPollingOptions),v.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new sF(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(r._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _m{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _m(zs.fromBase64String(e))}catch(t){throw new Ue(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _m(zs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CS{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ue(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nl(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O2{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NS{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(t,s){if(t.length!==s.length)return!1;for(let o=0;o<t.length;++o)if(t[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pF=/^__.*__$/;class gF{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Hf(e,this.data,this.fieldMask,t,this.fieldTransforms):new ub(e,this.data,t,this.fieldTransforms)}}function P2(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class IS{constructor(e,t,s,o,c,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new IS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Mw(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(P2(this.Lu)&&pF.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class yF{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||j_(e)}ju(e,t,s,o=!1){return new IS({Lu:e,methodName:t,zu:s,path:nl.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M2(r){const e=r._freezeSettings(),t=j_(r._databaseId);return new yF(r._databaseId,!!e.ignoreUndefinedProperties,t)}function vF(r,e,t,s,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,e,t,o);V2("Data must be an object, but it was:",d,s);const f=L2(s,d);let p,v;if(c.merge)p=new Jo(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const A of c.mergeFields){const C=wF(e,A,t);if(!d.contains(C))throw new Ue(ye.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);xF(x,C)||x.push(C)}p=new Jo(x),v=d.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,v=d.fieldTransforms;return new gF(new La(f),p,v)}function bF(r,e,t,s=!1){return RS(t,r.ju(s?4:3,e))}function RS(r,e){if(U2(r=hr(r)))return V2("Unsupported field value:",e,r),L2(r,e);if(r instanceof O2)return function(t,s){if(!P2(s.Lu))throw s.Wu(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(t,s){const o=[];let c=0;for(const d of t){let f=RS(d,s.Uu(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(r,e)}return function(t,s){if((t=hr(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return sz(s.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const o=ks.fromDate(t);return{timestampValue:Rw(s.serializer,o)}}if(t instanceof ks){const o=new ks(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rw(s.serializer,o)}}if(t instanceof kS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _m)return{bytesValue:ZR(s.serializer,t._byteString)};if(t instanceof Ms){const o=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw s.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:fS(t.firestore._databaseId||s.databaseId,t._key.path)}}if(t instanceof NS)return function(o,c){return{mapValue:{fields:{[AR]:{stringValue:jR},[jw]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.Wu("VectorValues must only contain numeric values.");return uS(c.serializer,d)})}}}}}}(t,s);throw s.Wu(`Unsupported field value: ${N_(t)}`)}(r,e)}function L2(r,e){const t={};return wR(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bf(r,(s,o)=>{const c=RS(o,e.qu(s));c!=null&&(t[s]=c)}),{mapValue:{fields:t}}}function U2(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ks||r instanceof kS||r instanceof _m||r instanceof Ms||r instanceof O2||r instanceof NS)}function V2(r,e,t){if(!U2(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const s=N_(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function wF(r,e,t){if((e=hr(e))instanceof CS)return e._internalPath;if(typeof e=="string")return z2(r,e);throw Mw("Field path arguments must be of type string or ",r,!1,void 0,t)}const _F=new RegExp("[~\\*/\\[\\]]");function z2(r,e,t){if(e.search(_F)>=0)throw Mw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new CS(...e.split("."))._internalPath}catch{throw Mw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Mw(r,e,t,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new Ue(ye.INVALID_ARGUMENT,f+r+p)}function xF(r,e){return r.some(t=>t.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class F2{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class TF extends F2{data(){return super.data()}}function DS(r,e){return typeof e=="string"?z2(r,e):e instanceof CS?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function EF(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ue(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OS{}class SF extends OS{}function AF(r,e,...t){let s=[];e instanceof OS&&s.push(e),s=s.concat(t),function(o){const c=o.filter(f=>f instanceof PS).length,d=o.filter(f=>f instanceof D_).length;if(c>1||c>0&&d>0)throw new Ue(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class D_ extends SF{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new D_(e,t,s)}_apply(e){const t=this._parse(e);return B2(e._query,t),new Lm(e.firestore,e.converter,qT(e._query,t))}_parse(e){const t=M2(e.firestore);return function(s,o,c,d,f,p,v){let x;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ue(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){rC(v,p);const A=[];for(const C of v)A.push(nC(d,s,C));x={arrayValue:{values:A}}}else x=nC(d,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||rC(v,p),x=bF(c,o,v,p==="in"||p==="not-in");return gr.create(f,p,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function tC(r,e,t){const s=e,o=DS("where",r);return D_._create(o,s,t)}class PS extends OS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new PS(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:al.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let c=s;const d=o.getFlattenedFilters();for(const f of d)B2(c,f),c=qT(c,f)}(e._query,t),new Lm(e.firestore,e.converter,qT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nC(r,e,t){if(typeof(t=hr(t))=="string"){if(t==="")throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PR(e)&&t.indexOf("/")!==-1)throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Rn.fromString(t));if(!$e.isDocumentKey(s))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yj(r,new $e(s))}if(t instanceof Ms)return yj(r,t._key);throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${N_(t)}.`)}function rC(r,e){if(!Array.isArray(r)||r.length===0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function B2(r,e){const t=function(s,o){for(const c of s)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ue(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ue(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jF{convertValue(e,t="none"){switch(Wu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Bf(e,(o,c)=>{s[o]=this.convertValue(c,t)}),s}convertVectorValue(e){var t,s,o;const c=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[jw].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>cr(d.doubleValue));return new NS(c)}convertGeoPoint(e){return new kS(cr(e.latitude),cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=__(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(zv(e));default:return null}}convertTimestamp(e){const t=Ku(e);return new ks(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Rn.fromString(e);en(i2(s));const o=new Fv(s.get(1),s.get(3)),c=new $e(s.popFirst(5));return o.isEqual(t)||yu(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CF(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q2 extends F2{constructor(e,t,s,o,c,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(DS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class nw extends q2{data(e={}){return super.data(e)}}class kF{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new fv(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new nw(this._firestore,this._userDataWriter,s.key,s,new fv(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const f=new nw(s._firestore,s._userDataWriter,d.doc.key,d.doc,new fv(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new nw(s._firestore,s._userDataWriter,d.doc.key,d.doc,new fv(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:NF(d.type),doc:f,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function NF(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iC(r){r=Nf(r,Ms);const e=Nf(r.firestore,R_);return lF(jS(e),r._key).then(t=>DF(e,r,t))}class H2 extends jF{constructor(e){super(),this.firestore=e}convertBytes(e){return new _m(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,t)}}function IF(r){r=Nf(r,Lm);const e=Nf(r.firestore,R_),t=jS(e),s=new H2(e);return EF(r._query),cF(t,r._query).then(o=>new kF(e,s,r,o))}function sC(r,e,t){r=Nf(r,Ms);const s=Nf(r.firestore,R_),o=CF(r.converter,e,t);return RF(s,[vF(M2(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,cu.none())])}function RF(r,e){return function(t,s){const o=new lu;return t.asyncQueue.enqueueAndForget(async()=>Y7(await oF(t),s,o)),o.promise}(jS(r),e)}function DF(r,e,t){const s=t.docs.get(e._key),o=new H2(r);return new q2(r,o,e._key,s,new fv(t.hasPendingWrites,t.fromCache),e.converter)}(function(r,e=!0){(function(t){Dm=t})(Ff),sl(new Va("firestore",(t,{instanceIdentifier:s,options:o})=>{const c=t.getProvider("app").getImmediate(),d=new R_(new w5(t.getProvider("auth-internal")),new T5(c,t.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ue(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fv(f.options.projectId,p)}(c,s),c);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Os(aj,oj,r),Os(aj,oj,"esm2017")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $2="firebasestorage.googleapis.com",G2="storageBucket",OF=2*60*1e3,PF=10*60*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let br=class K2 extends qa{constructor(e,t,s=0){super(Yx(e),`Firebase Storage: ${t} (${Yx(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,K2.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var $n;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($n||($n={}));function Yx(r){return"storage/"+r}function MS(){const r="An unknown error occurred, please check the error payload for server response.";return new br($n.UNKNOWN,r)}function MF(r){return new br($n.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function LF(r){return new br($n.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UF(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new br($n.UNAUTHENTICATED,r)}function VF(){return new br($n.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zF(r){return new br($n.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function FF(){return new br($n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BF(){return new br($n.CANCELED,"User canceled the upload/download.")}function qF(r){return new br($n.INVALID_URL,"Invalid URL '"+r+"'.")}function HF(r){return new br($n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function $F(){return new br($n.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+G2+"' property when initializing the app?")}function GF(){return new br($n.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KF(){return new br($n.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function QF(r){return new br($n.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function eE(r){return new br($n.INVALID_ARGUMENT,r)}function Q2(){return new br($n.APP_DELETED,"The Firebase app was deleted.")}function WF(r){return new br($n.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Av(r,e){return new br($n.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function nv(r){throw new br($n.INTERNAL_ERROR,"Internal error: "+r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ia{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Ia.makeFromUrl(e,t)}catch{return new Ia(e,"")}if(s.path==="")return s;throw HF(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const d="(/(.*))?$",f=new RegExp("^gs://"+o+d,"i"),p={bucket:1,path:3};function v(Y){Y.path_=decodeURIComponent(Y.path)}const x="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",U=new RegExp(`^https?://${A}/${x}/b/${o}/o${C}`,"i"),M={bucket:1,path:3},K=t===$2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,q="([^?#]*)",G=new RegExp(`^https?://${K}/${o}/${q}`,"i"),Z=[{regex:f,indices:p,postModify:c},{regex:U,indices:M,postModify:v},{regex:G,indices:{bucket:1,path:2},postModify:v}];for(let Y=0;Y<Z.length;Y++){const ae=Z[Y],ce=ae.regex.exec(e);if(ce){const de=ce[ae.indices.bucket];let R=ce[ae.indices.path];R||(R=""),s=new Ia(de,R),ae.postModify(s);break}}if(s==null)throw qF(e);return s}}class YF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function XF(r,e,t){let s=1,o=null,c=null,d=!1,f=0;function p(){return f===2}let v=!1;function x(...q){v||(v=!0,e.apply(null,q))}function A(q){o=setTimeout(()=>{o=null,r(U,p())},q)}function C(){c&&clearTimeout(c)}function U(q,...G){if(v){C();return}if(q){C(),x.call(null,q,...G);return}if(p()||d){C(),x.call(null,q,...G);return}s<64&&(s*=2);let Z;f===1?(f=2,Z=0):Z=(s+Math.random())*1e3,A(Z)}let M=!1;function K(q){M||(M=!0,C(),!v&&(o!==null?(q||(f=2),clearTimeout(o),A(0)):q||(f=1)))}return A(0),c=setTimeout(()=>{d=!0,K(!0)},t),K}function ZF(r){r(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function JF(r){return r!==void 0}function eB(r){return typeof r=="object"&&!Array.isArray(r)}function LS(r){return typeof r=="string"||r instanceof String}function aC(r){return US()&&r instanceof Blob}function US(){return typeof Blob<"u"}function oC(r,e,t,s){if(s<e)throw eE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw eE(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function VS(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function W2(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var _f;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(_f||(_f={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tB(r,e){const t=r>=500&&r<600,s=[408,429].indexOf(r)!==-1,o=e.indexOf(r)!==-1;return t||s||o}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nB{constructor(e,t,s,o,c,d,f,p,v,x,A,C=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=A,this.retry=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,M)=>{this.resolve_=U,this.reject_=M,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Db(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=f=>{const p=f.loaded,v=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,v)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const f=c.getErrorCode()===_f.NO_ERROR,p=c.getStatus();if(!f||tB(p,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===_f.ABORT;s(!1,new Db(!1,null,x));return}const v=this.successCodes_.indexOf(p)!==-1;s(!0,new Db(v,c))})},t=(s,o)=>{const c=this.resolve_,d=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());JF(p)?c(p):c()}catch(p){d(p)}else if(f!==null){const p=MS();p.serverResponse=f.getErrorText(),this.errorCallback_?d(this.errorCallback_(f,p)):d(p)}else if(o.canceled){const p=this.appDelete_?Q2():BF();d(p)}else{const p=FF();d(p)}};this.canceled_?t(!1,new Db(!1,null,!0)):this.backoffId_=XF(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Db{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function rB(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function iB(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sB(r,e){e&&(r["X-Firebase-GMPID"]=e)}function aB(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function oB(r,e,t,s,o,c,d=!0){const f=W2(r.urlParams),p=r.url+f,v=Object.assign({},r.headers);return sB(v,e),rB(v,t),iB(v,c),aB(v,s),new nB(p,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cB(...r){const e=lB();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(US())return new Blob(r);throw new br($n.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uB(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hB(r){if(typeof atob>"u")throw QF("base-64");return atob(r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ml={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xx{constructor(e,t){this.data=e,this.contentType=t||null}}function dB(r,e){switch(r){case ml.RAW:return new Xx(Y2(e));case ml.BASE64:case ml.BASE64URL:return new Xx(X2(r,e));case ml.DATA_URL:return new Xx(mB(e),pB(e))}throw MS()}function Y2(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=s,c=r.charCodeAt(++t);s=65536|(o&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function fB(r){let e;try{e=decodeURIComponent(r)}catch{throw Av(ml.DATA_URL,"Malformed data URL.")}return Y2(e)}function X2(r,e){switch(r){case ml.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw Av(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ml.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw Av(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=hB(e)}catch(o){throw o.message.includes("polyfill")?o:Av(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Z2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Av(ml.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=gB(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function mB(r){const e=new Z2(r);return e.base64?X2(ml.BASE64,e.rest):fB(e.rest)}function pB(r){return new Z2(r).contentType}function gB(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nu{constructor(e,t){let s=0,o="";aC(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(aC(this.data_)){const s=this.data_,o=uB(s,e,t);return o===null?null:new Nu(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Nu(s,!0)}}static getBlob(...e){if(US()){const t=e.map(s=>s instanceof Nu?s.data_:s);return new Nu(cB.apply(null,t))}else{const t=e.map(d=>LS(d)?dB(ml.RAW,d).data:d.data_);let s=0;t.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let c=0;return t.forEach(d=>{for(let f=0;f<d.length;f++)o[c++]=d[f]}),new Nu(o,!0)}}uploadData(){return this.data_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function J2(r){let e;try{e=JSON.parse(r)}catch{return null}return eB(e)?e:null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yB(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function vB(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function eD(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bB(r,e){return e}class js{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||bB}}let Ob=null;function wB(r){return!LS(r)||r.length<2?r:eD(r)}function tD(){if(Ob)return Ob;const r=[];r.push(new js("bucket")),r.push(new js("generation")),r.push(new js("metageneration")),r.push(new js("name","fullPath",!0));function e(c,d){return wB(d)}const t=new js("name");t.xform=e,r.push(t);function s(c,d){return d!==void 0?Number(d):d}const o=new js("size");return o.xform=s,r.push(o),r.push(new js("timeCreated")),r.push(new js("updated")),r.push(new js("md5Hash",null,!0)),r.push(new js("cacheControl",null,!0)),r.push(new js("contentDisposition",null,!0)),r.push(new js("contentEncoding",null,!0)),r.push(new js("contentLanguage",null,!0)),r.push(new js("contentType",null,!0)),r.push(new js("metadata","customMetadata",!0)),Ob=r,Ob}function _B(r,e){function t(){const s=r.bucket,o=r.fullPath,c=new Ia(s,o);return e._makeStorageReference(c)}Object.defineProperty(r,"ref",{get:t})}function xB(r,e,t){const s={};s.type="file";const o=t.length;for(let c=0;c<o;c++){const d=t[c];s[d.local]=d.xform(s,e[d.server])}return _B(s,r),s}function nD(r,e,t){const s=J2(e);return s===null?null:xB(r,s,t)}function TB(r,e,t,s){const o=J2(e);if(o===null||!LS(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(f=>{const p=r.bucket,v=r.fullPath,x="/b/"+d(p)+"/o/"+d(v),A=VS(x,t,s),C=W2({alt:"media",token:f});return A+C})[0]}function EB(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(t[c.server]=r[c.local])}return JSON.stringify(t)}class rD{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iD(r){if(!r)throw MS()}function SB(r,e){function t(s,o){const c=nD(r,o,e);return iD(c!==null),c}return t}function AB(r,e){function t(s,o){const c=nD(r,o,e);return iD(c!==null),TB(c,o,r.host,r._protocol)}return t}function sD(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=VF():o=UF():t.getStatus()===402?o=LF(r.bucket):t.getStatus()===403?o=zF(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function jB(r){const e=sD(r);function t(s,o){let c=e(s,o);return s.getStatus()===404&&(c=MF(r.path)),c.serverResponse=o.serverResponse,c}return t}function CB(r,e,t){const s=e.fullServerUrl(),o=VS(s,r.host,r._protocol),c="GET",d=r.maxOperationRetryTime,f=new rD(o,c,AB(r,t),d);return f.errorHandler=jB(e),f}function kB(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function NB(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=kB(null,e)),s}function IB(r,e,t,s,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function f(){let Y="";for(let ae=0;ae<2;ae++)Y=Y+Math.random().toString().slice(2);return Y}const p=f();d["Content-Type"]="multipart/related; boundary="+p;const v=NB(e,s,o),x=EB(v,t),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+p+`\r
Content-Type: `+v.contentType+`\r
\r
`,C=`\r
--`+p+"--",U=Nu.getBlob(A,s,C);if(U===null)throw GF();const M={name:v.fullPath},K=VS(c,r.host,r._protocol),q="POST",G=r.maxUploadRetryTime,Z=new rD(K,q,SB(r,t),G);return Z.urlParams=M,Z.headers=d,Z.body=U.uploadData(),Z.errorHandler=sD(e),Z}class RB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_f.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_f.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_f.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw nv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class DB extends RB{initXhr(){this.xhr_.responseType="text"}}function aD(){return new DB}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class If{constructor(e,t){this._service=e,t instanceof Ia?this._location=t:this._location=Ia.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new If(e,t)}get root(){const e=new Ia(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eD(this._location.path)}get storage(){return this._service}get parent(){const e=yB(this._location.path);if(e===null)return null;const t=new Ia(this._location.bucket,e);return new If(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw WF(e)}}function OB(r,e,t){r._throwIfRoot("uploadBytes");const s=IB(r.storage,r._location,tD(),new Nu(e,!0),t);return r.storage.makeRequestWithTokens(s,aD).then(o=>({metadata:o,ref:r}))}function PB(r){r._throwIfRoot("getDownloadURL");const e=CB(r.storage,r._location,tD());return r.storage.makeRequestWithTokens(e,aD).then(t=>{if(t===null)throw KF();return t})}function MB(r,e){const t=vB(r._location.path,e),s=new Ia(r._location.bucket,t);return new If(r.storage,s)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function LB(r){return/^[A-Za-z]+:\/\//.test(r)}function UB(r,e){return new If(r,e)}function oD(r,e){if(r instanceof zS){const t=r;if(t._bucket==null)throw $F();const s=new If(t,t._bucket);return e!=null?oD(s,e):s}else return e!==void 0?MB(r,e):r}function VB(r,e){if(e&&LB(e)){if(r instanceof zS)return UB(r,e);throw eE("To use ref(service, url), the first argument must be a Storage instance.")}else return oD(r,e)}function lC(r,e){const t=e==null?void 0:e[G2];return t==null?null:Ia.makeFromBucketSpec(t,r)}function zB(r,e,t,s={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:WN(o,r.app.options.projectId))}class zS{constructor(e,t,s,o,c){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=$2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OF,this._maxUploadRetryTime=PF,this._requests=new Set,o!=null?this._bucket=Ia.makeFromBucketSpec(o,this._host):this._bucket=lC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ia.makeFromBucketSpec(this._url,e):this._bucket=lC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new If(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new YF(Q2());{const d=oB(e,this._appId,s,o,t,this._firebaseVersion,c);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const cC="@firebase/storage",uC="0.13.6";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lD="storage";function FB(r,e,t){return r=hr(r),OB(r,e,t)}function BB(r){return r=hr(r),PB(r)}function qB(r,e){return r=hr(r),VB(r,e)}function HB(r=f_(),e){r=hr(r);const t=ih(r,lD).getImmediate({identifier:e}),s=GN("storage");return s&&$B(t,...s),t}function $B(r,e,t,s={}){zB(r,e,t,s)}function GB(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new zS(t,s,o,e,Ff)}function KB(){sl(new Va(lD,GB,"PUBLIC").setMultipleInstances(!0)),Os(cC,uC,""),Os(cC,uC,"esm2017")}KB();function cD({onClose:r,onThemeToggle:e,isDarkMode:t}){const[s,o]=re.useState("main"),[c,d]=re.useState(null),[f,p]=re.useState(!0),[v,x]=re.useState({fullName:"",phoneNumber:"",bio:""}),[A,C]=re.useState([]),[U,M]=re.useState(null),[K,q]=re.useState(!1),[G,Z]=re.useState(""),Y=tS(),ae=fF(),ce=HB(),de="/assets/images/default-avatar.jpg";re.useEffect(()=>{(async()=>{if(!Y.currentUser){Z("No authenticated user found."),p(!1);return}try{p(!0);const te=Wx(ae,"users",Y.currentUser.uid),_e=await iC(te);if(_e.exists()){const D=_e.data();console.log("User Data from Firestore:",D),console.log("User Display Name from Auth:",Y.currentUser.displayName),d({name:D.fullName||Y.currentUser.displayName||"User",email:Y.currentUser.email,image:D.profileImage||Y.currentUser.photoURL||de,memberSince:D.memberSince?new Date(D.memberSince.toDate()).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"New Member",plan:D.subscriptionPlan||"Free",streak:D.streak||0,phoneNumber:D.phoneNumber||"",bio:D.bio||"",nextSession:D.nextSession?new Date(D.nextSession.toDate()).toLocaleString("en-US",{weekday:"long",hour:"numeric",minute:"numeric",hour12:!0}):"No upcoming sessions"}),x({fullName:D.fullName||Y.currentUser.displayName||"",phoneNumber:D.phoneNumber||"",bio:D.bio||""})}else{const D={fullName:Y.currentUser.displayName||"",email:Y.currentUser.email,profileImage:Y.currentUser.photoURL||de,memberSince:new Date,subscriptionPlan:"Free",streak:0};await sC(te,D),d({name:D.fullName||"User",email:D.email,image:D.profileImage,memberSince:"New Member",plan:"Free",streak:0,nextSession:"No upcoming sessions"}),x({fullName:D.fullName||"",phoneNumber:"",bio:""})}R()}catch(te){console.error("Error fetching user data:",te),Z(`Error loading profile: ${te.message}`)}finally{p(!1)}})()},[Y.currentUser,ae]);const R=async()=>{if(Y.currentUser)try{const te=dF(ae,"notifications"),_e=AF(te,tC("userId","==",Y.currentUser.uid),tC("read","==",!1)),D=await IF(_e),X=[];D.forEach(ue=>{X.push({id:ue.id,...ue.data()})}),C(X)}catch(te){console.error("Error fetching notifications:",te)}},j=async()=>{try{await R6(Y),r()}catch(te){console.error("Error signing out:",te),Z(`Error signing out: ${te.message}`)}},S=te=>{te==="My Profile"||te==="Settings"?o(te.toLowerCase().replace(" ","-")):te==="Notifications"?N():r()},N=async()=>{if(A.length!==0)try{const te=ae.batch();A.forEach(_e=>{const D=Wx(ae,"notifications",_e.id);te.update(D,{read:!0})}),await te.commit(),C([])}catch(te){console.error("Error marking notifications as read:",te)}},O=te=>{const{name:_e,value:D}=te.target;x(X=>({...X,[_e]:D}))},z=te=>{te.target.files[0]&&M(te.target.files[0])},I=async()=>{if(Z(""),!Y.currentUser){Z("No authenticated user found. Please sign in again.");return}try{const te=Wx(ae,"users",Y.currentUser.uid),_e=await iC(te),D={..._e.exists()?_e.data():{},fullName:v.fullName,phoneNumber:v.phoneNumber,bio:v.bio,lastUpdated:new Date};if(U){q(!0);try{const X=qB(ce,`profile-images/${Y.currentUser.uid}`);await FB(X,U);const ue=await BB(X);ue&&(D.profileImage=ue)}catch(X){console.error("Error uploading image:",X)}finally{q(!1)}}console.log("Updating with data:",D),await sC(te,D,{merge:!0}),d(X=>({...X,name:v.fullName,image:D.profileImage||X.image,phoneNumber:v.phoneNumber,bio:v.bio})),alert("Profile updated successfully!"),o("main")}catch(te){console.error("Error updating profile:",te),Z(`Update failed: ${te.message}`),alert(`Failed to update profile: ${te.message}`)}},dt=()=>{const te=c==null?void 0:c.image;return te&&te!==de?g.jsx("img",{src:te,alt:c==null?void 0:c.name,className:"profile-image"}):g.jsx(rj,{size:64,className:"default-profile-icon"})};if(f)return g.jsx("div",{className:"profile-popup-overlay",children:g.jsx("div",{className:"profile-popup",children:g.jsxs("div",{className:"loading-spinner",children:[g.jsx("div",{className:"spinner"}),g.jsx("p",{children:"Loading your profile..."})]})})});if(G&&!c)return g.jsx("div",{className:"profile-popup-overlay",children:g.jsxs("div",{className:"profile-popup",children:[g.jsx("button",{className:"close-button",onClick:r,children:g.jsx(ij,{size:20})}),g.jsxs("div",{className:"error-message",children:[g.jsx("p",{children:G}),g.jsx("button",{onClick:r,children:"Close"})]})]})});const nt=()=>g.jsxs(g.Fragment,{children:[G&&g.jsx("div",{className:"error-banner",children:G}),g.jsxs("div",{className:"profile-header",children:[g.jsxs("div",{className:"profile-image-container",children:[dt(),A.length>0&&g.jsx("div",{className:"notification-badge",children:A.length})]}),g.jsxs("div",{className:"profile-info",children:[g.jsx("h3",{children:c==null?void 0:c.name}),g.jsx("p",{className:"email",children:c==null?void 0:c.email}),g.jsxs("p",{className:"member-info",children:["Member since ",c==null?void 0:c.memberSince," • ",c==null?void 0:c.plan]})]})]}),g.jsxs("div",{className:"streak-panel",children:[g.jsxs("div",{className:"streak-count",children:[g.jsx("span",{className:"number",children:c==null?void 0:c.streak}),g.jsx("span",{className:"label",children:"Day Streak"})]}),g.jsxs("div",{className:"next-session",children:[g.jsx("span",{className:"label",children:"Next Session"}),g.jsx("span",{className:"session-time",children:c==null?void 0:c.nextSession})]})]}),g.jsx("div",{className:"divider"}),g.jsxs("div",{className:"profile-menu",children:[g.jsxs("div",{className:"menu-item",onClick:()=>S("My Profile"),children:[g.jsx(m5,{size:18}),g.jsx("span",{children:"My Profile"}),g.jsx(Xo,{size:16,className:"chevron"})]}),g.jsxs("div",{className:"menu-item",onClick:()=>S("My Community"),children:[g.jsx(g5,{size:18}),g.jsx("span",{children:"My Community"}),g.jsx(Xo,{size:16,className:"chevron"})]}),g.jsxs("div",{className:"menu-item",onClick:()=>S("My Wellness Journey"),children:[g.jsx(d5,{size:18}),g.jsx("span",{children:"My Wellness Journey"}),g.jsx(Xo,{size:16,className:"chevron"})]}),g.jsxs("div",{className:"menu-item",onClick:()=>S("My Sessions"),children:[g.jsx(ZV,{size:18}),g.jsx("span",{children:"My Sessions"}),g.jsx(Xo,{size:16,className:"chevron"})]}),g.jsxs("div",{className:"menu-item",onClick:()=>S("My Reports"),children:[g.jsx(n5,{size:18}),g.jsx("span",{children:"My Reports"}),g.jsx(Xo,{size:16,className:"chevron"})]}),g.jsxs("div",{className:"menu-item",onClick:()=>S("Notifications"),children:[g.jsx(YV,{size:18}),g.jsx("span",{children:"Notifications"}),A.length>0&&g.jsx("div",{className:"menu-notification-badge",children:A.length})]}),g.jsxs("div",{className:"menu-item",onClick:()=>S("Settings"),children:[g.jsx(l5,{size:18}),g.jsx("span",{children:"Settings"}),g.jsx(Xo,{size:16,className:"chevron"})]})]}),g.jsx("div",{className:"divider"}),g.jsx("div",{className:"preference-toggles",children:g.jsxs("div",{className:"toggle-item",onClick:e,children:[g.jsx(a5,{size:18}),g.jsx("span",{children:"Dark Mode"}),g.jsxs("div",{className:"toggle-switch",children:[g.jsx("input",{type:"checkbox",id:"theme-toggle",className:"toggle-input",checked:t,onChange:e}),g.jsx("label",{htmlFor:"theme-toggle",className:"toggle-label"})]})]})}),g.jsx("div",{className:"divider"}),g.jsxs("div",{className:"footer-menu",children:[g.jsxs("div",{className:"menu-item",onClick:()=>S("Privacy Policy"),children:[g.jsx(u5,{size:18}),g.jsx("span",{children:"Privacy Policy"})]}),g.jsxs("div",{className:"menu-item logout",onClick:j,children:[g.jsx(i5,{size:18}),g.jsx("span",{children:"Logout"})]})]})]}),se=()=>g.jsxs(g.Fragment,{children:[G&&g.jsx("div",{className:"error-banner",children:G}),g.jsxs("div",{className:"section-header",children:[g.jsx("button",{className:"back-button",onClick:()=>o("main"),children:g.jsx(Xo,{size:18,className:"back-icon"})}),g.jsx("h3",{children:"My Profile"})]}),g.jsxs("div",{className:"profile-edit-form",children:[g.jsxs("div",{className:"profile-image-editor",children:[c!=null&&c.image&&c.image!==de?g.jsx("img",{src:c.image,alt:c==null?void 0:c.name,className:"profile-image large"}):g.jsx(rj,{size:120,className:"default-profile-icon large"}),g.jsx("input",{type:"file",id:"profile-image-upload",accept:"image/*",className:"file-input",onChange:z,style:{display:"none"}}),g.jsx("label",{htmlFor:"profile-image-upload",className:"edit-image-button",children:K?"Uploading...":"Change Photo"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Full Name"}),g.jsx("input",{type:"text",name:"fullName",value:v.fullName,onChange:O,className:"form-input"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Email"}),g.jsx("input",{type:"email",value:c==null?void 0:c.email,className:"form-input",disabled:!0}),g.jsx("p",{className:"form-helper",children:"Email cannot be changed"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Phone Number"}),g.jsx("input",{type:"tel",name:"phoneNumber",value:v.phoneNumber,onChange:O,placeholder:"Add phone number",className:"form-input"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Bio"}),g.jsx("textarea",{name:"bio",value:v.bio,onChange:O,placeholder:"Tell us about yourself",className:"form-textarea",rows:4})]}),g.jsx("button",{className:"save-button",onClick:I,children:K?"Uploading...":"Save Changes"})]})]}),be=()=>g.jsxs(g.Fragment,{children:[G&&g.jsx("div",{className:"error-banner",children:G}),g.jsxs("div",{className:"section-header",children:[g.jsx("button",{className:"back-button",onClick:()=>o("main"),children:g.jsx(Xo,{size:18,className:"back-icon"})}),g.jsx("h3",{children:"Settings"})]}),g.jsxs("div",{className:"settings-list",children:[g.jsx("h4",{children:"Account Settings"}),g.jsxs("div",{className:"settings-group",children:[g.jsxs("div",{className:"settings-item",children:[g.jsx("span",{children:"Subscription Plan"}),g.jsx("span",{className:"settings-value",children:c==null?void 0:c.plan}),g.jsx(Xo,{size:16,className:"chevron"})]}),g.jsxs("div",{className:"settings-item",children:[g.jsx("span",{children:"Change Password"}),g.jsx(Xo,{size:16,className:"chevron"})]}),g.jsxs("div",{className:"settings-item",children:[g.jsx("span",{children:"Billing Information"}),g.jsx(Xo,{size:16,className:"chevron"})]})]}),g.jsx("h4",{children:"Notifications"}),g.jsxs("div",{className:"settings-group",children:[g.jsxs("div",{className:"toggle-item",children:[g.jsx("span",{children:"Push Notifications"}),g.jsxs("div",{className:"toggle-switch",children:[g.jsx("input",{type:"checkbox",id:"push-toggle",className:"toggle-input",defaultChecked:!0}),g.jsx("label",{htmlFor:"push-toggle",className:"toggle-label"})]})]}),g.jsxs("div",{className:"toggle-item",children:[g.jsx("span",{children:"Email Notifications"}),g.jsxs("div",{className:"toggle-switch",children:[g.jsx("input",{type:"checkbox",id:"email-toggle",className:"toggle-input",defaultChecked:!0}),g.jsx("label",{htmlFor:"email-toggle",className:"toggle-label"})]})]}),g.jsxs("div",{className:"toggle-item",children:[g.jsx("span",{children:"Session Reminders"}),g.jsxs("div",{className:"toggle-switch",children:[g.jsx("input",{type:"checkbox",id:"reminder-toggle",className:"toggle-input",defaultChecked:!0}),g.jsx("label",{htmlFor:"reminder-toggle",className:"toggle-label"})]})]})]}),g.jsx("h4",{children:"Privacy"}),g.jsxs("div",{className:"settings-group",children:[g.jsxs("div",{className:"toggle-item",children:[g.jsx("span",{children:"Show Online Status"}),g.jsxs("div",{className:"toggle-switch",children:[g.jsx("input",{type:"checkbox",id:"online-toggle",className:"toggle-input"}),g.jsx("label",{htmlFor:"online-toggle",className:"toggle-label"})]})]}),g.jsxs("div",{className:"toggle-item",children:[g.jsx("span",{children:"Share Activity with Community"}),g.jsxs("div",{className:"toggle-switch",children:[g.jsx("input",{type:"checkbox",id:"activity-toggle",className:"toggle-input"}),g.jsx("label",{htmlFor:"activity-toggle",className:"toggle-label"})]})]})]})]})]});return g.jsx("div",{className:"profile-popup-overlay",onClick:r,children:g.jsxs("div",{className:"profile-popup",onClick:te=>te.stopPropagation(),children:[g.jsx("button",{className:"close-button",onClick:r,children:g.jsx(ij,{size:20})}),s==="main"&&nt(),s==="my-profile"&&se(),s==="settings"&&be()]})})}function Um(){const[r,e]=re.useState(!1),t=()=>{e(!r)};return g.jsxs("header",{className:"header",children:[g.jsx("div",{className:"logo",children:"MindEase"}),g.jsx("nav",{className:"nav",children:g.jsxs("ul",{children:[g.jsx("li",{children:g.jsx(Nn,{to:"/",children:"Home"})}),g.jsx("li",{children:g.jsx(Nn,{to:"/about",children:"About"})}),g.jsx("li",{children:g.jsx(Nn,{to:"/screening",children:"Screening"})}),g.jsx("li",{children:g.jsx(Nn,{to:"/resources",children:"Resources"})}),g.jsx("li",{children:g.jsx(Nn,{to:"/community",children:"Community"})}),g.jsx("li",{children:g.jsx(Nn,{to:"/contact",children:"Contact"})})]})}),g.jsx("div",{className:"profile-icon",onClick:t,style:{cursor:"pointer"},children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"40",height:"40",fill:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"8",r:"4"}),g.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]})}),r&&g.jsx(cD,{onClose:t})]})}var uD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hC=wf.createContext&&wf.createContext(uD),QB=["attr","size","title"];function WB(r,e){if(r==null)return{};var t=YB(r,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function YB(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function Lw(){return Lw=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Lw.apply(this,arguments)}function dC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function Uw(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(t),!0).forEach(function(s){XB(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dC(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function XB(r,e,t){return e=ZB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ZB(r){var e=JB(r,"string");return typeof e=="symbol"?e:e+""}function JB(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function hD(r){return r&&r.map((e,t)=>wf.createElement(e.tag,Uw({key:t},e.attr),hD(e.child)))}function O_(r){return e=>wf.createElement(e8,Lw({attr:Uw({},r.attr)},e),hD(r.child))}function e8(r){var e=t=>{var{attr:s,size:o,title:c}=r,d=WB(r,QB),f=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),wf.createElement("svg",Lw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:p,style:Uw(Uw({color:r.color||t.color},t.style),r.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),c&&wf.createElement("title",null,c),r.children)};return hC!==void 0?wf.createElement(hC.Consumer,null,t=>e(t)):e(uD)}function t8(r){return O_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}function n8(r){return O_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function r8(r){return O_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(r)}function i8(r){return O_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(r)}function Vm(){return g.jsxs("footer",{className:"footer",children:[g.jsxs("div",{className:"footer-content",children:[g.jsxs("div",{className:"footer-section",children:[g.jsx("h3",{className:"footer-heading",children:"Quick Links"}),g.jsxs("ul",{className:"footer-links",children:[g.jsx("li",{children:g.jsx(Nn,{to:"/privacy",children:"Privacy Policy"})}),g.jsx("li",{children:g.jsx(Nn,{to:"/terms",children:"Terms of Service"})}),g.jsx("li",{children:g.jsx(Nn,{to:"/contact",children:"Contact Us"})})]})]}),g.jsxs("div",{className:"footer-section",children:[g.jsx("h3",{className:"footer-heading",children:"Follow Us"}),g.jsxs("div",{className:"social-media",children:[g.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:g.jsx(t8,{className:"icon"})}),g.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:g.jsx(r8,{className:"icon"})}),g.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:g.jsx(n8,{className:"icon"})})]})]}),g.jsxs("div",{className:"footer-section",children:[g.jsx("h3",{className:"footer-heading",children:"Newsletter"}),g.jsx("p",{className:"newsletter-description",children:"Stay updated with the latest news and updates."}),g.jsxs("div",{className:"newsletter-input",children:[g.jsx(i8,{className:"newsletter-icon"}),g.jsx("input",{type:"email",placeholder:"Enter your email"}),g.jsx("button",{className:"newsletter-button",children:"Subscribe"})]})]})]}),g.jsx("div",{className:"footer-bottom",children:g.jsx("p",{children:"© 2023 MindEase. All rights reserved."})})]})}function s8(){return g.jsxs("div",{className:"App",children:[g.jsx(Um,{}),g.jsx("section",{className:"hero",style:{backgroundImage:"url('/assets/images/calming2.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:g.jsxs("div",{className:"hero-content",children:[g.jsx("h1",{children:"Welcome to MindEase"}),g.jsx("p",{children:"Your safe space for understanding and managing mental health."}),g.jsxs("div",{className:"cta-buttons",children:[g.jsx(Nn,{to:"/screening",children:g.jsx("button",{className:"primary-cta",children:"Take a Screening Test"})}),g.jsx(Nn,{to:"/community",children:g.jsx("button",{className:"secondary-cta",children:"Join the Community"})})]})]})}),g.jsxs("section",{className:"features",children:[g.jsx("h2",{children:"How We Can Help"}),g.jsxs("div",{className:"feature-cards",children:[g.jsxs("div",{className:"card",children:[g.jsx("div",{className:"card-icon",children:"🧠"}),g.jsx("h3",{children:"Screening Tools"}),g.jsx("p",{children:"Accessible, scientifically-validated assessments."})]}),g.jsxs("div",{className:"card",children:[g.jsx("div",{className:"card-icon",children:"🤝"}),g.jsx("h3",{children:"Personalized Resources"}),g.jsx("p",{children:"Connect with specialists tailored to your needs."})]}),g.jsxs("div",{className:"card",children:[g.jsx("div",{className:"card-icon",children:"💬"}),g.jsx("h3",{children:"Community Support"}),g.jsx("p",{children:"Join moderated peer support groups."})]}),g.jsxs("div",{className:"card",children:[g.jsx("div",{className:"card-icon",children:"📊"}),g.jsx("h3",{children:"Progress Tracking"}),g.jsx("p",{children:"Monitor your mental health journey."})]})]})]}),g.jsxs("section",{className:"about",children:[g.jsxs("div",{className:"about-content",children:[g.jsx("h2",{children:"About MindEase"}),g.jsx("p",{children:"We are dedicated to providing comprehensive support for mental health conditions. Our platform combines cutting-edge technology with compassionate care to help you thrive."}),g.jsx(Nn,{to:"/about",className:"about-link",children:"Learn More →"})]}),g.jsx("div",{className:"about-image",children:g.jsx("img",{src:"https://via.placeholder.com/400",alt:"About illustration"})})]}),g.jsxs("section",{className:"disorders",children:[g.jsx("h2",{children:"Explore Mental Health Conditions"}),g.jsxs("div",{className:"disorder-grid",children:[g.jsxs(Nn,{to:"/ocd",className:"disorder-card",children:[g.jsx("h3",{children:"OCD"}),g.jsx("p",{children:"Obsessive-Compulsive Disorder"})]}),g.jsxs(Nn,{to:"/adhd",className:"disorder-card",children:[g.jsx("h3",{children:"ADHD"}),g.jsx("p",{children:"Attention-Deficit/Hyperactivity Disorder"})]}),g.jsxs(Nn,{to:"/depression",className:"disorder-card",children:[g.jsx("h3",{children:"Depression"}),g.jsx("p",{children:"Major Depressive Disorder"})]}),g.jsxs(Nn,{to:"/anxiety",className:"disorder-card",children:[g.jsx("h3",{children:"Anxiety"}),g.jsx("p",{children:"Generalized Anxiety Disorder"})]}),g.jsxs(Nn,{to:"/bipolar",className:"disorder-card",children:[g.jsx("h3",{children:"Bipolar Disorder"}),g.jsx("p",{children:"Bipolar I and II Disorders"})]}),g.jsxs(Nn,{to:"/ptsd",className:"disorder-card",children:[g.jsx("h3",{children:"PTSD"}),g.jsx("p",{children:"Post-Traumatic Stress Disorder"})]})]})]}),g.jsxs("section",{className:"testimonials",children:[g.jsx("h2",{children:"What Our Users Say"}),g.jsxs("div",{className:"testimonial-cards",children:[g.jsxs("div",{className:"testimonial",children:[g.jsx("p",{children:'"MindEase helped me understand my condition and find the right support. I feel less alone now."'}),g.jsx("p",{children:"- Sarah, 28"})]}),g.jsxs("div",{className:"testimonial",children:[g.jsx("p",{children:'"The community here is amazing. I finally feel heard and supported."'}),g.jsx("p",{children:"- John, 34"})]})]})]}),g.jsx(Vm,{})]})}const fC=({initialMode:r="login"})=>{const[e,t]=re.useState(r==="login"),[s,o]=re.useState(!1),[c,d]=re.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",agreeToTerms:!1,securityQuestion:"",securityAnswer:""}),[f,p]=re.useState({}),[v,x]=re.useState(!1),A=tS(),C=re.useRef(null),U=re.useRef(null),M=re.useRef(null),K=Al(),q=Sl();re.useEffect(()=>{t(r==="login"),C.current&&C.current.focus();const R=j=>{if(M.current){const S=j.clientX/window.innerWidth,N=j.clientY/window.innerHeight;M.current.style.setProperty("--mouse-x",S),M.current.style.setProperty("--mouse-y",N)}};return document.addEventListener("mousemove",R),()=>{document.removeEventListener("mousemove",R)}},[r]);const G=()=>{const R={};return c.email?/\S+@\S+\.\S+/.test(c.email)||(R.email="Email is invalid"):R.email="Email is required",c.password?c.password.length<8&&(R.password="Password must be at least 8 characters"):R.password="Password is required",e||(c.password!==c.confirmPassword&&(R.confirmPassword="Passwords do not match"),c.firstName||(R.firstName="First name is required"),c.lastName||(R.lastName="Last name is required"),c.agreeToTerms||(R.agreeToTerms="You must agree to the terms and conditions"),c.securityQuestion||(R.securityQuestion="Please select a security question"),c.securityAnswer||(R.securityAnswer="Security answer is required")),p(R),Object.keys(R).length===0},Z=R=>{const{name:j,value:S,type:N,checked:O}=R.target;d({...c,[j]:N==="checkbox"?O:S}),f[j]&&p({...f,[j]:null})},Y=async R=>{var j,S;if(R.preventDefault(),!!G()){x(!0);try{if(e){console.log("Attempting sign-in..."),await k6(A,c.email,c.password),console.log("Sign-in successful");const N=((S=(j=q.state)==null?void 0:j.from)==null?void 0:S.pathname)||"/home";K(N)}else await C6(A,c.email,c.password),o(!0)}catch(N){console.error("Sign-in error:",N),p({general:N.message})}finally{x(!1)}}},ae=async()=>{var R,j;x(!0);const S=new Zc;try{await Z6(A,S);const N=((j=(R=q.state)==null?void 0:R.from)==null?void 0:j.pathname)||"/home";K(N)}catch(N){p({general:N.message})}finally{x(!1)}},ce=()=>{o(!1),K(e?"/register":"/")},de=()=>{const R=c.password;if(!R)return 0;let j=0;return R.length>=8&&(j+=1),/[A-Z]/.test(R)&&(j+=1),/[a-z]/.test(R)&&(j+=1),/[0-9]/.test(R)&&(j+=1),/[^A-Za-z0-9]/.test(R)&&(j+=1),j};return g.jsxs("div",{className:"auth-container",ref:M,children:[g.jsxs("div",{className:"auth-background",children:[g.jsx("div",{className:"gradient-orb orb1"}),g.jsx("div",{className:"gradient-orb orb2"}),g.jsx("div",{className:"gradient-orb orb3"}),g.jsx("div",{className:"network-grid"})]}),g.jsxs("div",{className:"auth-card fade-in",children:[g.jsxs("div",{className:"auth-header",children:[g.jsxs("div",{className:"logo",children:[g.jsx("span",{className:"logo-icon"}),g.jsx("h1",{children:"MindfulPath"})]}),g.jsx("h2",{children:e?"Welcome Back":"Create Your Account"}),g.jsx("p",{className:"subtitle",children:e?"Your journey to better mental health continues here":"Join our community for personalized mental health support"})]}),f.general&&g.jsx("div",{className:"auth-message error",children:f.general}),!e&&s?g.jsxs("div",{className:"registration-success",style:{textAlign:"center",padding:"20px"},children:[g.jsx("p",{style:{marginBottom:"20px"},children:"Registration Successful!"}),g.jsx("button",{type:"button",className:"submit-button",onClick:()=>K("/"),children:"Back to Login"})]}):g.jsxs("div",{className:"auth-form-container",style:{maxHeight:"70vh",overflowY:"auto"},children:[g.jsxs("form",{onSubmit:Y,className:"auth-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Email"}),g.jsxs("div",{className:"input-container",children:[g.jsx("input",{type:"email",id:"email",name:"email",ref:C,value:c.email,onChange:Z,className:f.email?"error":"",placeholder:"your.email@example.com"}),g.jsx("span",{className:"input-icon email-icon"})]}),f.email&&g.jsx("span",{className:"error-message",children:f.email})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Password"}),g.jsxs("div",{className:"input-container",children:[g.jsx("input",{type:"password",id:"password",name:"password",ref:U,value:c.password,onChange:Z,className:f.password?"error":"",placeholder:"••••••••"}),g.jsx("span",{className:"input-icon password-icon"})]}),f.password&&g.jsx("span",{className:"error-message",children:f.password}),!e&&c.password&&g.jsxs("div",{className:"password-strength",children:[g.jsx("div",{className:"strength-meter",children:[...Array(5)].map((R,j)=>g.jsx("div",{className:`strength-segment ${j<de()?"active":""}`,"data-strength":j+1},j))}),g.jsxs("span",{className:"strength-text",children:[de()===0&&"Very Weak",de()===1&&"Weak",de()===2&&"Fair",de()===3&&"Good",de()===4&&"Strong",de()===5&&"Very Strong"]})]})]}),!e&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),g.jsxs("div",{className:"input-container",children:[g.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:Z,className:f.confirmPassword?"error":"",placeholder:"••••••••"}),g.jsx("span",{className:"input-icon password-confirm-icon"})]}),f.confirmPassword&&g.jsx("span",{className:"error-message",children:f.confirmPassword})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group half",children:[g.jsx("label",{htmlFor:"firstName",children:"First Name"}),g.jsx("div",{className:"input-container",children:g.jsx("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:Z,className:f.firstName?"error":"",placeholder:"John"})}),f.firstName&&g.jsx("span",{className:"error-message",children:f.firstName})]}),g.jsxs("div",{className:"form-group half",children:[g.jsx("label",{htmlFor:"lastName",children:"Last Name"}),g.jsx("div",{className:"input-container",children:g.jsx("input",{type:"text",id:"lastName",name:"lastName",value:c.lastName,onChange:Z,className:f.lastName?"error":"",placeholder:"Doe"})}),f.lastName&&g.jsx("span",{className:"error-message",children:f.lastName})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"securityQuestion",children:"Security Question"}),g.jsxs("div",{className:"input-container",children:[g.jsxs("select",{id:"securityQuestion",name:"securityQuestion",value:c.securityQuestion,onChange:Z,className:f.securityQuestion?"error":"",children:[g.jsx("option",{value:"",children:"Select a security question"}),g.jsx("option",{value:"firstPet",children:"What was the name of your first pet?"}),g.jsx("option",{value:"mothersMaiden",children:"What is your mother's maiden name?"}),g.jsx("option",{value:"birthCity",children:"In what city were you born?"}),g.jsx("option",{value:"elementarySchool",children:"What elementary school did you attend?"}),g.jsx("option",{value:"firstCar",children:"What was the make of your first car?"})]}),g.jsx("span",{className:"input-icon security-icon"})]}),f.securityQuestion&&g.jsx("span",{className:"error-message",children:f.securityQuestion})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"securityAnswer",children:"Security Answer"}),g.jsx("div",{className:"input-container",children:g.jsx("input",{type:"text",id:"securityAnswer",name:"securityAnswer",value:c.securityAnswer,onChange:Z,className:f.securityAnswer?"error":"",placeholder:"Your answer"})}),f.securityAnswer&&g.jsx("span",{className:"error-message",children:f.securityAnswer})]}),g.jsxs("div",{className:"form-group checkbox-group",children:[g.jsxs("label",{className:"checkbox-container",children:[g.jsx("input",{type:"checkbox",name:"agreeToTerms",checked:c.agreeToTerms,onChange:Z}),g.jsx("span",{className:"checkmark"}),g.jsxs("span",{className:"checkbox-label",children:["I agree to the ",g.jsx("a",{href:"#terms",className:"text-link",children:"Terms of Service"})," and ",g.jsx("a",{href:"#privacy",className:"text-link",children:"Privacy Policy"})]})]}),f.agreeToTerms&&g.jsx("span",{className:"error-message",children:f.agreeToTerms})]})]}),e&&g.jsx("div",{className:"forgot-password",children:g.jsx("a",{href:"#reset",className:"text-link",children:"Forgot your password?"})}),g.jsx("button",{type:"submit",className:`submit-button ${v?"loading":""}`,disabled:v,children:v?g.jsx("span",{className:"loader"}):e?"Sign In":"Create Account"})]}),g.jsx("button",{type:"button",className:"submit-button google-button",onClick:ae,disabled:v,style:{marginTop:"15px",background:"linear-gradient(45deg, var(--primary-color), var(--secondary-color))"},children:"Continue with Google"})]}),g.jsx("div",{className:"auth-footer",children:g.jsxs("p",{children:[e?"Don't have an account?":"Already have an account?",g.jsx("button",{type:"button",onClick:ce,className:"mode-switch",children:e?"Sign Up":"Sign In"})]})}),g.jsx("div",{className:"neural-decoration top-right"}),g.jsx("div",{className:"neural-decoration bottom-left"})]})]})},a8="modulepreload",o8=function(r){return"/"+r},mC={},l8=function(r,e,t){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(e.map(f=>{if(f=o8(f),f in mC)return;mC[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":a8,p||(x.as="script"),x.crossOrigin="",x.href=f,d&&x.setAttribute("nonce",d),document.head.appendChild(x),p)return new Promise((A,C)=>{x.addEventListener("load",A),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return r().catch(o)})},c8=()=>(re.useEffect(()=>{l8(()=>AN(()=>import("./AccessibilityScripts-C7d4pvkK-D8MrwyO-.js"),[]),[]).then(r=>{r.default()})},[]),g.jsx("div",{children:g.jsx("h1",{children:"Accessibility Features"})}));function Kr({children:r}){const[e,t]=re.useState(!0),[s,o]=re.useState(!1),c=Sl();return re.useEffect(()=>{const d=YI(cR,f=>{o(!!f),t(!1)});return()=>d()},[]),e?g.jsx("div",{children:"Loading..."}):s?r:g.jsx(MN,{to:"/login",state:{from:c},replace:!0})}function u8(){return g.jsxs("div",{className:"about",children:[g.jsx(Um,{}),g.jsxs("section",{className:"section",children:[g.jsx("h2",{children:"About MindEase"}),g.jsx("div",{className:"content-container",children:g.jsx("p",{className:"main-description",children:"MindEase is a digital platform designed to provide comprehensive support for individuals dealing with mental health conditions. Our mission is to make mental health care accessible, personalized, and stigma-free."})})]}),g.jsxs("section",{className:"section",children:[g.jsx("h2",{children:"Our Services"}),g.jsxs("div",{className:"content-container",children:[g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:"Personalized Assessments"}),g.jsx("p",{children:"Take our evidence-based screening tools to receive insights tailored to your unique mental health profile."})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:"Resource Library"}),g.jsx("p",{children:"Access our extensive collection of articles, videos, and exercises created by mental health professionals."})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:"Guided Programs"}),g.jsx("p",{children:"Follow structured, self-paced programs designed to help you develop coping skills for anxiety, depression, and stress."})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:"Progress Tracking"}),g.jsx("p",{children:"Monitor your mental wellbeing over time with our intuitive tracking tools that help identify patterns and improvements."})]})]})]}),g.jsxs("section",{className:"section",children:[g.jsx("h2",{children:"Our Team"}),g.jsxs("div",{className:"content-container",children:[g.jsxs("div",{className:"card team-card",children:[g.jsx("img",{src:"/assets/images/person1.jpeg",alt:"Dr. Jane Mwangi"}),g.jsx("h3",{children:"Dr. Jane Mwangi"}),g.jsx("p",{children:"Clinical Psychologist & Founder"})]}),g.jsxs("div",{className:"card team-card",children:[g.jsx("img",{src:"/assets/images/person2.jpeg",alt:"Aaron Omondi"}),g.jsx("h3",{children:"Aaron Omondi"}),g.jsx("p",{children:"Chief Technology Officer"})]}),g.jsxs("div",{className:"card team-card",children:[g.jsx("img",{src:"/assets/images/person3.jpeg",alt:"Lilian Mueni"}),g.jsx("h3",{children:"Lilian Mueni"}),g.jsx("p",{children:"Head of Research"})]})]})]}),g.jsxs("section",{className:"section",children:[g.jsx("h2",{children:"Our Approach"}),g.jsx("div",{className:"content-container",children:g.jsxs("div",{className:"approach-content",children:[g.jsx("p",{children:"At MindEase, we combine cutting-edge technology with evidence-based psychological practices. Our platform uses advanced algorithms to provide recommendations specifically tailored to your needs, preferences, and progress."}),g.jsx("p",{children:"All content on MindEase is developed and reviewed by licensed mental health professionals to ensure accuracy and effectiveness. We regularly update our resources to reflect the latest research in psychology and mental health care."}),g.jsx("a",{href:"/screening",className:"cta-button",children:"Get Started Today"})]})})]}),g.jsx(Vm,{})]})}function h8(){const r=Al(),e=t=>{switch(t){case"OCD Screening":r("/ocd-screening");break;case"ADHD Screening":r("/adhd-screening");break;case"Anxiety Screening":r("/anxiety-screening");break;case"Depression Screening":r("/depression-screening");break;case"Bipolar Disorder Screening":r("/bipolar-screening");break;case"PTSD Screening":r("/ptsd-screening");break;default:alert(`Starting ${t}...`)}};return g.jsxs("div",{className:"screening",children:[g.jsx(Um,{}),g.jsxs("section",{className:"screening-intro",children:[g.jsx("h1",{children:"Screening Tools"}),g.jsx("p",{children:"Take a scientifically-validated assessment to better understand your mental health. Our tools are designed to help you identify potential conditions and connect you with the right resources. Early detection and understanding of mental health conditions can lead to more effective treatment and improved quality of life. Whether you're experiencing symptoms or simply want to learn more about your mental well-being, these assessments are a great first step toward gaining clarity and finding support."})]}),g.jsxs("section",{className:"screening-tests",children:[g.jsx("h2",{children:"Available Tests"}),g.jsxs("div",{className:"test-cards",children:[g.jsxs("div",{className:"test-card",children:[g.jsx("h3",{children:"OCD Screening"}),g.jsx("p",{children:"A quick assessment for Obsessive-Compulsive Disorder, designed to help you understand if you may be experiencing symptoms of OCD."}),g.jsx("button",{onClick:()=>e("OCD Screening"),children:"Start Test"})]}),g.jsxs("div",{className:"test-card",children:[g.jsx("h3",{children:"ADHD Screening"}),g.jsx("p",{children:"Evaluate symptoms of Attention-Deficit/Hyperactivity Disorder and determine if you may benefit from further evaluation."}),g.jsx("button",{onClick:()=>e("ADHD Screening"),children:"Start Test"})]}),g.jsxs("div",{className:"test-card",children:[g.jsx("h3",{children:"Anxiety Screening"}),g.jsx("p",{children:"Assess symptoms of Generalized Anxiety Disorder and gain insight into your anxiety levels."}),g.jsx("button",{onClick:()=>e("Anxiety Screening"),children:"Start Test"})]}),g.jsxs("div",{className:"test-card",children:[g.jsx("h3",{children:"Depression Screening"}),g.jsx("p",{children:"Identify symptoms of depression and determine if you may need professional support or treatment."}),g.jsx("button",{onClick:()=>e("Depression Screening"),children:"Start Test"})]}),g.jsxs("div",{className:"test-card",children:[g.jsx("h3",{children:"Bipolar Disorder Screening"}),g.jsx("p",{children:"Evaluate symptoms of Bipolar Disorder, including mood swings, energy levels, and behavior changes."}),g.jsx("button",{onClick:()=>e("Bipolar Disorder Screening"),children:"Start Test"})]}),g.jsxs("div",{className:"test-card",children:[g.jsx("h3",{children:"PTSD Screening"}),g.jsx("p",{children:"Assess symptoms of Post-Traumatic Stress Disorder and determine if you may need further evaluation or support."}),g.jsx("button",{onClick:()=>e("PTSD Screening"),children:"Start Test"})]})]})]}),g.jsx(Vm,{})]})}function d8(){return g.jsxs("div",{className:"resources",children:[g.jsx(Um,{}),g.jsxs("section",{className:"resources-intro",children:[g.jsx("h1",{children:"Resources"}),g.jsx("p",{children:"Explore a wide range of resources tailored to your mental health needs. From articles to therapy options, we’ve got you covered."})]}),g.jsxs("section",{className:"resource-categories",children:[g.jsx("h2",{children:"Categories"}),g.jsxs("div",{className:"category-cards",children:[g.jsxs("div",{className:"category-card",children:[g.jsx("h3",{children:"Articles"}),g.jsx("p",{children:"Read evidence-based articles on mental health."})]}),g.jsxs("div",{className:"category-card",children:[g.jsx("h3",{children:"Therapy Options"}),g.jsx("p",{children:"Find the right therapy for your needs."})]}),g.jsxs("div",{className:"category-card",children:[g.jsx("h3",{children:"Self-Help Tools"}),g.jsx("p",{children:"Access tools to manage your mental health."})]})]})]}),g.jsx(Vm,{})]})}function f8(){return g.jsxs("div",{className:"community",children:[g.jsx(Um,{}),g.jsxs("section",{className:"community-intro",children:[g.jsx("h1",{children:"Community Support"}),g.jsx("p",{children:"Join our moderated peer support groups to connect with others who understand what you’re going through. Share experiences, ask questions, and find support."})]}),g.jsxs("section",{className:"community-groups",children:[g.jsx("h2",{children:"Featured Groups"}),g.jsxs("div",{className:"group-cards",children:[g.jsxs("div",{className:"group-card",children:[g.jsx("h3",{children:"OCD Support Group"}),g.jsx("p",{children:"A safe space for individuals with OCD."}),g.jsx("button",{children:"Join Group"})]}),g.jsxs("div",{className:"group-card",children:[g.jsx("h3",{children:"ADHD Support Group"}),g.jsx("p",{children:"Connect with others managing ADHD."}),g.jsx("button",{children:"Join Group"})]}),g.jsxs("div",{className:"group-card",children:[g.jsx("h3",{children:"Anxiety Support Group"}),g.jsx("p",{children:"Share and learn coping strategies."}),g.jsx("button",{children:"Join Group"})]}),g.jsxs("div",{className:"group-card",children:[g.jsx("h3",{children:"Depression Support Group"}),g.jsx("p",{children:"Find support and understanding for depression."}),g.jsx("button",{children:"Join Group"})]}),g.jsxs("div",{className:"group-card",children:[g.jsx("h3",{children:"Bipolar Support Group"}),g.jsx("p",{children:"Connect with others managing bipolar disorder."}),g.jsx("button",{children:"Join Group"})]}),g.jsxs("div",{className:"group-card",children:[g.jsx("h3",{children:"PTSD Support Group"}),g.jsx("p",{children:"A safe space for individuals dealing with PTSD."}),g.jsx("button",{children:"Join Group"})]})]})]}),g.jsx(Vm,{})]})}function m8(){const[r,e]=re.useState({name:"",email:"",subject:"",message:""}),[t,s]=re.useState({submitted:!1,error:!1,message:""}),o=f=>{const{name:p,value:v}=f.target;e(x=>({...x,[p]:v}))},c=f=>{if(f.preventDefault(),!r.name||!r.email||!r.message){s({submitted:!1,error:!0,message:"Please fill in all required fields"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)){s({submitted:!1,error:!0,message:"Please enter a valid email address"});return}s({submitted:!0,error:!1,message:"Thank you for your message! We will get back to you soon."}),e({name:"",email:"",subject:"",message:""})},d=[{name:"Instagram",icon:"fa-instagram",url:"https://www.instagram.com/yourcompany",color:"#E1306C"},{name:"WhatsApp",icon:"fa-whatsapp",url:"https://wa.me/yourphonenumber",color:"#25D366"},{name:"X",icon:"fa-twitter",url:"https://x.com/yourcompany",color:"#000000"},{name:"Facebook",icon:"fa-facebook-f",url:"https://www.facebook.com/yourcompany",color:"#1877F2"},{name:"LinkedIn",icon:"fa-linkedin-in",url:"https://www.linkedin.com/company/yourcompany",color:"#0A66C2"},{name:"Telegram",icon:"fa-telegram-plane",url:"https://t.me/yourcompany",color:"#0088cc"}];return g.jsxs("div",{className:"contact",children:[g.jsx(Um,{}),g.jsxs("section",{className:"contact-intro",children:[g.jsx("h1",{children:"Contact Us"}),g.jsx("p",{children:"Have questions or need support? Reach out to us! We're here to help you with any inquiries or feedback."})]}),g.jsxs("div",{className:"contact-container",children:[g.jsxs("section",{className:"contact-form",children:[g.jsx("h2",{children:"Send Us a Message"}),t.submitted?g.jsxs("div",{className:"form-success",children:[g.jsx("p",{children:t.message}),g.jsx("button",{onClick:()=>s({submitted:!1,error:!1,message:""}),children:"Send another message"})]}):g.jsxs("form",{onSubmit:c,children:[t.error&&g.jsx("div",{className:"form-error",children:t.message}),g.jsx("div",{className:"form-group",children:g.jsx("input",{type:"text",name:"name",placeholder:"Your Name *",value:r.name,onChange:o,required:!0})}),g.jsx("div",{className:"form-group",children:g.jsx("input",{type:"email",name:"email",placeholder:"Your Email *",value:r.email,onChange:o,required:!0})}),g.jsx("div",{className:"form-group",children:g.jsx("input",{type:"text",name:"subject",placeholder:"Subject",value:r.subject,onChange:o})}),g.jsx("div",{className:"form-group",children:g.jsx("textarea",{name:"message",placeholder:"Your Message *",value:r.message,onChange:o,required:!0})}),g.jsx("button",{type:"submit",children:"Send Message"})]})]}),g.jsxs("section",{className:"contact-info",children:[g.jsx("h2",{children:"Get in Touch"}),g.jsxs("div",{className:"info-item",children:[g.jsx("i",{className:"fas fa-map-marker-alt"}),g.jsxs("div",{children:[g.jsx("h3",{children:"Our Address"}),g.jsx("p",{children:"123 Business Avenue, Suite 100, Nairobi, Kenya"})]})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("i",{className:"fas fa-phone-alt"}),g.jsxs("div",{children:[g.jsx("h3",{children:"Phone Number"}),g.jsx("p",{children:"+254794846559"})]})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("i",{className:"fas fa-envelope"}),g.jsxs("div",{children:[g.jsx("h3",{children:"Email Address"}),g.jsx("p",{children:"eunicenzilani881@.com"})]})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("i",{className:"fas fa-clock"}),g.jsxs("div",{children:[g.jsx("h3",{children:"Business Hours"}),g.jsx("p",{children:"Monday - Friday: 9am - 5pm"})]})]})]})]}),g.jsxs("section",{className:"social-links",children:[g.jsx("h2",{children:"Connect With Us"}),g.jsx("p",{children:"Follow us on social media to stay updated with our latest news and announcements."}),g.jsx("div",{className:"social-icons",children:d.map((f,p)=>g.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"social-icon","aria-label":f.name,children:g.jsx("i",{className:`fab ${f.icon}`})},p))})]}),g.jsx(Vm,{})]})}const p8=()=>g.jsxs("div",{className:"ocd-page",children:[g.jsxs("header",{className:"ocd-header",children:[g.jsx("div",{className:"logo",children:"OCD"})," ",g.jsx("nav",{className:"ocd-navbar",children:g.jsxs("ul",{className:"ocd-nav-links",children:[g.jsx("li",{children:g.jsxs("a",{href:"/",children:[g.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),g.jsx("li",{children:g.jsxs("a",{href:"/about-ocd",children:[g.jsx("span",{role:"img","aria-label":"About OCD",children:"🧠"})," About OCD"]})}),g.jsx("li",{children:g.jsxs("a",{href:"/screening",children:[g.jsx("span",{role:"img","aria-label":"Screening Tools",children:"📋"})," Screening Tools"]})}),g.jsx("li",{children:g.jsxs("a",{href:"/resources",children:[g.jsx("span",{role:"img","aria-label":"Resources",children:"📚"})," Resources"]})}),g.jsx("li",{children:g.jsxs("a",{href:"/community",children:[g.jsx("span",{role:"img","aria-label":"Community",children:"👥"})," Community"]})})]})}),g.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),g.jsx("h1",{children:"Obsessive-Compulsive Disorder (OCD)"}),g.jsx("div",{className:"ocd-image-container",children:g.jsx("img",{src:"/assets/images/OCD1.png",alt:"OCD Illustration",className:"ocd-image"})}),g.jsx("h2",{children:"Overview"}),g.jsx("p",{children:"Obsessive-compulsive disorder (OCD) features a pattern of unwanted thoughts and fears known as obsessions. These obsessions lead you to do repetitive behaviors, also called compulsions. These obsessions and compulsions get in the way of daily activities and cause a lot of distress."}),g.jsx("p",{children:"Ultimately, you feel driven to do compulsive acts to ease your stress. Even if you try to ignore or get rid of bothersome thoughts or urges, they keep coming back. This leads you to act based on ritual. This is the vicious cycle of OCD."}),g.jsx("p",{children:"OCD often centers around certain themes, such as being overly fearful of getting contaminated by germs. To ease contamination fears, you may wash your hands over and over again until they're sore and chapped."}),g.jsx("p",{children:"If you have OCD, you may be ashamed, embarrassed, and frustrated about the condition. But treatment can be effective."}),g.jsx("h2",{children:"Symptoms"}),g.jsx("p",{children:"Obsessive-compulsive disorder usually includes both obsessions and compulsions. But it's also possible to have only obsession symptoms or only compulsion symptoms. You may or may not know that your obsessions and compulsions are beyond reason. But they take up a great deal of time, reduce your quality of life, and get in the way of your daily routines and responsibilities."}),g.jsx("h3",{children:"Obsession Symptoms"}),g.jsx("p",{children:"OCD obsessions are lasting and unwanted thoughts that keep coming back or urges or images that are intrusive and cause distress or anxiety. You might try to ignore them or get rid of them by acting based on ritual. These obsessions usually intrude when you're trying to think of or do other things."}),g.jsx("p",{children:"Obsessions often have themes, such as:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Fear of contamination or dirt."}),g.jsx("li",{children:"Doubting and having a hard time dealing with uncertainty."}),g.jsx("li",{children:"Needing things to be orderly and balanced."}),g.jsx("li",{children:"Aggressive or horrific thoughts about losing control and harming yourself or others."}),g.jsx("li",{children:"Unwanted thoughts, including aggression, or sexual or religious subjects."})]}),g.jsx("h3",{children:"Compulsion Symptoms"}),g.jsx("p",{children:"OCD compulsions are repetitive behaviors that you feel driven to do. These repetitive behaviors or mental acts are meant to reduce anxiety related to your obsessions or prevent something bad from happening. But taking part in the compulsions brings no pleasure and may offer only limited relief from anxiety."}),g.jsx("p",{children:"Common compulsion themes include:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Washing and cleaning."}),g.jsx("li",{children:"Checking."}),g.jsx("li",{children:"Counting."}),g.jsx("li",{children:"Ordering."}),g.jsx("li",{children:"Following a strict routine."}),g.jsx("li",{children:"Demanding reassurance."})]}),g.jsx("h2",{children:"Severity Varies"}),g.jsx("p",{children:"OCD usually begins in the teen or young adult years, but it can start in childhood. Symptoms usually begin over time and tend to vary in how serious they are throughout life. The types of obsessions and compulsions you have also can change over time. Symptoms generally get worse when you are under greater stress, including times of transition and change. OCD, usually thought to be a lifelong disorder, can have mild to moderate symptoms or be so severe and time-consuming that it becomes disabling."}),g.jsx("h2",{children:"When to See a Doctor"}),g.jsx("p",{children:"There's a difference between being a perfectionist — someone who needs flawless results or performance — and having OCD. OCD thoughts aren't simply excessive worries about real issues in your life or liking to have things clean or arranged in a specific way."}),g.jsx("p",{children:"If your obsessions and compulsions affect your quality of life, see your doctor or mental health professional."})]}),g8=()=>g.jsxs("div",{className:"adhd-page",children:[g.jsxs("header",{className:"adhd-header",children:[g.jsx("div",{className:"logo",children:"ADHD"})," ",g.jsx("nav",{className:"adhd-navbar",children:g.jsxs("ul",{className:"adhd-nav-links",children:[g.jsx("li",{children:g.jsxs(Nn,{to:"/",children:[g.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#overview",children:[g.jsx("span",{role:"img","aria-label":"Overview",children:"🧠"})," Overview"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#signs-and-symptoms",children:[g.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:"📋"})," Signs and Symptoms"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#causes",children:[g.jsx("span",{role:"img","aria-label":"Causes",children:"🔍"})," Causes"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#diagnosis-and-tests",children:[g.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:"🩺"})," Diagnosis and Tests"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#management-and-treatment",children:[g.jsx("span",{role:"img","aria-label":"Management and Treatment",children:"💊"})," Management and Treatment"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#prevention",children:[g.jsx("span",{role:"img","aria-label":"Prevention",children:"🚫"})," Prevention"]})})]})}),g.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),g.jsxs("div",{className:"adhd-content",children:[g.jsx("h1",{children:"Attention-Deficit/Hyperactivity Disorder (ADHD)"}),g.jsx("div",{className:"ADHD-image-container",children:g.jsx("img",{src:"/assets/images/ADHD1.jpeg",alt:"OCD Illustration",className:"adhd-image"})}),g.jsxs("section",{id:"overview",className:"section",children:[g.jsx("h2",{children:"Overview"}),g.jsx("p",{children:"Attention-deficit/hyperactivity disorder (ADHD) is one of the most common childhood neurodevelopmental disorders. Children with ADHD often have difficulty with inattention, hyperactivity, and impulsivity. Kids usually receive a diagnosis during childhood, and the condition often lasts into adulthood. However, effective treatment is available."}),g.jsx("p",{children:"ADHD is a long-term (chronic) brain condition that causes executive dysfunction, which means it disrupts a person’s ability to manage their own emotions, thoughts, and actions. ADHD makes it difficult for people to:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Manage their behavior."}),g.jsx("li",{children:"Pay attention."}),g.jsx("li",{children:"Control overactivity."}),g.jsx("li",{children:"Regulate their mood."}),g.jsx("li",{children:"Stay organized."}),g.jsx("li",{children:"Concentrate."}),g.jsx("li",{children:"Follow directions."}),g.jsx("li",{children:"Sit still."})]}),g.jsx("p",{children:"Kids usually receive a diagnosis during childhood, and the condition often lasts into adulthood. However, effective treatment is available. If untreated, ADHD can cause serious, lifelong complications."})]}),g.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[g.jsx("h2",{children:"Signs and Symptoms"}),g.jsx("p",{children:"ADHD symptoms can vary depending on the type of ADHD. The three main types are:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Inattentive Type:"})," Difficulty paying attention, staying organized, and following instructions."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Hyperactive-Impulsive Type:"})," Excessive fidgeting, talking, and impulsive behavior."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Combined Type:"})," A mix of inattentive and hyperactive-impulsive symptoms."]})]}),g.jsx("p",{children:"According to the DSM-5-TR, a child with inattentive presentation must display at least six of the following behaviors:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Trouble paying attention to details or making careless mistakes."}),g.jsx("li",{children:"Issues remaining focused on tasks and activities."}),g.jsx("li",{children:"Difficulty listening well, daydreaming, or seeming distracted."}),g.jsx("li",{children:"Trouble with following instructions and/or finishing tasks."}),g.jsx("li",{children:"Difficulty with organizing tasks and activities."}),g.jsx("li",{children:"Avoiding or disliking tasks that require continuous mental effort."}),g.jsx("li",{children:"Losing things frequently."}),g.jsx("li",{children:"Easily distracted by outside stimuli."}),g.jsx("li",{children:"Forgetful in daily activities."})]})]}),g.jsxs("section",{id:"causes",className:"section",children:[g.jsx("h2",{children:"Causes"}),g.jsx("p",{children:"The exact cause of ADHD is unknown, but research suggests that genetics, brain structure, and environmental factors may play a role. Risk factors include:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Genetics: ADHD often runs in families."}),g.jsx("li",{children:"Brain anatomy: Differences in brain structure and activity."}),g.jsx("li",{children:"Environmental factors: Lead exposure, premature birth, low birth weight, and substance use during pregnancy."})]}),g.jsxs("p",{children:["The following are ",g.jsx("strong",{children:"not"})," causes of ADHD:"]}),g.jsxs("ul",{children:[g.jsx("li",{children:"Allergies."}),g.jsx("li",{children:"Immunizations."}),g.jsx("li",{children:"Eating too much sugar."}),g.jsx("li",{children:"Too much time staring at screens."}),g.jsx("li",{children:"Poor parenting."}),g.jsx("li",{children:"Social and environmental factors such as poverty."})]})]}),g.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[g.jsx("h2",{children:"Diagnosis and Tests"}),g.jsx("p",{children:"ADHD is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for ADHD, but healthcare providers may use:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Questionnaires and interviews."}),g.jsx("li",{children:"Observations in multiple settings (home, school)."}),g.jsx("li",{children:"Guidelines from the DSM-5-TR."})]}),g.jsx("p",{children:"Symptoms must:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Occur in two or more settings (e.g., home and school)."}),g.jsx("li",{children:"Considerably impair daily functioning."}),g.jsx("li",{children:"Have started before the age of 12."}),g.jsx("li",{children:"Have persisted for at least six months."})]})]}),g.jsxs("section",{id:"management-and-treatment",className:"section",children:[g.jsx("h2",{children:"Management and Treatment"}),g.jsx("p",{children:"Treatment for ADHD typically involves a combination of:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Medication:"})," Stimulants (e.g., Adderall, Ritalin) and non-stimulants (e.g., Strattera)."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Behavioral Therapy:"})," Parent training, social skills training, and executive function training."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Lifestyle Changes:"})," Healthy diet, regular exercise, and structured routines."]})]}),g.jsx("p",{children:"The goal of treatment is to improve symptoms and help individuals function more effectively in daily life."})]}),g.jsxs("section",{id:"prevention",className:"section",children:[g.jsx("h2",{children:"Prevention"}),g.jsx("p",{children:"While ADHD cannot be prevented, early diagnosis and treatment can help manage symptoms and improve quality of life. Avoiding exposure to toxins during pregnancy and providing a structured environment for children may also reduce the risk."})]})]})]}),y8=()=>g.jsxs("div",{className:"depression-page",children:[g.jsxs("header",{className:"depression-header",children:[g.jsx("div",{className:"logo",children:"Depression"})," ",g.jsx("nav",{className:"depression-navbar",children:g.jsxs("ul",{className:"depression-nav-links",children:[g.jsx("li",{children:g.jsxs(Nn,{to:"/",children:[g.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#overview",children:[g.jsx("span",{role:"img","aria-label":"Overview",children:"🧠"})," Overview"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#signs-and-symptoms",children:[g.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:"📋"})," Signs and Symptoms"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#causes",children:[g.jsx("span",{role:"img","aria-label":"Causes",children:"🔍"})," Causes"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#diagnosis-and-tests",children:[g.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:"🩺"})," Diagnosis and Tests"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#management-and-treatment",children:[g.jsx("span",{role:"img","aria-label":"Management and Treatment",children:"💊"})," Management and Treatment"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#prevention",children:[g.jsx("span",{role:"img","aria-label":"Prevention",children:"🚫"})," Prevention"]})})]})}),g.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),g.jsxs("div",{className:"depression-content",children:[g.jsx("h1",{children:"Depression"}),g.jsx("div",{className:"depression-image-container",children:g.jsx("img",{src:"/assets/images/Depression1.png",alt:"Depression Illustration",className:"depression-image"})}),g.jsxs("section",{id:"overview",className:"section",children:[g.jsx("h2",{children:"Overview"}),g.jsx("p",{children:"Depression (major depressive disorder) is a common and serious medical illness that negatively affects how you feel, the way you think, and how you act. It causes feelings of sadness and/or a loss of interest in activities once enjoyed. It can lead to a variety of emotional and physical problems and can decrease a person’s ability to function at work and at home."}),g.jsx("p",{children:"Depression symptoms can vary from mild to severe and can include:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Feeling sad or having a depressed mood."}),g.jsx("li",{children:"Loss of interest or pleasure in activities once enjoyed."}),g.jsx("li",{children:"Changes in appetite — weight loss or gain unrelated to dieting."}),g.jsx("li",{children:"Trouble sleeping or sleeping too much."}),g.jsx("li",{children:"Loss of energy or increased fatigue."}),g.jsx("li",{children:"Increase in purposeless physical activity (e.g., inability to sit still, pacing, handwringing) or slowed movements or speech."}),g.jsx("li",{children:"Feeling worthless or guilty."}),g.jsx("li",{children:"Difficulty thinking, concentrating, or making decisions."}),g.jsx("li",{children:"Thoughts of death or suicide."})]}),g.jsx("p",{children:"Depression is a treatable condition, and most people see improvement with medication, therapy, or a combination of both."})]}),g.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[g.jsx("h2",{children:"Signs and Symptoms"}),g.jsx("p",{children:"Depression symptoms can vary depending on the severity of the condition. Common signs and symptoms include:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Emotional Symptoms:"})," Persistent sadness, hopelessness, irritability, or feelings of emptiness."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Physical Symptoms:"})," Fatigue, changes in appetite, sleep disturbances, and unexplained aches or pains."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Cognitive Symptoms:"})," Difficulty concentrating, making decisions, or remembering details."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Behavioral Symptoms:"})," Withdrawal from social activities, loss of interest in hobbies, or neglect of responsibilities."]})]}),g.jsx("p",{children:"Symptoms must last at least two weeks and represent a change in your previous level of functioning for a diagnosis of depression."})]}),g.jsxs("section",{id:"causes",className:"section",children:[g.jsx("h2",{children:"Causes"}),g.jsx("p",{children:"The exact cause of depression is not fully understood, but it is believed to result from a combination of genetic, biological, environmental, and psychological factors. Risk factors include:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Genetics:"})," A family history of depression may increase the risk."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Brain Chemistry:"})," Imbalances in neurotransmitters like serotonin and dopamine."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Hormonal Changes:"})," Changes in hormone levels due to pregnancy, menopause, or thyroid problems."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Environmental Factors:"})," Trauma, loss of a loved one, or stressful life events."]})]}),g.jsxs("p",{children:["The following are ",g.jsx("strong",{children:"not"})," causes of depression:"]}),g.jsxs("ul",{children:[g.jsx("li",{children:"Personal weakness or character flaws."}),g.jsx("li",{children:'Simply feeling "down" or "blue."'}),g.jsx("li",{children:"A lack of willpower."})]})]}),g.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[g.jsx("h2",{children:"Diagnosis and Tests"}),g.jsx("p",{children:"Depression is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for depression, but healthcare providers may use:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Questionnaires and interviews."}),g.jsx("li",{children:"Physical exams to rule out other conditions."}),g.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),g.jsx("p",{children:"Symptoms must:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Persist for at least two weeks."}),g.jsx("li",{children:"Significantly impair daily functioning."}),g.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),g.jsxs("section",{id:"management-and-treatment",className:"section",children:[g.jsx("h2",{children:"Management and Treatment"}),g.jsx("p",{children:"Treatment for depression typically involves a combination of:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Medication:"})," Antidepressants (e.g., SSRIs, SNRIs) to help balance brain chemistry."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), interpersonal therapy (IPT), or other forms of counseling."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Lifestyle Changes:"})," Regular exercise, a healthy diet, and stress management techniques."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Support Groups:"})," Connecting with others who have similar experiences."]})]}),g.jsx("p",{children:"The goal of treatment is to reduce symptoms, improve quality of life, and prevent recurrence."})]}),g.jsxs("section",{id:"prevention",className:"section",children:[g.jsx("h2",{children:"Prevention"}),g.jsx("p",{children:"While depression cannot always be prevented, certain strategies may reduce the risk or severity of episodes:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Maintaining a strong support network."}),g.jsx("li",{children:"Engaging in regular physical activity."}),g.jsx("li",{children:"Practicing stress-reduction techniques like mindfulness or meditation."}),g.jsx("li",{children:"Seeking help early if symptoms arise."})]})]})]})]}),v8=()=>g.jsxs("div",{className:"anxiety-page",children:[g.jsxs("header",{className:"anxiety-header",children:[g.jsx("div",{className:"logo",children:"Anxiety"})," ",g.jsx("nav",{className:"anxiety-navbar",children:g.jsxs("ul",{className:"anxiety-nav-links",children:[g.jsx("li",{children:g.jsxs(Nn,{to:"/",children:[g.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#overview",children:[g.jsx("span",{role:"img","aria-label":"Overview",children:"🧠"})," Overview"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#signs-and-symptoms",children:[g.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:"📋"})," Signs and Symptoms"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#causes",children:[g.jsx("span",{role:"img","aria-label":"Causes",children:"🔍"})," Causes"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#diagnosis-and-tests",children:[g.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:"🩺"})," Diagnosis and Tests"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#management-and-treatment",children:[g.jsx("span",{role:"img","aria-label":"Management and Treatment",children:"💊"})," Management and Treatment"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#prevention",children:[g.jsx("span",{role:"img","aria-label":"Prevention",children:"🚫"})," Prevention"]})})]})}),g.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),g.jsxs("div",{className:"anxiety-content",children:[g.jsx("h1",{children:"Anxiety Disorders"}),g.jsx("div",{className:"anxiety-image-container",children:g.jsx("img",{src:"/assets/images/Anxiety1.jpeg",alt:"Anxiety Illustration",className:"anxiety-image"})}),g.jsxs("section",{id:"overview",className:"section",children:[g.jsx("h2",{children:"Overview"}),g.jsx("p",{children:"Anxiety disorders are a group of mental health conditions characterized by excessive fear, worry, or nervousness. These feelings can interfere with daily activities and are often difficult to control. Anxiety disorders include generalized anxiety disorder (GAD), panic disorder, social anxiety disorder, and specific phobias."}),g.jsx("p",{children:"Anxiety is a normal response to stress, but when it becomes chronic or overwhelming, it can significantly impact a person's quality of life. Common symptoms include:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Excessive worry or fear."}),g.jsx("li",{children:"Restlessness or feeling on edge."}),g.jsx("li",{children:"Fatigue."}),g.jsx("li",{children:"Difficulty concentrating."}),g.jsx("li",{children:"Irritability."}),g.jsx("li",{children:"Muscle tension."}),g.jsx("li",{children:"Sleep disturbances."})]}),g.jsx("p",{children:"Anxiety disorders are highly treatable, and most people see improvement with therapy, medication, or a combination of both."})]}),g.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[g.jsx("h2",{children:"Signs and Symptoms"}),g.jsx("p",{children:"Symptoms of anxiety disorders can vary depending on the specific type of disorder. Common signs and symptoms include:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Physical Symptoms:"})," Rapid heartbeat, sweating, trembling, shortness of breath, or dizziness."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Emotional Symptoms:"})," Feelings of dread, panic, or unease."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Cognitive Symptoms:"})," Difficulty concentrating, racing thoughts, or constant worry."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Behavioral Symptoms:"})," Avoidance of certain situations or activities."]})]}),g.jsx("p",{children:"Symptoms must persist for at least six months and significantly impair daily functioning for a diagnosis of an anxiety disorder."})]}),g.jsxs("section",{id:"causes",className:"section",children:[g.jsx("h2",{children:"Causes"}),g.jsx("p",{children:"The exact cause of anxiety disorders is not fully understood, but they are believed to result from a combination of genetic, environmental, and psychological factors. Risk factors include:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Genetics:"})," A family history of anxiety disorders may increase the risk."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Brain Chemistry:"})," Imbalances in neurotransmitters like serotonin and dopamine."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Environmental Factors:"})," Trauma, stress, or significant life changes."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Personality:"})," Certain personality traits, such as shyness or perfectionism."]})]}),g.jsxs("p",{children:["The following are ",g.jsx("strong",{children:"not"})," causes of anxiety disorders:"]}),g.jsxs("ul",{children:[g.jsx("li",{children:"Personal weakness or character flaws."}),g.jsx("li",{children:'Simply feeling "nervous" or "stressed."'}),g.jsx("li",{children:"A lack of willpower."})]})]}),g.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[g.jsx("h2",{children:"Diagnosis and Tests"}),g.jsx("p",{children:"Anxiety disorders are diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for anxiety, but healthcare providers may use:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Questionnaires and interviews."}),g.jsx("li",{children:"Physical exams to rule out other conditions."}),g.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),g.jsx("p",{children:"Symptoms must:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Persist for at least six months."}),g.jsx("li",{children:"Significantly impair daily functioning."}),g.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),g.jsxs("section",{id:"management-and-treatment",className:"section",children:[g.jsx("h2",{children:"Management and Treatment"}),g.jsx("p",{children:"Treatment for anxiety disorders typically involves a combination of:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Medication:"})," Antidepressants, anti-anxiety medications, or beta-blockers."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), exposure therapy, or other forms of counseling."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Lifestyle Changes:"})," Regular exercise, a healthy diet, and stress management techniques."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Support Groups:"})," Connecting with others who have similar experiences."]})]}),g.jsx("p",{children:"The goal of treatment is to reduce symptoms, improve quality of life, and prevent recurrence."})]}),g.jsxs("section",{id:"prevention",className:"section",children:[g.jsx("h2",{children:"Prevention"}),g.jsx("p",{children:"While anxiety disorders cannot always be prevented, certain strategies may reduce the risk or severity of episodes:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Maintaining a strong support network."}),g.jsx("li",{children:"Engaging in regular physical activity."}),g.jsx("li",{children:"Practicing stress-reduction techniques like mindfulness or meditation."}),g.jsx("li",{children:"Seeking help early if symptoms arise."})]})]})]})]}),b8=()=>g.jsxs("div",{className:"bipolar-page",children:[g.jsxs("header",{className:"bipolar-header",children:[g.jsx("div",{className:"logo",children:"Bipolar"})," ",g.jsx("nav",{className:"bipolar-navbar",children:g.jsxs("ul",{className:"bipolar-nav-links",children:[g.jsx("li",{children:g.jsxs(Nn,{to:"/",children:[g.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#overview",children:[g.jsx("span",{role:"img","aria-label":"Overview",children:"🧠"})," Overview"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#signs-and-symptoms",children:[g.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:"📋"})," Signs and Symptoms"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#causes",children:[g.jsx("span",{role:"img","aria-label":"Causes",children:"🔍"})," Causes"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#diagnosis-and-tests",children:[g.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:"🩺"})," Diagnosis and Tests"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#management-and-treatment",children:[g.jsx("span",{role:"img","aria-label":"Management and Treatment",children:"💊"})," Management and Treatment"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#prevention",children:[g.jsx("span",{role:"img","aria-label":"Prevention",children:"🚫"})," Prevention"]})})]})}),g.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),g.jsxs("div",{className:"bipolar-content",children:[g.jsx("h1",{children:"Bipolar Disorder"}),g.jsx("div",{className:"bipolar-image-container",children:g.jsx("img",{src:"/assets/images/bipolar1.jpeg",alt:"Bipolar Disorder Illustration",className:"bipolar-image"})}),g.jsxs("section",{id:"overview",className:"section",children:[g.jsx("h2",{children:"Overview"}),g.jsx("p",{children:"Bipolar disorder, formerly known as manic-depressive illness, is a mental health condition characterized by extreme mood swings that include emotional highs (mania or hypomania) and lows (depression). These mood swings can affect sleep, energy, activity, judgment, behavior, and the ability to think clearly."}),g.jsx("p",{children:"Bipolar disorder is a chronic condition that requires lifelong management. It is typically diagnosed in late adolescence or early adulthood, but symptoms can appear at any age. Common symptoms include:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Episodes of mania or hypomania (elevated mood, increased energy)."}),g.jsx("li",{children:"Episodes of depression (sadness, hopelessness, loss of interest)."}),g.jsx("li",{children:"Mood swings that disrupt daily life."}),g.jsx("li",{children:"Difficulty maintaining relationships or performing at work or school."})]}),g.jsx("p",{children:"Bipolar disorder is treatable, and most people can manage their symptoms with medication, therapy, and lifestyle changes."})]}),g.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[g.jsx("h2",{children:"Signs and Symptoms"}),g.jsx("p",{children:"Symptoms of bipolar disorder vary depending on the type of episode (manic, hypomanic, or depressive). Common signs and symptoms include:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Manic Episode:"})," Elevated mood, increased energy, reduced need for sleep, racing thoughts, impulsive behavior."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Hypomanic Episode:"})," Similar to manic episodes but less severe and not as disruptive."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Depressive Episode:"})," Persistent sadness, fatigue, loss of interest, feelings of worthlessness, difficulty concentrating."]})]}),g.jsx("p",{children:"Symptoms must persist for a specific duration and significantly impair daily functioning for a diagnosis of bipolar disorder."})]}),g.jsxs("section",{id:"causes",className:"section",children:[g.jsx("h2",{children:"Causes"}),g.jsx("p",{children:"The exact cause of bipolar disorder is not fully understood, but it is believed to result from a combination of genetic, biological, and environmental factors. Risk factors include:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Genetics:"})," A family history of bipolar disorder or other mood disorders."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Brain Structure and Function:"})," Differences in brain chemistry and structure."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Environmental Factors:"})," Stress, trauma, or significant life changes."]})]}),g.jsxs("p",{children:["The following are ",g.jsx("strong",{children:"not"})," causes of bipolar disorder:"]}),g.jsxs("ul",{children:[g.jsx("li",{children:"Personal weakness or character flaws."}),g.jsx("li",{children:'Simply being "moody" or "emotional."'}),g.jsx("li",{children:"A lack of willpower."})]})]}),g.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[g.jsx("h2",{children:"Diagnosis and Tests"}),g.jsx("p",{children:"Bipolar disorder is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for bipolar disorder, but healthcare providers may use:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Questionnaires and interviews."}),g.jsx("li",{children:"Mood charting to track mood swings over time."}),g.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),g.jsx("p",{children:"Symptoms must:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Persist for a specific duration (e.g., at least one week for mania)."}),g.jsx("li",{children:"Significantly impair daily functioning."}),g.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),g.jsxs("section",{id:"management-and-treatment",className:"section",children:[g.jsx("h2",{children:"Management and Treatment"}),g.jsx("p",{children:"Treatment for bipolar disorder typically involves a combination of:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Medication:"})," Mood stabilizers, antipsychotics, or antidepressants."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), family-focused therapy, or psychoeducation."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Lifestyle Changes:"})," Regular sleep patterns, stress management, and avoiding triggers."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Support Groups:"})," Connecting with others who have similar experiences."]})]}),g.jsx("p",{children:"The goal of treatment is to stabilize mood, reduce symptoms, and improve quality of life."})]}),g.jsxs("section",{id:"prevention",className:"section",children:[g.jsx("h2",{children:"Prevention"}),g.jsx("p",{children:"While bipolar disorder cannot always be prevented, certain strategies may reduce the risk or severity of episodes:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Seeking early treatment if symptoms arise."}),g.jsx("li",{children:"Maintaining a stable routine and sleep schedule."}),g.jsx("li",{children:"Avoiding alcohol and recreational drugs."}),g.jsx("li",{children:"Building a strong support network."})]})]})]})]}),w8=()=>g.jsxs("div",{className:"ptsd-page",children:[g.jsxs("header",{className:"ptsd-header",children:[g.jsx("div",{className:"logo",children:"PTSD"})," ",g.jsx("nav",{className:"ptsd-navbar",children:g.jsxs("ul",{className:"ptsd-nav-links",children:[g.jsx("li",{children:g.jsxs(Nn,{to:"/",children:[g.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#overview",children:[g.jsx("span",{role:"img","aria-label":"Overview",children:"🧠"})," Overview"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#signs-and-symptoms",children:[g.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:"📋"})," Signs and Symptoms"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#causes",children:[g.jsx("span",{role:"img","aria-label":"Causes",children:"🔍"})," Causes"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#diagnosis-and-tests",children:[g.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:"🩺"})," Diagnosis and Tests"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#management-and-treatment",children:[g.jsx("span",{role:"img","aria-label":"Management and Treatment",children:"💊"})," Management and Treatment"]})}),g.jsx("li",{children:g.jsxs("a",{href:"#prevention",children:[g.jsx("span",{role:"img","aria-label":"Prevention",children:"🚫"})," Prevention"]})})]})}),g.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),g.jsxs("div",{className:"ptsd-content",children:[g.jsx("h1",{children:"Post-Traumatic Stress Disorder (PTSD)"}),g.jsx("div",{className:"ptsd-image-container",children:g.jsx("img",{src:"/assets/images/ptsd1.jpeg",alt:"PTSD Illustration",className:"ptsd-image"})}),g.jsxs("section",{id:"overview",className:"section",children:[g.jsx("h2",{children:"Overview"}),g.jsx("p",{children:"Post-Traumatic Stress Disorder (PTSD) is a mental health condition that can develop after experiencing or witnessing a traumatic event. Such events may include natural disasters, serious accidents, terrorist acts, war/combat, rape, or other violent personal assaults."}),g.jsx("p",{children:"PTSD can affect anyone, regardless of age, gender, or background. Symptoms can be severe and long-lasting, interfering with daily life and relationships. Common symptoms include:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Flashbacks or reliving the traumatic event."}),g.jsx("li",{children:"Nightmares or severe anxiety."}),g.jsx("li",{children:"Uncontrollable thoughts about the event."}),g.jsx("li",{children:"Avoidance of places, activities, or people that remind you of the trauma."}),g.jsx("li",{children:"Negative changes in mood and thinking."}),g.jsx("li",{children:"Hyperarousal (feeling on edge, being easily startled)."})]}),g.jsx("p",{children:"PTSD is treatable, and many people recover with proper treatment and support."})]}),g.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[g.jsx("h2",{children:"Signs and Symptoms"}),g.jsx("p",{children:"Symptoms of PTSD are generally grouped into four types: intrusive memories, avoidance, negative changes in thinking and mood, and changes in physical and emotional reactions. Common signs and symptoms include:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Intrusive Memories:"})," Flashbacks, nightmares, or distressing memories of the event."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Avoidance:"})," Avoiding places, activities, or people that remind you of the trauma."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Negative Changes in Thinking and Mood:"})," Feelings of hopelessness, memory problems, or detachment from loved ones."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Changes in Physical and Emotional Reactions:"})," Being easily startled, feeling tense, or having angry outbursts."]})]}),g.jsx("p",{children:"Symptoms must persist for more than a month and significantly impair daily functioning for a diagnosis of PTSD."})]}),g.jsxs("section",{id:"causes",className:"section",children:[g.jsx("h2",{children:"Causes"}),g.jsx("p",{children:"PTSD is caused by experiencing or witnessing a traumatic event. However, not everyone who experiences trauma develops PTSD. Risk factors include:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Intensity of the Trauma:"})," The more severe and prolonged the trauma, the higher the risk."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Personal History:"})," A history of mental health issues or previous trauma."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Lack of Support:"})," Limited social support after the event."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Biological Factors:"})," Genetics or brain chemistry may play a role."]})]}),g.jsxs("p",{children:["The following are ",g.jsx("strong",{children:"not"})," causes of PTSD:"]}),g.jsxs("ul",{children:[g.jsx("li",{children:"Personal weakness or character flaws."}),g.jsx("li",{children:'Simply feeling "stressed" or "anxious."'}),g.jsx("li",{children:"A lack of willpower."})]})]}),g.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[g.jsx("h2",{children:"Diagnosis and Tests"}),g.jsx("p",{children:"PTSD is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for PTSD, but healthcare providers may use:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Questionnaires and interviews."}),g.jsx("li",{children:"Psychological evaluations."}),g.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),g.jsx("p",{children:"Symptoms must:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Persist for more than a month."}),g.jsx("li",{children:"Significantly impair daily functioning."}),g.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),g.jsxs("section",{id:"management-and-treatment",className:"section",children:[g.jsx("h2",{children:"Management and Treatment"}),g.jsx("p",{children:"Treatment for PTSD typically involves a combination of:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), eye movement desensitization and reprocessing (EMDR), or exposure therapy."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Medication:"})," Antidepressants, anti-anxiety medications, or sleep aids."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Lifestyle Changes:"})," Regular exercise, stress management, and building a strong support network."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Support Groups:"})," Connecting with others who have experienced similar traumas."]})]}),g.jsx("p",{children:"The goal of treatment is to reduce symptoms, improve quality of life, and help individuals regain a sense of control."})]}),g.jsxs("section",{id:"prevention",className:"section",children:[g.jsx("h2",{children:"Prevention"}),g.jsx("p",{children:"While PTSD cannot always be prevented, certain strategies may reduce the risk or severity of symptoms:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Seeking immediate support after a traumatic event."}),g.jsx("li",{children:"Building a strong support network of family and friends."}),g.jsx("li",{children:"Practicing stress-reduction techniques like mindfulness or meditation."}),g.jsx("li",{children:"Seeking professional help early if symptoms arise."})]})]})]})]});function _8(){const r=Al(),[e,t]=re.useState(Array(10).fill(null)),[s,o]=re.useState(null),c=["Do you experience intrusive thoughts that cause you anxiety?","Do you feel compelled to perform certain rituals or behaviors to reduce anxiety?","Do you spend a significant amount of time each day on obsessive thoughts or compulsions?","Do you find it difficult to control your obsessive thoughts or compulsive behaviors?","Do your obsessive thoughts or compulsions interfere with your daily life or relationships?","Do you avoid certain situations or places because they trigger obsessive thoughts?","Do you feel distressed if you are unable to complete a ritual or compulsion?","Do you often seek reassurance from others about your fears or worries?","Do you feel that your obsessive thoughts are irrational but cannot stop them?","Do you experience physical symptoms (e.g., sweating, rapid heartbeat) due to obsessive thoughts?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of OCD. It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of OCD. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of OCD. If you have concerns, consider speaking with a mental health professional.")};return g.jsxs("div",{className:"ocd-screening",children:[g.jsx("h1",{children:"OCD Screening Test"}),g.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Obsessive-Compulsive Disorder (OCD). Answer the following questions honestly based on your experiences over the past month."}),s?g.jsxs("div",{className:"test-results",children:[g.jsx("h2",{children:"Your Results"}),g.jsx("p",{children:s}),g.jsx("h3",{children:"Next Steps"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Learn more about OCD:"})," Read about OCD symptoms, causes, and treatment options."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),g.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):g.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>g.jsxs("div",{className:"question",children:[g.jsx("p",{children:p}),g.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),g.jsx("button",{onClick:f,children:"Submit"})]})]})}function x8(){const r=Al(),[e,t]=re.useState(Array(10).fill(null)),[s,o]=re.useState(null),c=["Do you often have trouble focusing on tasks or staying organized?","Do you frequently feel restless or have difficulty sitting still?","Do you often interrupt others or have trouble waiting your turn?","Do you frequently lose things necessary for tasks or activities?","Do you often forget daily activities or appointments?","Do you have difficulty following through on instructions or finishing tasks?","Do you often avoid tasks that require sustained mental effort?","Do you frequently make careless mistakes in work or school?","Do you often feel like you're 'on the go' or driven by a motor?","Do you have trouble managing your time or meeting deadlines?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of ADHD. It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of ADHD. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of ADHD. If you have concerns, consider speaking with a mental health professional.")};return g.jsxs("div",{className:"adhd-screening",children:[g.jsx("h1",{children:"ADHD Screening Test"}),g.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Attention-Deficit/Hyperactivity Disorder (ADHD). Answer the following questions honestly based on your experiences over the past month."}),s?g.jsxs("div",{className:"test-results",children:[g.jsx("h2",{children:"Your Results"}),g.jsx("p",{children:s}),g.jsx("h3",{children:"Next Steps"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Learn more about ADHD:"})," Read about ADHD symptoms, causes, and treatment options."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),g.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):g.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>g.jsxs("div",{className:"question",children:[g.jsx("p",{children:p}),g.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),g.jsx("button",{onClick:f,children:"Submit"})]})]})}function T8(){const r=Al(),[e,t]=re.useState(Array(10).fill(null)),[s,o]=re.useState(null),c=["Do you often feel excessively worried or nervous?","Do you experience physical symptoms like a racing heart or sweating when anxious?","Do you have trouble controlling your worries?","Do you avoid situations or activities because they make you anxious?","Do you feel restless or on edge most of the time?","Do you have difficulty concentrating due to anxiety?","Do you feel fatigued or easily tired due to anxiety?","Do you experience muscle tension or aches due to anxiety?","Do you have trouble falling or staying asleep due to anxiety?","Do you feel irritable or easily agitated due to anxiety?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of Generalized Anxiety Disorder. It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of anxiety. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of anxiety. If you have concerns, consider speaking with a mental health professional.")};return g.jsxs("div",{className:"anxiety-screening",children:[g.jsx("h1",{children:"Anxiety Screening Test"}),g.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Generalized Anxiety Disorder. Answer the following questions honestly based on your experiences over the past month."}),s?g.jsxs("div",{className:"test-results",children:[g.jsx("h2",{children:"Your Results"}),g.jsx("p",{children:s}),g.jsx("h3",{children:"Next Steps"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Learn more about anxiety:"})," Read about anxiety symptoms, causes, and treatment options."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),g.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):g.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>g.jsxs("div",{className:"question",children:[g.jsx("p",{children:p}),g.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),g.jsx("button",{onClick:f,children:"Submit"})]})]})}function E8(){const r=Al(),[e,t]=re.useState(Array(10).fill(null)),[s,o]=re.useState(null),c=["Do you often feel sad, empty, or hopeless?","Have you lost interest in activities you once enjoyed?","Do you feel fatigued or have low energy most days?","Do you have trouble sleeping or sleep too much?","Do you experience changes in appetite or weight?","Do you feel worthless or guilty?","Do you have difficulty concentrating or making decisions?","Do you feel restless or slowed down?","Do you have recurrent thoughts of death or suicide?","Do you feel like life is not worth living?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of depression. It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of depression. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of depression. If you have concerns, consider speaking with a mental health professional.")};return g.jsxs("div",{className:"depression-screening",children:[g.jsx("h1",{children:"Depression Screening Test"}),g.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of depression. Answer the following questions honestly based on your experiences over the past month."}),s?g.jsxs("div",{className:"test-results",children:[g.jsx("h2",{children:"Your Results"}),g.jsx("p",{children:s}),g.jsx("h3",{children:"Next Steps"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Learn more about depression:"})," Read about depression symptoms, causes, and treatment options."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),g.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):g.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>g.jsxs("div",{className:"question",children:[g.jsx("p",{children:p}),g.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),g.jsx("button",{onClick:f,children:"Submit"})]})]})}function S8(){const r=Al(),[e,t]=re.useState(Array(10).fill(null)),[s,o]=re.useState(null),c=["Do you experience periods of unusually high energy and mood?","Do you feel like you need less sleep than usual during these periods?","Do you feel more talkative or pressured to keep talking during these periods?","Do you experience racing thoughts or feel like your mind is jumping from one idea to another?","Do you engage in impulsive or risky behaviors during these periods?","Do you experience periods of deep sadness or hopelessness?","Do you lose interest in activities you once enjoyed during these periods?","Do you feel fatigued or have low energy during these periods?","Do you have trouble concentrating or making decisions during these periods?","Do you experience changes in appetite or weight during these periods?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of Bipolar Disorder. It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of Bipolar Disorder. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of Bipolar Disorder. If you have concerns, consider speaking with a mental health professional.")};return g.jsxs("div",{className:"bipolar-screening",children:[g.jsx("h1",{children:"Bipolar Disorder Screening Test"}),g.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Bipolar Disorder. Answer the following questions honestly based on your experiences over the past month."}),s?g.jsxs("div",{className:"test-results",children:[g.jsx("h2",{children:"Your Results"}),g.jsx("p",{children:s}),g.jsx("h3",{children:"Next Steps"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Learn more about Bipolar Disorder:"})," Read about Bipolar Disorder symptoms, causes, and treatment options."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),g.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):g.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>g.jsxs("div",{className:"question",children:[g.jsx("p",{children:p}),g.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),g.jsx("button",{onClick:f,children:"Submit"})]})]})}function A8(){const r=Al(),[e,t]=re.useState(Array(10).fill(null)),[s,o]=re.useState(null),c=["Do you have recurring, distressing memories of a traumatic event?","Do you have nightmares about the traumatic event?","Do you feel like you are reliving the traumatic event (flashbacks)?","Do you avoid places, people, or activities that remind you of the traumatic event?","Do you feel emotionally numb or detached from others?","Do you have difficulty sleeping or concentrating?","Do you feel irritable or have angry outbursts?","Do you feel constantly on guard or easily startled?","Do you feel intense guilt or shame about the traumatic event?","Do you feel like life is meaningless or hopeless?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of Post-Traumatic Stress Disorder (PTSD). It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of PTSD. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of PTSD. If you have concerns, consider speaking with a mental health professional.")};return g.jsxs("div",{className:"ptsd-screening",children:[g.jsx("h1",{children:"PTSD Screening Test"}),g.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Post-Traumatic Stress Disorder (PTSD). Answer the following questions honestly based on your experiences over the past month."}),s?g.jsxs("div",{className:"test-results",children:[g.jsx("h2",{children:"Your Results"}),g.jsx("p",{children:s}),g.jsx("h3",{children:"Next Steps"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Learn more about PTSD:"})," Read about PTSD symptoms, causes, and treatment options."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),g.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):g.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>g.jsxs("div",{className:"question",children:[g.jsx("p",{children:p}),g.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),g.jsx("button",{onClick:f,children:"Submit"})]})]})}function j8(){const[r,e]=re.useState(null),[t,s]=re.useState(!1);return re.useEffect(()=>{const o=YI(cR,c=>{e(c)});return()=>o()},[]),g.jsx($V,{children:g.jsx(C8,{user:r,showProfilePopup:t,setShowProfilePopup:s})})}function C8({user:r,showProfilePopup:e,setShowProfilePopup:t}){const{darkMode:s}=re.useContext(nS);return g.jsx("div",{className:s?"app dark-mode":"app",children:g.jsx(_L,{children:g.jsxs("div",{className:"content",children:[g.jsxs(ZM,{children:[g.jsx(Bn,{path:"/login",element:g.jsx(fC,{initialMode:"login"})}),g.jsx(Bn,{path:"/register",element:g.jsx(fC,{initialMode:"register"})}),g.jsx(Bn,{path:"/",element:g.jsx(Kr,{children:g.jsx(s8,{})})}),g.jsx(Bn,{path:"/accessibility",element:g.jsx(Kr,{children:g.jsx(c8,{})})}),g.jsx(Bn,{path:"/about",element:g.jsx(Kr,{children:g.jsx(u8,{})})}),g.jsx(Bn,{path:"/screening",element:g.jsx(Kr,{children:g.jsx(h8,{})})}),g.jsx(Bn,{path:"/resources",element:g.jsx(Kr,{children:g.jsx(d8,{})})}),g.jsx(Bn,{path:"/community",element:g.jsx(Kr,{children:g.jsx(f8,{})})}),g.jsx(Bn,{path:"/contact",element:g.jsx(Kr,{children:g.jsx(m8,{})})}),g.jsx(Bn,{path:"/ocd",element:g.jsx(Kr,{children:g.jsx(p8,{})})}),g.jsx(Bn,{path:"/adhd",element:g.jsx(Kr,{children:g.jsx(g8,{})})}),g.jsx(Bn,{path:"/depression",element:g.jsx(Kr,{children:g.jsx(y8,{})})}),g.jsx(Bn,{path:"/anxiety",element:g.jsx(Kr,{children:g.jsx(v8,{})})}),g.jsx(Bn,{path:"/bipolar",element:g.jsx(Kr,{children:g.jsx(b8,{})})}),g.jsx(Bn,{path:"/ptsd",element:g.jsx(Kr,{children:g.jsx(w8,{})})}),g.jsx(Bn,{path:"/ocd-screening",element:g.jsx(Kr,{children:g.jsx(_8,{})})}),g.jsx(Bn,{path:"/adhd-screening",element:g.jsx(Kr,{children:g.jsx(x8,{})})}),g.jsx(Bn,{path:"/anxiety-screening",element:g.jsx(Kr,{children:g.jsx(T8,{})})}),g.jsx(Bn,{path:"/depression-screening",element:g.jsx(Kr,{children:g.jsx(E8,{})})}),g.jsx(Bn,{path:"/bipolar-screening",element:g.jsx(Kr,{children:g.jsx(S8,{})})}),g.jsx(Bn,{path:"/ptsd-screening",element:g.jsx(Kr,{children:g.jsx(A8,{})})}),g.jsx(Bn,{path:"*",element:g.jsx(MN,{to:"/login",replace:!0})})]}),e&&g.jsx(k8,{onClose:()=>t(!1)})]})})})}function k8({onClose:r}){const{darkMode:e,toggleDarkMode:t}=re.useContext(nS);return g.jsx(cD,{onClose:r,onThemeToggle:t,isDarkMode:e})}lM.createRoot(document.getElementById("root")).render(g.jsx(re.StrictMode,{children:g.jsx(j8,{})}));function N8(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zx={exports:{}},rv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function I8(){if(pC)return rv;pC=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var f in o)f!=="key"&&(c[f]=o[f])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return rv.Fragment=e,rv.jsx=t,rv.jsxs=t,rv}var gC;function R8(){return gC||(gC=1,Zx.exports=I8()),Zx.exports}var y=R8(),Jx={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC;function D8(){if(yC)return wt;yC=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,K={};function q(D,X,ue){this.props=D,this.context=X,this.refs=K,this.updater=ue||U}q.prototype.isReactComponent={},q.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function G(){}G.prototype=q.prototype;function Z(D,X,ue){this.props=D,this.context=X,this.refs=K,this.updater=ue||U}var Y=Z.prototype=new G;Y.constructor=Z,M(Y,q.prototype),Y.isPureReactComponent=!0;var ae=Array.isArray,ce={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function R(D,X,ue,oe,le,Ee){return ue=Ee.ref,{$$typeof:r,type:D,key:X,ref:ue!==void 0?ue:null,props:Ee}}function j(D,X){return R(D.type,X,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return X[ue]})}var O=/\/+/g;function z(D,X){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):X.toString(36)}function I(){}function dt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function nt(D,X,ue,oe,le){var Ee=typeof D;(Ee==="undefined"||Ee==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(Ee){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case r:case e:Te=!0;break;case x:return Te=D._init,nt(Te(D._payload),X,ue,oe,le)}}if(Te)return le=le(D),Te=oe===""?"."+z(D,0):oe,ae(le)?(ue="",Te!=null&&(ue=Te.replace(O,"$&/")+"/"),nt(le,X,ue,"",function(rt){return rt})):le!=null&&(S(le)&&(le=j(le,ue+(le.key==null||D&&D.key===le.key?"":(""+le.key).replace(O,"$&/")+"/")+Te)),X.push(le)),1;Te=0;var pt=oe===""?".":oe+":";if(ae(D))for(var Oe=0;Oe<D.length;Oe++)oe=D[Oe],Ee=pt+z(oe,Oe),Te+=nt(oe,X,ue,Ee,le);else if(Oe=C(D),typeof Oe=="function")for(D=Oe.call(D),Oe=0;!(oe=D.next()).done;)oe=oe.value,Ee=pt+z(oe,Oe++),Te+=nt(oe,X,ue,Ee,le);else if(Ee==="object"){if(typeof D.then=="function")return nt(dt(D),X,ue,oe,le);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Te}function se(D,X,ue){if(D==null)return D;var oe=[],le=0;return nt(D,oe,"","",function(Ee){return X.call(ue,Ee,le++)}),oe}function be(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var te=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function _e(){}return wt.Children={map:se,forEach:function(D,X,ue){se(D,function(){X.apply(this,arguments)},ue)},count:function(D){var X=0;return se(D,function(){X++}),X},toArray:function(D){return se(D,function(X){return X})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=q,wt.Fragment=t,wt.Profiler=o,wt.PureComponent=Z,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,X,ue){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=M({},D.props),le=D.key,Ee=void 0;if(X!=null)for(Te in X.ref!==void 0&&(Ee=void 0),X.key!==void 0&&(le=""+X.key),X)!de.call(X,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&X.ref===void 0||(oe[Te]=X[Te]);var Te=arguments.length-2;if(Te===1)oe.children=ue;else if(1<Te){for(var pt=Array(Te),Oe=0;Oe<Te;Oe++)pt[Oe]=arguments[Oe+2];oe.children=pt}return R(D.type,le,void 0,void 0,Ee,oe)},wt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},wt.createElement=function(D,X,ue){var oe,le={},Ee=null;if(X!=null)for(oe in X.key!==void 0&&(Ee=""+X.key),X)de.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=X[oe]);var Te=arguments.length-2;if(Te===1)le.children=ue;else if(1<Te){for(var pt=Array(Te),Oe=0;Oe<Te;Oe++)pt[Oe]=arguments[Oe+2];le.children=pt}if(D&&D.defaultProps)for(oe in Te=D.defaultProps,Te)le[oe]===void 0&&(le[oe]=Te[oe]);return R(D,Ee,void 0,void 0,null,le)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:f,render:D}},wt.isValidElement=S,wt.lazy=function(D){return{$$typeof:x,_payload:{_status:-1,_result:D},_init:be}},wt.memo=function(D,X){return{$$typeof:v,type:D,compare:X===void 0?null:X}},wt.startTransition=function(D){var X=ce.T,ue={};ce.T=ue;try{var oe=D(),le=ce.S;le!==null&&le(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(_e,te)}catch(Ee){te(Ee)}finally{ce.T=X}},wt.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},wt.use=function(D){return ce.H.use(D)},wt.useActionState=function(D,X,ue){return ce.H.useActionState(D,X,ue)},wt.useCallback=function(D,X){return ce.H.useCallback(D,X)},wt.useContext=function(D){return ce.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,X){return ce.H.useDeferredValue(D,X)},wt.useEffect=function(D,X){return ce.H.useEffect(D,X)},wt.useId=function(){return ce.H.useId()},wt.useImperativeHandle=function(D,X,ue){return ce.H.useImperativeHandle(D,X,ue)},wt.useInsertionEffect=function(D,X){return ce.H.useInsertionEffect(D,X)},wt.useLayoutEffect=function(D,X){return ce.H.useLayoutEffect(D,X)},wt.useMemo=function(D,X){return ce.H.useMemo(D,X)},wt.useOptimistic=function(D,X){return ce.H.useOptimistic(D,X)},wt.useReducer=function(D,X,ue){return ce.H.useReducer(D,X,ue)},wt.useRef=function(D){return ce.H.useRef(D)},wt.useState=function(D){return ce.H.useState(D)},wt.useSyncExternalStore=function(D,X,ue){return ce.H.useSyncExternalStore(D,X,ue)},wt.useTransition=function(){return ce.H.useTransition()},wt.version="19.0.0",wt}var vC;function FS(){return vC||(vC=1,Jx.exports=D8()),Jx.exports}var ie=FS();const xf=N8(ie);var eT={exports:{}},iv={},tT={exports:{}},nT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function O8(){return bC||(bC=1,function(r){function e(se,be){var te=se.length;se.push(be);e:for(;0<te;){var _e=te-1>>>1,D=se[_e];if(0<o(D,be))se[_e]=be,se[te]=D,te=_e;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var be=se[0],te=se.pop();if(te!==be){se[0]=te;e:for(var _e=0,D=se.length,X=D>>>1;_e<X;){var ue=2*(_e+1)-1,oe=se[ue],le=ue+1,Ee=se[le];if(0>o(oe,te))le<D&&0>o(Ee,oe)?(se[_e]=Ee,se[le]=te,_e=le):(se[_e]=oe,se[ue]=te,_e=ue);else if(le<D&&0>o(Ee,te))se[_e]=Ee,se[le]=te,_e=le;else break e}}return be}function o(se,be){var te=se.sortIndex-be.sortIndex;return te!==0?te:se.id-be.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();r.unstable_now=function(){return d.now()-f}}var p=[],v=[],x=1,A=null,C=3,U=!1,M=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function Y(se){for(var be=t(v);be!==null;){if(be.callback===null)s(v);else if(be.startTime<=se)s(v),be.sortIndex=be.expirationTime,e(p,be);else break;be=t(v)}}function ae(se){if(K=!1,Y(se),!M)if(t(p)!==null)M=!0,dt();else{var be=t(v);be!==null&&nt(ae,be.startTime-se)}}var ce=!1,de=-1,R=5,j=-1;function S(){return!(r.unstable_now()-j<R)}function N(){if(ce){var se=r.unstable_now();j=se;var be=!0;try{e:{M=!1,K&&(K=!1,G(de),de=-1),U=!0;var te=C;try{t:{for(Y(se),A=t(p);A!==null&&!(A.expirationTime>se&&S());){var _e=A.callback;if(typeof _e=="function"){A.callback=null,C=A.priorityLevel;var D=_e(A.expirationTime<=se);if(se=r.unstable_now(),typeof D=="function"){A.callback=D,Y(se),be=!0;break t}A===t(p)&&s(p),Y(se)}else s(p);A=t(p)}if(A!==null)be=!0;else{var X=t(v);X!==null&&nt(ae,X.startTime-se),be=!1}}break e}finally{A=null,C=te,U=!1}be=void 0}}finally{be?O():ce=!1}}}var O;if(typeof Z=="function")O=function(){Z(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,I=z.port2;z.port1.onmessage=N,O=function(){I.postMessage(null)}}else O=function(){q(N,0)};function dt(){ce||(ce=!0,O())}function nt(se,be){de=q(function(){se(r.unstable_now())},be)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(se){se.callback=null},r.unstable_continueExecution=function(){M||U||(M=!0,dt())},r.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(se){switch(C){case 1:case 2:case 3:var be=3;break;default:be=C}var te=C;C=be;try{return se()}finally{C=te}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(se,be){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var te=C;C=se;try{return be()}finally{C=te}},r.unstable_scheduleCallback=function(se,be,te){var _e=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?_e+te:_e):te=_e,se){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=te+D,se={id:x++,callback:be,priorityLevel:se,startTime:te,expirationTime:D,sortIndex:-1},te>_e?(se.sortIndex=te,e(v,se),t(p)===null&&se===t(v)&&(K?(G(de),de=-1):K=!0,nt(ae,te-_e))):(se.sortIndex=D,e(p,se),M||U||(M=!0,dt())),se},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(se){var be=C;return function(){var te=C;C=be;try{return se.apply(this,arguments)}finally{C=te}}}}(nT)),nT}var wC;function P8(){return wC||(wC=1,tT.exports=O8()),tT.exports}var rT={exports:{}},Fi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function M8(){if(_C)return Fi;_C=1;var r=FS();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,v,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:v,implementation:x}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fi.createPortal=function(p,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(p,v,null,x)},Fi.flushSync=function(p){var v=d.T,x=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=x,s.d.f()}},Fi.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},Fi.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fi.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var x=v.as,A=f(x,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,U=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:U}):x==="script"&&s.d.X(p,{crossOrigin:A,integrity:C,fetchPriority:U,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Fi.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=f(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},Fi.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,A=f(x,v.crossOrigin);s.d.L(p,x,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Fi.preloadModule=function(p,v){if(typeof p=="string")if(v){var x=f(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},Fi.requestFormReset=function(p){s.d.r(p)},Fi.unstable_batchedUpdates=function(p,v){return p(v)},Fi.useFormState=function(p,v,x){return d.H.useFormState(p,v,x)},Fi.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fi.version="19.0.0",Fi}var xC;function L8(){if(xC)return rT.exports;xC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rT.exports=M8(),rT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function U8(){if(TC)return iv;TC=1;var r=P8(),e=FS(),t=L8();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),U=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),ae=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=ce&&n[ce]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function j(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case f:return"Portal";case x:return"Profiler";case v:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case U:return(n.displayName||"Context")+".Provider";case C:return(n._context.displayName||"Context")+".Consumer";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return i=n.displayName||null,i!==null?i:j(n.type)||"Memo";case Z:i=n._payload,n=n._init;try{return j(n(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,O,z;function I(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+n+z}var dt=!1;function nt(n,i){if(!n||dt)return"";dt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var H=Q}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Q){H=Q}n.call(ee.prototype)}}else{try{throw Error()}catch(Q){H=Q}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],T=m[1];if(_&&T){var k=_.split(`
`),L=T.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===L.length)for(l=k.length-1,h=L.length-1;1<=l&&0<=h&&k[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==L[h]){var W=`
`+k[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=h);break}}}finally{dt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?I(a):""}function se(n){switch(n.tag){case 26:case 27:case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return n=nt(n.type,!1),n;case 11:return n=nt(n.type.render,!1),n;case 1:return n=nt(n.type,!0),n;default:return""}}function be(n){try{var i="";do i+=se(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function te(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function _e(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function D(n){if(te(n)!==n)throw Error(s(188))}function X(n){var i=n.alternate;if(!i){if(i=te(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return D(h),n;if(m===l)return D(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=m;break}if(T===l){_=!0,l=h,a=m;break}T=T.sibling}if(!_){for(T=m.child;T;){if(T===a){_=!0,a=m,l=h;break}if(T===l){_=!0,l=m,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function ue(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=ue(n),i!==null)return i;n=n.sibling}return null}var oe=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Te=[],pt=-1;function Oe(n){return{current:n}}function rt(n){0>pt||(n.current=Te[pt],Te[pt]=null,pt--)}function Fe(n,i){pt++,Te[pt]=n.current,n.current=i}var Qt=Oe(null),wr=Oe(null),fn=Oe(null),Jr=Oe(null);function ei(n,i){switch(Fe(fn,i),Fe(wr,n),Fe(Qt,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?jy(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=jy(n),i=Cy(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}rt(Qt),Fe(Qt,i)}function _r(){rt(Qt),rt(wr),rt(fn)}function $a(n){n.memoizedState!==null&&Fe(Jr,n);var i=Qt.current,a=Cy(i,n.type);i!==a&&(Fe(wr,n),Fe(Qt,a))}function Fs(n){wr.current===n&&(rt(Qt),rt(wr)),Jr.current===n&&(rt(Jr),Go._currentValue=Ee)}var Bs=Object.prototype.hasOwnProperty,Wi=r.unstable_scheduleCallback,qs=r.unstable_cancelCallback,dh=r.unstable_shouldYield,Ga=r.unstable_requestPaint,nn=r.unstable_now,Nl=r.unstable_getCurrentPriorityLevel,_t=r.unstable_ImmediatePriority,At=r.unstable_UserBlockingPriority,xr=r.unstable_NormalPriority,Il=r.unstable_LowPriority,Ka=r.unstable_IdlePriority,fh=r.log,Yi=r.unstable_setDisableYieldValue,ti=null,Gt=null;function Qa(n){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ti,n,void 0,(n.current.flags&128)===128)}catch{}}function Qn(n){if(typeof fh=="function"&&Yi(n),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ti,n)}catch{}}var Wt=Math.clz32?Math.clz32:Dl,Wa=Math.log,Rl=Math.LN2;function Dl(n){return n>>>=0,n===0?32:31-(Wa(n)/Rl|0)|0}var Wn=128,ni=4194304;function Mn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function mn(n,i){var a=n.pendingLanes;if(a===0)return 0;var l=0,h=n.suspendedLanes,m=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Mn(a):(m&=T,m!==0?l=Mn(m):n||(_=T&~_,_!==0&&(l=Mn(_))))):(T=a&~h,T!==0?l=Mn(T):m!==0?l=Mn(m):n||(_=a&~_,_!==0&&(l=Mn(_)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,_=i&-i,h>=_||h===32&&(_&4194176)!==0)?i:l}function ri(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Hs(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ya(){var n=Wn;return Wn<<=1,(Wn&4194176)===0&&(Wn=128),n}function ii(){var n=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),n}function $s(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function ft(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ol(n,i,a,l,h,m){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,k=n.expirationTimes,L=n.hiddenUpdates;for(a=_&~a;0<a;){var W=31-Wt(a),ee=1<<W;T[W]=0,k[W]=-1;var H=L[W];if(H!==null)for(L[W]=null,W=0;W<H.length;W++){var Q=H[W];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&si(n,l,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~i))}function si(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Wt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function ai(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Wt(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function Pl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ml(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:Gy(n.type))}function oi(n,i){var a=le.p;try{return le.p=n,i()}finally{le.p=a}}var Yn=Math.random().toString(36).slice(2),jt="__reactFiber$"+Yn,xt="__reactProps$"+Yn,Tr="__reactContainer$"+Yn,Xi="__reactEvents$"+Yn,Gs="__reactListeners$"+Yn,Xn="__reactHandles$"+Yn,Xa="__reactResources$"+Yn,li="__reactMarker$"+Yn;function Zi(n){delete n[jt],delete n[xt],delete n[Xi],delete n[Gs],delete n[Xn]}function Ln(n){var i=n[jt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Tr]||a[jt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Iy(n);n!==null;){if(a=n[jt])return a;n=Iy(n)}return i}n=a,a=n.parentNode}return null}function Er(n){if(n=n[jt]||n[Tr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function ci(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function ui(n){var i=n[Xa];return i||(i=n[Xa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(n){n[li]=!0}var Za=new Set,Ks={};function an(n,i){rn(n,i),rn(n+"Capture",i)}function rn(n,i){for(Ks[n]=i,n=0;n<i.length;n++)Za.add(i[n])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ja={},eo={};function Ll(n){return Bs.call(eo,n)?!0:Bs.call(Ja,n)?!1:mh.test(n)?eo[n]=!0:(Ja[n]=!0,!1)}function hi(n,i,a){if(Ll(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function di(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function pn(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function Yt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ul(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ph(n){var i=Ul(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ji(n){n._valueTracker||(n._valueTracker=ph(n))}function to(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Ul(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Qs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Sr=/[\n"\\]/g;function ct(n){return n.replace(Sr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fi(n,i,a,l,h,m,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Yt(i)):n.value!==""+Yt(i)&&(n.value=""+Yt(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Ws(n,_,Yt(i)):a!=null?Ws(n,_,Yt(a)):l!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+Yt(T):n.removeAttribute("name")}function es(n,i,a,l,h,m,_,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Yt(a):"",i=i!=null?""+Yt(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Ws(n,i,a){i==="number"&&Qs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Pe(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Yt(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function ts(n,i,a){if(i!=null&&(i=""+Yt(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Yt(a):""}function mi(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Yt(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function gn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var gh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||gh.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Vl(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&no(n,h,l)}else for(var m in i)i.hasOwnProperty(m)&&no(n,m,i[m])}function ro(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zn(n){return vh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var yn=null;function Ys(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ar=null,jr=null;function Cr(n){var i=Er(n);if(i&&(n=i.stateNode)){var a=n[xt]||null;e:switch(n=i.stateNode,i.type){case"input":if(fi(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[xt]||null;if(!h)throw Error(s(90));fi(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&to(l)}break e;case"textarea":ts(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Pe(n,!!a.multiple,i,!1)}}}var io=!1;function zl(n,i,a){if(io)return n(i,a);io=!0;try{var l=n(i);return l}finally{if(io=!1,(Ar!==null||jr!==null)&&(Ic(),Ar&&(i=Ar,n=jr,jr=Ar=null,Cr(i),n)))for(i=0;i<n.length;i++)Cr(n[i])}}function ns(n,i){var a=n.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var vn=!1;if(on)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){vn=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{vn=!1}var Jn=null,pi=null,kr=null;function so(){if(kr)return kr;var n,i=pi,a=i.length,l,h="value"in Jn?Jn.value:Jn.textContent,m=h.length;for(n=0;n<a&&i[n]===h[n];n++);var _=a-n;for(l=1;l<=_&&i[a-l]===h[m-l];l++);return kr=h.slice(n,1<l?1-l:void 0)}function er(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function tr(){return!0}function ao(){return!1}function Ct(n){function i(a,l,h,m,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?tr:ao,this.isPropagationStopped=ao,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),i}var ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Ct(ze),is=N({},ze,{view:0,detail:0}),Fl=Ct(is),Zs,Js,nr,ss=N({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==nr&&(nr&&n.type==="mousemove"?(Zs=n.screenX-nr.screenX,Js=n.screenY-nr.screenY):Js=Zs=0,nr=n),Zs)},movementY:function(n){return"movementY"in n?n.movementY:Js}}),bn=Ct(ss),Bl=N({},ss,{dataTransfer:0}),bh=Ct(Bl),as=N({},is,{relatedTarget:0}),ea=Ct(as),oo=N({},ze,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=Ct(oo),ql=N({},ze,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),na=Ct(ql),wh=N({},ze,{data:0}),lo=Ct(wh),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function co(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=$l[n])?!!i[n]:!1}function ls(){return co}var Gl=N({},is,{key:function(n){if(n.key){var i=os[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=er(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hl[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(n){return n.type==="keypress"?er(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?er(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ra=Ct(Gl),Kl=N({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uo=Ct(Kl),Nr=N({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),Ql=Ct(Nr),Wl=N({},ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yl=Ct(Wl),Xl=N({},ss,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=Ct(Xl),Xt=N({},ze,{newState:0,oldState:0}),Zl=Ct(Xt),Jl=[9,13,27,32],rr=on&&"CompositionEvent"in window,u=null;on&&"documentMode"in document&&(u=document.documentMode);var b=on&&"TextEvent"in window&&!u,w=on&&(!rr||u&&8<u&&11>=u),E=" ",F=!1;function $(n,i){switch(n){case"keyup":return Jl.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Re=!1;function Tt(n,i){switch(n){case"compositionend":return ne(i);case"keypress":return i.which!==32?null:(F=!0,E);case"textInput":return n=i.data,n===E&&F?null:n;default:return null}}function De(n,i){if(Re)return n==="compositionend"||!rr&&$(n,i)?(n=so(),kr=pi=Jn=null,Re=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return w&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!kt[n.type]:i==="textarea"}function Ir(n,i,a,l){Ar?jr?jr.push(l):jr=[l]:Ar=l,i=Mc(i,"onChange"),0<i.length&&(a=new Xs("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Ut=null,ir=null;function ho(n){xy(n,0)}function ec(n){var i=ci(n);if(to(i))return n}function Xm(n,i){if(n==="change")return i}var Zm=!1;if(on){var _h;if(on){var xh="oninput"in document;if(!xh){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),xh=typeof Jm.oninput=="function"}_h=xh}else _h=!1;Zm=_h&&(!document.documentMode||9<document.documentMode)}function ep(){Ut&&(Ut.detachEvent("onpropertychange",tp),ir=Ut=null)}function tp(n){if(n.propertyName==="value"&&ec(ir)){var i=[];Ir(i,ir,n,Ys(n)),zl(ho,i)}}function o0(n,i,a){n==="focusin"?(ep(),Ut=i,ir=a,Ut.attachEvent("onpropertychange",tp)):n==="focusout"&&ep()}function l0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ec(ir)}function c0(n,i){if(n==="click")return ec(i)}function u0(n,i){if(n==="input"||n==="change")return ec(i)}function h0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ln=typeof Object.is=="function"?Object.is:h0;function fo(n,i){if(ln(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Bs.call(i,h)||!ln(n[h],i[h]))return!1}return!0}function np(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rp(n,i){var a=np(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=np(a)}}function ip(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ip(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function sp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Qs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Qs(n.document)}return i}function Th(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function d0(n,i){var a=sp(i);i=n.focusedElem;var l=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&ip(i.ownerDocument.documentElement,i)){if(l!==null&&Th(i)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,m=Math.min(l.start,h);l=l.end===void 0?m:Math.min(l.end,h),!a.extend&&m>l&&(h=l,l=m,m=h),h=rp(i,m);var _=rp(i,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),a.removeAllRanges(),m>l?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var f0=on&&"documentMode"in document&&11>=document.documentMode,sa=null,Eh=null,mo=null,Sh=!1;function ap(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sh||sa==null||sa!==Qs(l)||(l=sa,"selectionStart"in l&&Th(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),mo&&fo(mo,l)||(mo=l,l=Mc(Eh,"onSelect"),0<l.length&&(i=new Xs("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=sa)))}function cs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var aa={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},Ah={},op={};on&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function us(n){if(Ah[n])return Ah[n];if(!aa[n])return n;var i=aa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in op)return Ah[n]=i[a];return n}var lp=us("animationend"),cp=us("animationiteration"),up=us("animationstart"),m0=us("transitionrun"),p0=us("transitionstart"),g0=us("transitioncancel"),hp=us("transitionend"),dp=new Map,fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(n,i){dp.set(n,i),an(i,[n])}var wn=[],oa=0,jh=0;function tc(){for(var n=oa,i=jh=oa=0;i<n;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var m=wn[i];if(wn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}m!==0&&mp(a,h,m)}}function nc(n,i,a,l){wn[oa++]=n,wn[oa++]=i,wn[oa++]=a,wn[oa++]=l,jh|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Ch(n,i,a,l){return nc(n,i,a,l),rc(n)}function gi(n,i){return nc(n,null,null,i),rc(n)}function mp(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;h&&i!==null&&n.tag===3&&(m=n.stateNode,h=31-Wt(a),m=m.hiddenUpdates,n=m[h],n===null?m[h]=[i]:n.push(i),i.lane=a|536870912)}function rc(n){if(50<Vo)throw Vo=0,Od=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var la={},pp=new WeakMap;function _n(n,i){if(typeof n=="object"&&n!==null){var a=pp.get(n);return a!==void 0?a:(i={value:n,source:i,stack:be(i)},pp.set(n,i),i)}return{value:n,source:i,stack:be(i)}}var ca=[],ua=0,ic=null,sc=0,xn=[],Tn=0,hs=null,Rr=1,Dr="";function ds(n,i){ca[ua++]=sc,ca[ua++]=ic,ic=n,sc=i}function gp(n,i,a){xn[Tn++]=Rr,xn[Tn++]=Dr,xn[Tn++]=hs,hs=n;var l=Rr;n=Dr;var h=32-Wt(l)-1;l&=~(1<<h),a+=1;var m=32-Wt(i)+h;if(30<m){var _=h-h%5;m=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Rr=1<<32-Wt(i)+h|a<<h|l,Dr=m+n}else Rr=1<<m|a<<h|l,Dr=n}function kh(n){n.return!==null&&(ds(n,1),gp(n,1,0))}function Nh(n){for(;n===ic;)ic=ca[--ua],ca[ua]=null,sc=ca[--ua],ca[ua]=null;for(;n===hs;)hs=xn[--Tn],xn[Tn]=null,Dr=xn[--Tn],xn[Tn]=null,Rr=xn[--Tn],xn[Tn]=null}var Zt=null,Vt=null,Me=!1,Vn=null,sr=!1,Ih=Error(s(519));function fs(n){var i=Error(s(418,""));throw yo(_n(i,n)),Ih}function yp(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[jt]=n,i[xt]=l,a){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(a=0;a<Fo.length;a++)Ce(Fo[a],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ce("invalid",i),es(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ji(i);break;case"select":Ce("invalid",i);break;case"textarea":Ce("invalid",i),mi(i,l.value,l.defaultValue,l.children),Ji(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Ay(i.textContent,a)?(l.popover!=null&&(Ce("beforetoggle",i),Ce("toggle",i)),l.onScroll!=null&&Ce("scroll",i),l.onScrollEnd!=null&&Ce("scrollend",i),l.onClick!=null&&(i.onclick=Lc),i=!0):i=!1,i||fs(n)}function vp(n){for(Zt=n.return;Zt;)switch(Zt.tag){case 3:case 27:sr=!0;return;case 5:case 13:sr=!1;return;default:Zt=Zt.return}}function po(n){if(n!==Zt)return!1;if(!Me)return vp(n),Me=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Xd(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&Vt&&fs(n),vp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Vt=Fn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Vt=null}}else Vt=Zt?Fn(n.stateNode.nextSibling):null;return!0}function go(){Vt=Zt=null,Me=!1}function yo(n){Vn===null?Vn=[n]:Vn.push(n)}var vo=Error(s(460)),bp=Error(s(474)),Rh={then:function(){}};function wp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ac(){}function _p(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(ac,ac),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===vo?Error(s(483)):n;default:if(typeof i.status=="string")i.then(ac,ac);else{if(n=Ke,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===vo?Error(s(483)):n}throw bo=i,vo}}var bo=null;function xp(){if(bo===null)throw Error(s(459));var n=bo;return bo=null,n}var ha=null,wo=0;function oc(n){var i=wo;return wo+=1,ha===null&&(ha=[]),_p(ha,n,i)}function _o(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function lc(n,i){throw i.$$typeof===c?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Tp(n){var i=n._init;return i(n._payload)}function Ep(n){function i(V,P){if(n){var B=V.deletions;B===null?(V.deletions=[P],V.flags|=16):B.push(P)}}function a(V,P){if(!n)return null;for(;P!==null;)i(V,P),P=P.sibling;return null}function l(V){for(var P=new Map;V!==null;)V.key!==null?P.set(V.key,V):P.set(V.index,V),V=V.sibling;return P}function h(V,P){return V=Ci(V,P),V.index=0,V.sibling=null,V}function m(V,P,B){return V.index=B,n?(B=V.alternate,B!==null?(B=B.index,B<P?(V.flags|=33554434,P):B):(V.flags|=33554434,P)):(V.flags|=1048576,P)}function _(V){return n&&V.alternate===null&&(V.flags|=33554434),V}function T(V,P,B,J){return P===null||P.tag!==6?(P=Ad(B,V.mode,J),P.return=V,P):(P=h(P,B),P.return=V,P)}function k(V,P,B,J){var he=B.type;return he===p?W(V,P,B.props.children,J,B.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&Tp(he)===P.type)?(P=h(P,B.props),_o(P,B),P.return=V,P):(P=Ac(B.type,B.key,B.props,null,V.mode,J),_o(P,B),P.return=V,P)}function L(V,P,B,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=jd(B,V.mode,J),P.return=V,P):(P=h(P,B.children||[]),P.return=V,P)}function W(V,P,B,J,he){return P===null||P.tag!==7?(P=Ts(B,V.mode,J,he),P.return=V,P):(P=h(P,B),P.return=V,P)}function ee(V,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ad(""+P,V.mode,B),P.return=V,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case d:return B=Ac(P.type,P.key,P.props,null,V.mode,B),_o(B,P),B.return=V,B;case f:return P=jd(P,V.mode,B),P.return=V,P;case Z:var J=P._init;return P=J(P._payload),ee(V,P,B)}if(oe(P)||de(P))return P=Ts(P,V.mode,B,null),P.return=V,P;if(typeof P.then=="function")return ee(V,oc(P),B);if(P.$$typeof===U)return ee(V,Tc(V,P),B);lc(V,P)}return null}function H(V,P,B,J){var he=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:T(V,P,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===he?k(V,P,B,J):null;case f:return B.key===he?L(V,P,B,J):null;case Z:return he=B._init,B=he(B._payload),H(V,P,B,J)}if(oe(B)||de(B))return he!==null?null:W(V,P,B,J,null);if(typeof B.then=="function")return H(V,P,oc(B),J);if(B.$$typeof===U)return H(V,P,Tc(V,B),J);lc(V,B)}return null}function Q(V,P,B,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return V=V.get(B)||null,T(P,V,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case d:return V=V.get(J.key===null?B:J.key)||null,k(P,V,J,he);case f:return V=V.get(J.key===null?B:J.key)||null,L(P,V,J,he);case Z:var Ae=J._init;return J=Ae(J._payload),Q(V,P,B,J,he)}if(oe(J)||de(J))return V=V.get(B)||null,W(P,V,J,he,null);if(typeof J.then=="function")return Q(V,P,B,oc(J),he);if(J.$$typeof===U)return Q(V,P,B,Tc(P,J),he);lc(P,J)}return null}function fe(V,P,B,J){for(var he=null,Ae=null,me=P,we=P=0,Dt=null;me!==null&&we<B.length;we++){me.index>we?(Dt=me,me=null):Dt=me.sibling;var Le=H(V,me,B[we],J);if(Le===null){me===null&&(me=Dt);break}n&&me&&Le.alternate===null&&i(V,me),P=m(Le,P,we),Ae===null?he=Le:Ae.sibling=Le,Ae=Le,me=Dt}if(we===B.length)return a(V,me),Me&&ds(V,we),he;if(me===null){for(;we<B.length;we++)me=ee(V,B[we],J),me!==null&&(P=m(me,P,we),Ae===null?he=me:Ae.sibling=me,Ae=me);return Me&&ds(V,we),he}for(me=l(me);we<B.length;we++)Dt=Q(me,V,we,B[we],J),Dt!==null&&(n&&Dt.alternate!==null&&me.delete(Dt.key===null?we:Dt.key),P=m(Dt,P,we),Ae===null?he=Dt:Ae.sibling=Dt,Ae=Dt);return n&&me.forEach(function(Pi){return i(V,Pi)}),Me&&ds(V,we),he}function xe(V,P,B,J){if(B==null)throw Error(s(151));for(var he=null,Ae=null,me=P,we=P=0,Dt=null,Le=B.next();me!==null&&!Le.done;we++,Le=B.next()){me.index>we?(Dt=me,me=null):Dt=me.sibling;var Pi=H(V,me,Le.value,J);if(Pi===null){me===null&&(me=Dt);break}n&&me&&Pi.alternate===null&&i(V,me),P=m(Pi,P,we),Ae===null?he=Pi:Ae.sibling=Pi,Ae=Pi,me=Dt}if(Le.done)return a(V,me),Me&&ds(V,we),he;if(me===null){for(;!Le.done;we++,Le=B.next())Le=ee(V,Le.value,J),Le!==null&&(P=m(Le,P,we),Ae===null?he=Le:Ae.sibling=Le,Ae=Le);return Me&&ds(V,we),he}for(me=l(me);!Le.done;we++,Le=B.next())Le=Q(me,V,we,Le.value,J),Le!==null&&(n&&Le.alternate!==null&&me.delete(Le.key===null?we:Le.key),P=m(Le,P,we),Ae===null?he=Le:Ae.sibling=Le,Ae=Le);return n&&me.forEach(function(Nx){return i(V,Nx)}),Me&&ds(V,we),he}function at(V,P,B,J){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:e:{for(var he=B.key;P!==null;){if(P.key===he){if(he=B.type,he===p){if(P.tag===7){a(V,P.sibling),J=h(P,B.props.children),J.return=V,V=J;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&Tp(he)===P.type){a(V,P.sibling),J=h(P,B.props),_o(J,B),J.return=V,V=J;break e}a(V,P);break}else i(V,P);P=P.sibling}B.type===p?(J=Ts(B.props.children,V.mode,J,B.key),J.return=V,V=J):(J=Ac(B.type,B.key,B.props,null,V.mode,J),_o(J,B),J.return=V,V=J)}return _(V);case f:e:{for(he=B.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(V,P.sibling),J=h(P,B.children||[]),J.return=V,V=J;break e}else{a(V,P);break}else i(V,P);P=P.sibling}J=jd(B,V.mode,J),J.return=V,V=J}return _(V);case Z:return he=B._init,B=he(B._payload),at(V,P,B,J)}if(oe(B))return fe(V,P,B,J);if(de(B)){if(he=de(B),typeof he!="function")throw Error(s(150));return B=he.call(B),xe(V,P,B,J)}if(typeof B.then=="function")return at(V,P,oc(B),J);if(B.$$typeof===U)return at(V,P,Tc(V,B),J);lc(V,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(V,P.sibling),J=h(P,B),J.return=V,V=J):(a(V,P),J=Ad(B,V.mode,J),J.return=V,V=J),_(V)):a(V,P)}return function(V,P,B,J){try{wo=0;var he=at(V,P,B,J);return ha=null,he}catch(me){if(me===vo)throw me;var Ae=jn(29,me,null,V.mode);return Ae.lanes=J,Ae.return=V,Ae}finally{}}}var ms=Ep(!0),Sp=Ep(!1),da=Oe(null),cc=Oe(0);function Ap(n,i){n=Hr,Fe(cc,n),Fe(da,i),Hr=n|i.baseLanes}function Dh(){Fe(cc,Hr),Fe(da,da.current)}function Oh(){Hr=cc.current,rt(da),rt(cc)}var En=Oe(null),fr=null;function yi(n){var i=n.alternate;Fe(Et,Et.current&1),Fe(En,n),fr===null&&(i===null||da.current!==null||i.memoizedState!==null)&&(fr=n)}function jp(n){if(n.tag===22){if(Fe(Et,Et.current),Fe(En,n),fr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(fr=n)}}else vi()}function vi(){Fe(Et,Et.current),Fe(En,En.current)}function Or(n){rt(En),fr===n&&(fr=null),rt(Et)}var Et=Oe(0);function uc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var y0=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},v0=r.unstable_scheduleCallback,b0=r.unstable_NormalPriority,St={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new y0,data:new Map,refCount:0}}function xo(n){n.refCount--,n.refCount===0&&v0(b0,function(){n.controller.abort()})}var To=null,Mh=0,fa=0,ma=null;function w0(n,i){if(To===null){var a=To=[];Mh=0,fa=Bd(),ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mh++,i.then(Cp,Cp),i}function Cp(){if(--Mh===0&&To!==null){ma!==null&&(ma.status="fulfilled");var n=To;To=null,fa=0,ma=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function _0(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kp=S.S;S.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&w0(n,i),kp!==null&&kp(n,i)};var ps=Oe(null);function Lh(){var n=ps.current;return n!==null?n:Ke.pooledCache}function hc(n,i){i===null?Fe(ps,ps.current):Fe(ps,i.pool)}function Np(){var n=Lh();return n===null?null:{parent:St._currentValue,pool:n}}var bi=0,Se=null,Be=null,gt=null,dc=!1,pa=!1,gs=!1,fc=0,Eo=0,ga=null,x0=0;function mt(){throw Error(s(321))}function Uh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!ln(n[a],i[a]))return!1;return!0}function Vh(n,i,a,l,h,m){return bi=m,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=n===null||n.memoizedState===null?ys:wi,gs=!1,m=a(l,h),gs=!1,pa&&(m=Rp(i,a,l,h)),Ip(n),m}function Ip(n){S.H=ar;var i=Be!==null&&Be.next!==null;if(bi=0,gt=Be=Se=null,dc=!1,Eo=0,ga=null,i)throw Error(s(300));n===null||It||(n=n.dependencies,n!==null&&xc(n)&&(It=!0))}function Rp(n,i,a,l){Se=n;var h=0;do{if(pa&&(ga=null),Eo=0,pa=!1,25<=h)throw Error(s(301));if(h+=1,gt=Be=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=vs,m=i(a,l)}while(pa);return m}function T0(){var n=S.H,i=n.useState()[0];return i=typeof i.then=="function"?So(i):i,n=n.useState()[0],(Be!==null?Be.memoizedState:null)!==n&&(Se.flags|=1024),i}function zh(){var n=fc!==0;return fc=0,n}function Fh(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Bh(n){if(dc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}dc=!1}bi=0,gt=Be=Se=null,pa=!1,Eo=fc=0,ga=null}function sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Se.memoizedState=gt=n:gt=gt.next=n,gt}function yt(){if(Be===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Be.next;var i=gt===null?Se.memoizedState:gt.next;if(i!==null)gt=i,Be=n;else{if(n===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Be=n,n={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},gt===null?Se.memoizedState=gt=n:gt=gt.next=n}return gt}var mc;mc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function So(n){var i=Eo;return Eo+=1,ga===null&&(ga=[]),n=_p(ga,n,i),i=Se,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?ys:wi),n}function pc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return So(n);if(n.$$typeof===U)return Kt(n)}throw Error(s(438,String(n)))}function qh(n){var i=null,a=Se.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),Se.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=ae;return i.index++,a}function Pr(n,i){return typeof i=="function"?i(n):i}function gc(n){var i=yt();return Hh(i,Be,n)}function Hh(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,m=l.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}i.baseQueue=h=m,l.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{i=h.next;var T=_=null,k=null,L=i,W=!1;do{var ee=L.lane&-536870913;if(ee!==L.lane?(ke&ee)===ee:(bi&ee)===ee){var H=L.revertLane;if(H===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),ee===fa&&(W=!0);else if((bi&H)===H){L=L.next,H===fa&&(W=!0);continue}else ee={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},k===null?(T=k=ee,_=m):k=k.next=ee,Se.lanes|=H,ki|=H;ee=L.action,gs&&a(m,ee),m=L.hasEagerState?L.eagerState:a(m,ee)}else H={lane:ee,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},k===null?(T=k=H,_=m):k=k.next=H,Se.lanes|=ee,ki|=ee;L=L.next}while(L!==null&&L!==i);if(k===null?_=m:k.next=T,!ln(m,n.memoizedState)&&(It=!0,W&&(a=ma,a!==null)))throw a;n.memoizedState=m,n.baseState=_,n.baseQueue=k,l.lastRenderedState=m}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function $h(n){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do m=n(m,_.action),_=_.next;while(_!==h);ln(m,i.memoizedState)||(It=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Dp(n,i,a){var l=Se,h=yt(),m=Me;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!ln((Be||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,Qh(Mp.bind(null,l,h,n),[n]),h.getSnapshot!==i||_||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,ya(9,Pp.bind(null,l,h,a,i),{destroy:void 0},null),Ke===null)throw Error(s(349));m||(bi&60)!==0||Op(l,i,a)}return a}function Op(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Se.updateQueue,i===null?(i=mc(),Se.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Pp(n,i,a,l){i.value=a,i.getSnapshot=l,Lp(i)&&Up(n)}function Mp(n,i,a){return a(function(){Lp(i)&&Up(n)})}function Lp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!ln(n,a)}catch{return!0}}function Up(n){var i=gi(n,2);i!==null&&Jt(i,n,2)}function Gh(n){var i=sn();if(typeof n=="function"){var a=n;if(n=a(),gs){Qn(!0);try{a()}finally{Qn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:n},i}function Vp(n,i,a,l){return n.baseState=a,Hh(n,Be,typeof l=="function"?l:Pr)}function E0(n,i,a,l,h){if(bc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};S.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,zp(i,m)):(m.next=a.next,i.pending=a.next=m)}}function zp(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var m=S.T,_={};S.T=_;try{var T=a(h,l),k=S.S;k!==null&&k(_,T),Fp(n,i,T)}catch(L){Kh(n,i,L)}finally{S.T=m}}else try{m=a(h,l),Fp(n,i,m)}catch(L){Kh(n,i,L)}}function Fp(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bp(n,i,l)},function(l){return Kh(n,i,l)}):Bp(n,i,a)}function Bp(n,i,a){i.status="fulfilled",i.value=a,qp(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,zp(n,a)))}function Kh(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,qp(i),i=i.next;while(i!==l)}n.action=null}function qp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Hp(n,i){return i}function $p(n,i){if(Me){var a=Ke.formState;if(a!==null){e:{var l=Se;if(Me){if(Vt){t:{for(var h=Vt,m=sr;h.nodeType!==8;){if(!m){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Vt=Fn(h.nextSibling),l=h.data==="F!";break e}}fs(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hp,lastRenderedState:i},a.queue=l,a=cg.bind(null,Se,l),l.dispatch=a,l=Gh(!1),m=Jh.bind(null,Se,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=E0.bind(null,Se,h,m,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function Gp(n){var i=yt();return Kp(i,Be,n)}function Kp(n,i,a){i=Hh(n,i,Hp)[0],n=gc(Pr)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?So(i):i;var l=yt(),h=l.queue,m=h.dispatch;return a!==l.memoizedState&&(Se.flags|=2048,ya(9,S0.bind(null,h,a),{destroy:void 0},null)),[i,m,n]}function S0(n,i){n.action=i}function Qp(n){var i=yt(),a=Be;if(a!==null)return Kp(i,a,n);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function ya(n,i,a,l){return n={tag:n,create:i,inst:a,deps:l,next:null},i=Se.updateQueue,i===null&&(i=mc(),Se.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Wp(){return yt().memoizedState}function yc(n,i,a,l){var h=sn();Se.flags|=n,h.memoizedState=ya(1|i,a,{destroy:void 0},l===void 0?null:l)}function vc(n,i,a,l){var h=yt();l=l===void 0?null:l;var m=h.memoizedState.inst;Be!==null&&l!==null&&Uh(l,Be.memoizedState.deps)?h.memoizedState=ya(i,a,m,l):(Se.flags|=n,h.memoizedState=ya(1|i,a,m,l))}function Yp(n,i){yc(8390656,8,n,i)}function Qh(n,i){vc(2048,8,n,i)}function Xp(n,i){return vc(4,2,n,i)}function Zp(n,i){return vc(4,4,n,i)}function Jp(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function eg(n,i,a){a=a!=null?a.concat([n]):null,vc(4,4,Jp.bind(null,i,n),a)}function Wh(){}function tg(n,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Uh(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function ng(n,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Uh(i,l[1]))return l[0];if(l=n(),gs){Qn(!0);try{n()}finally{Qn(!1)}}return a.memoizedState=[l,i],l}function Yh(n,i,a){return a===void 0||(bi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=iy(),Se.lanes|=n,ki|=n,a)}function rg(n,i,a,l){return ln(a,i)?a:da.current!==null?(n=Yh(n,a,l),ln(n,i)||(It=!0),n):(bi&42)===0?(It=!0,n.memoizedState=a):(n=iy(),Se.lanes|=n,ki|=n,i)}function ig(n,i,a,l,h){var m=le.p;le.p=m!==0&&8>m?m:8;var _=S.T,T={};S.T=T,Jh(n,!1,i,a);try{var k=h(),L=S.S;if(L!==null&&L(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=_0(k,l);Ao(n,i,W,dn(n))}else Ao(n,i,l,dn(n))}catch(ee){Ao(n,i,{then:function(){},status:"rejected",reason:ee},dn())}finally{le.p=m,S.T=_}}function A0(){}function Xh(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=sg(n).queue;ig(n,h,i,Ee,a===null?A0:function(){return ag(n),a(l)})}function sg(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:Ee},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function ag(n){var i=sg(n).next.queue;Ao(n,i,{},dn())}function Zh(){return Kt(Go)}function og(){return yt().memoizedState}function lg(){return yt().memoizedState}function j0(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();n=Ti(a);var l=Ei(i,n,a);l!==null&&(Jt(l,i,a),ko(l,i,a)),i={cache:Ph()},n.payload=i;return}i=i.return}}function C0(n,i,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bc(n)?ug(i,a):(a=Ch(n,i,a,l),a!==null&&(Jt(a,n,l),hg(a,i,l)))}function cg(n,i,a){var l=dn();Ao(n,i,a,l)}function Ao(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(n))ug(i,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,T=m(_,a);if(h.hasEagerState=!0,h.eagerState=T,ln(T,_))return nc(n,i,h,0),Ke===null&&tc(),!1}catch{}finally{}if(a=Ch(n,i,h,l),a!==null)return Jt(a,n,l),hg(a,i,l),!0}return!1}function Jh(n,i,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},bc(n)){if(i)throw Error(s(479))}else i=Ch(n,a,l,2),i!==null&&Jt(i,n,2)}function bc(n){var i=n.alternate;return n===Se||i!==null&&i===Se}function ug(n,i){pa=dc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function hg(n,i,a){if((a&4194176)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,ai(n,a)}}var ar={readContext:Kt,use:pc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};ar.useCacheRefresh=mt,ar.useMemoCache=mt,ar.useHostTransitionStatus=mt,ar.useFormState=mt,ar.useActionState=mt,ar.useOptimistic=mt;var ys={readContext:Kt,use:pc,useCallback:function(n,i){return sn().memoizedState=[n,i===void 0?null:i],n},useContext:Kt,useEffect:Yp,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,yc(4194308,4,Jp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return yc(4194308,4,n,i)},useInsertionEffect:function(n,i){yc(4,2,n,i)},useMemo:function(n,i){var a=sn();i=i===void 0?null:i;var l=n();if(gs){Qn(!0);try{n()}finally{Qn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=sn();if(a!==void 0){var h=a(i);if(gs){Qn(!0);try{a(i)}finally{Qn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=C0.bind(null,Se,n),[l.memoizedState,n]},useRef:function(n){var i=sn();return n={current:n},i.memoizedState=n},useState:function(n){n=Gh(n);var i=n.queue,a=cg.bind(null,Se,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Wh,useDeferredValue:function(n,i){var a=sn();return Yh(a,n,i)},useTransition:function(){var n=Gh(!1);return n=ig.bind(null,Se,n.queue,!0,!1),sn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Se,h=sn();if(Me){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ke===null)throw Error(s(349));(ke&60)!==0||Op(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,Yp(Mp.bind(null,l,m,n),[n]),l.flags|=2048,ya(9,Pp.bind(null,l,m,a,i),{destroy:void 0},null),a},useId:function(){var n=sn(),i=Ke.identifierPrefix;if(Me){var a=Dr,l=Rr;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=x0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=j0.bind(null,Se)}};ys.useMemoCache=qh,ys.useHostTransitionStatus=Zh,ys.useFormState=$p,ys.useActionState=$p,ys.useOptimistic=function(n){var i=sn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Jh.bind(null,Se,!0,a),a.dispatch=i,[n,i]};var wi={readContext:Kt,use:pc,useCallback:tg,useContext:Kt,useEffect:Qh,useImperativeHandle:eg,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:ng,useReducer:gc,useRef:Wp,useState:function(){return gc(Pr)},useDebugValue:Wh,useDeferredValue:function(n,i){var a=yt();return rg(a,Be.memoizedState,n,i)},useTransition:function(){var n=gc(Pr)[0],i=yt().memoizedState;return[typeof n=="boolean"?n:So(n),i]},useSyncExternalStore:Dp,useId:og};wi.useCacheRefresh=lg,wi.useMemoCache=qh,wi.useHostTransitionStatus=Zh,wi.useFormState=Gp,wi.useActionState=Gp,wi.useOptimistic=function(n,i){var a=yt();return Vp(a,Be,n,i)};var vs={readContext:Kt,use:pc,useCallback:tg,useContext:Kt,useEffect:Qh,useImperativeHandle:eg,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:ng,useReducer:$h,useRef:Wp,useState:function(){return $h(Pr)},useDebugValue:Wh,useDeferredValue:function(n,i){var a=yt();return Be===null?Yh(a,n,i):rg(a,Be.memoizedState,n,i)},useTransition:function(){var n=$h(Pr)[0],i=yt().memoizedState;return[typeof n=="boolean"?n:So(n),i]},useSyncExternalStore:Dp,useId:og};vs.useCacheRefresh=lg,vs.useMemoCache=qh,vs.useHostTransitionStatus=Zh,vs.useFormState=Qp,vs.useActionState=Qp,vs.useOptimistic=function(n,i){var a=yt();return Be!==null?Vp(a,Be,n,i):(a.baseState=n,[n,a.queue.dispatch])};function ed(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:N({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var td={isMounted:function(n){return(n=n._reactInternals)?te(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var l=dn(),h=Ti(l);h.payload=i,a!=null&&(h.callback=a),i=Ei(n,h,l),i!==null&&(Jt(i,n,l),ko(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=dn(),h=Ti(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ei(n,h,l),i!==null&&(Jt(i,n,l),ko(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=dn(),l=Ti(a);l.tag=2,i!=null&&(l.callback=i),i=Ei(n,l,a),i!==null&&(Jt(i,n,a),ko(i,n,a))}};function dg(n,i,a,l,h,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!fo(a,l)||!fo(h,m):!0}function fg(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&td.enqueueReplaceState(i,i.state,null)}function bs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=N({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var wc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function mg(n){wc(n)}function pg(n){console.error(n)}function gg(n){wc(n)}function _c(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function yg(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(n,i,a){return a=Ti(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(n,i)},a}function vg(n){return n=Ti(n),n.tag=3,n}function bg(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;n.payload=function(){return h(m)},n.callback=function(){yg(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){yg(i,a,l),typeof h!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function k0(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Co(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 13:return fr===null?Ld():a.alternate===null&&st===0&&(st=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Rh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(n,l,h)),!1;case 22:return a.flags|=65536,l===Rh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(n,l,h)),!1}throw Error(s(435,a.tag))}return Vd(n,l,h),Ld(),!1}if(Me)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Ih&&(n=Error(s(422),{cause:l}),yo(_n(n,a)))):(l!==Ih&&(i=Error(s(423),{cause:l}),yo(_n(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=_n(l,a),h=nd(n.stateNode,l,h),yd(n,h),st!==4&&(st=2)),!1;var m=Error(s(520),{cause:l});if(m=_n(m,a),Lo===null?Lo=[m]:Lo.push(m),st!==4&&(st=2),i===null)return!0;l=_n(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=nd(a.stateNode,l,n),yd(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ni===null||!Ni.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vg(h),bg(h,n,a,l),yd(a,h),!1}a=a.return}while(a!==null);return!1}var wg=Error(s(461)),It=!1;function zt(n,i,a,l){i.child=n===null?Sp(i,null,a,l):ms(i,n.child,a,l)}function _g(n,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return _s(i),l=Vh(n,i,a,_,m,h),T=zh(),n!==null&&!It?(Fh(n,i,h),Mr(n,i,h)):(Me&&T&&kh(i),i.flags|=1,zt(n,i,l,h),i.child)}function xg(n,i,a,l,h){if(n===null){var m=a.type;return typeof m=="function"&&!Sd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,Tg(n,i,m,l,h)):(n=Ac(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!hd(n,h)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:fo,a(_,l)&&n.ref===i.ref)return Mr(n,i,h)}return i.flags|=1,n=Ci(m,l),n.ref=i.ref,n.return=i,i.child=n}function Tg(n,i,a,l,h){if(n!==null){var m=n.memoizedProps;if(fo(m,l)&&n.ref===i.ref)if(It=!1,i.pendingProps=l=m,hd(n,h))(n.flags&131072)!==0&&(It=!0);else return i.lanes=n.lanes,Mr(n,i,h)}return rd(n,i,a,l,h)}function Eg(n,i,a){var l=i.pendingProps,h=l.children,m=(i.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(jo(n,i),l.mode==="hidden"||m){if((i.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,n!==null){for(h=i.child=n.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return Sg(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&hc(i,_!==null?_.cachePool:null),_!==null?Ap(i,_):Dh(),jp(i);else return i.lanes=i.childLanes=536870912,Sg(n,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(hc(i,_.cachePool),Ap(i,_),vi(),i.memoizedState=null):(n!==null&&hc(i,null),Dh(),vi());return zt(n,i,h,a),i.child}function Sg(n,i,a,l){var h=Lh();return h=h===null?null:{parent:St._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&hc(i,null),Dh(),jp(i),n!==null&&Co(n,i,l,!0),null}function jo(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function rd(n,i,a,l,h){return _s(i),a=Vh(n,i,a,l,void 0,h),l=zh(),n!==null&&!It?(Fh(n,i,h),Mr(n,i,h)):(Me&&l&&kh(i),i.flags|=1,zt(n,i,a,h),i.child)}function Ag(n,i,a,l,h,m){return _s(i),i.updateQueue=null,a=Rp(i,l,a,h),Ip(n),l=zh(),n!==null&&!It?(Fh(n,i,m),Mr(n,i,m)):(Me&&l&&kh(i),i.flags|=1,zt(n,i,a,m),i.child)}function jg(n,i,a,l,h){if(_s(i),i.stateNode===null){var m=la,_=a.contextType;typeof _=="object"&&_!==null&&(m=Kt(_)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=td,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},pd(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Kt(_):la,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ed(i,a,_,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&td.enqueueReplaceState(m,m.state,null),Io(i,l,m,h),No(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var T=i.memoizedProps,k=bs(a,T);m.props=k;var L=m.context,W=a.contextType;_=la,typeof W=="object"&&W!==null&&(_=Kt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||L!==_)&&fg(i,m,l,_),xi=!1;var H=i.memoizedState;m.state=H,Io(i,l,m,h),No(),L=i.memoizedState,T||H!==L||xi?(typeof ee=="function"&&(ed(i,a,ee,l),L=i.memoizedState),(k=xi||dg(i,a,k,l,H,L,_))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),m.props=l,m.state=L,m.context=_,l=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,gd(n,i),_=i.memoizedProps,W=bs(a,_),m.props=W,ee=i.pendingProps,H=m.context,L=a.contextType,k=la,typeof L=="object"&&L!==null&&(k=Kt(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ee||H!==k)&&fg(i,m,l,k),xi=!1,H=i.memoizedState,m.state=H,Io(i,l,m,h),No();var Q=i.memoizedState;_!==ee||H!==Q||xi||n!==null&&n.dependencies!==null&&xc(n.dependencies)?(typeof T=="function"&&(ed(i,a,T,l),Q=i.memoizedState),(W=xi||dg(i,a,W,l,H,Q,k)||n!==null&&n.dependencies!==null&&xc(n.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=k,l=W):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,jo(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=ms(i,n.child,null,h),i.child=ms(i,null,a,h)):zt(n,i,a,h),i.memoizedState=m.state,n=i.child):n=Mr(n,i,h),n}function Cg(n,i,a,l){return go(),i.flags|=256,zt(n,i,a,l),i.child}var id={dehydrated:null,treeContext:null,retryLane:0};function sd(n){return{baseLanes:n,cachePool:Np()}}function ad(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Cn),n}function kg(n,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Et.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Me){if(h?yi(i):vi(),Me){var T=Vt,k;if(k=T){e:{for(k=T,T=sr;k.nodeType!==8;){if(!T){T=null;break e}if(k=Fn(k.nextSibling),k===null){T=null;break e}}T=k}T!==null?(i.memoizedState={dehydrated:T,treeContext:hs!==null?{id:Rr,overflow:Dr}:null,retryLane:536870912},k=jn(18,null,null,0),k.stateNode=T,k.return=i,i.child=k,Zt=i,Vt=null,k=!0):k=!1}k||fs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Or(i)}return T=l.children,l=l.fallback,h?(vi(),h=i.mode,T=ld({mode:"hidden",children:T},h),l=Ts(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=sd(a),h.childLanes=ad(n,_,a),i.memoizedState=id,l):(yi(i),od(i,T))}if(k=n.memoizedState,k!==null&&(T=k.dehydrated,T!==null)){if(m)i.flags&256?(yi(i),i.flags&=-257,i=cd(n,i,a)):i.memoizedState!==null?(vi(),i.child=n.child,i.flags|=128,i=null):(vi(),h=l.fallback,T=i.mode,l=ld({mode:"visible",children:l.children},T),h=Ts(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ms(i,n.child,null,a),l=i.child,l.memoizedState=sd(a),l.childLanes=ad(n,_,a),i.memoizedState=id,i=h);else if(yi(i),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var L=_.dgst;_=L,l=Error(s(419)),l.stack="",l.digest=_,yo({value:l,source:null,stack:null}),i=cd(n,i,a)}else if(It||Co(n,i,a,!1),_=(a&n.childLanes)!==0,It||_){if(_=Ke,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==k.retryLane)throw k.retryLane=l,gi(n,l),Jt(_,n,l),wg}T.data==="$?"||Ld(),i=cd(n,i,a)}else T.data==="$?"?(i.flags|=128,i.child=n.child,i=H0.bind(null,n),T._reactRetry=i,i=null):(n=k.treeContext,Vt=Fn(T.nextSibling),Zt=i,Me=!0,Vn=null,sr=!1,n!==null&&(xn[Tn++]=Rr,xn[Tn++]=Dr,xn[Tn++]=hs,Rr=n.id,Dr=n.overflow,hs=i),i=od(i,l.children),i.flags|=4096);return i}return h?(vi(),h=l.fallback,T=i.mode,k=n.child,L=k.sibling,l=Ci(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&31457280,L!==null?h=Ci(L,h):(h=Ts(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=n.child.memoizedState,T===null?T=sd(a):(k=T.cachePool,k!==null?(L=St._currentValue,k=k.parent!==L?{parent:L,pool:L}:k):k=Np(),T={baseLanes:T.baseLanes|a,cachePool:k}),h.memoizedState=T,h.childLanes=ad(n,_,a),i.memoizedState=id,l):(yi(i),a=n.child,n=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function od(n,i){return i=ld({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function ld(n,i){return ty(n,i,0,null)}function cd(n,i,a){return ms(i,n.child,null,a),n=od(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Ng(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),fd(n.return,i,a)}function ud(n,i,a,l,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function Ig(n,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;if(zt(n,i,l.children,a),l=Et.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ng(n,a,i);else if(n.tag===19)Ng(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Fe(Et,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&uc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ud(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&uc(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}ud(i,!0,a,null,m);break;case"together":ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ki|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Co(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Ci(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Ci(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function hd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&xc(n)))}function N0(n,i,a){switch(i.tag){case 3:ei(i,i.stateNode.containerInfo),_i(i,St,n.memoizedState.cache),go();break;case 27:case 5:$a(i);break;case 4:ei(i,i.stateNode.containerInfo);break;case 10:_i(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?kg(n,i,a):(yi(i),n=Mr(n,i,a),n!==null?n.sibling:null);yi(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Co(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ig(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Fe(Et,Et.current),l)break;return null;case 22:case 23:return i.lanes=0,Eg(n,i,a);case 24:_i(i,St,n.memoizedState.cache)}return Mr(n,i,a)}function Rg(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)It=!0;else{if(!hd(n,a)&&(i.flags&128)===0)return It=!1,N0(n,i,a);It=(n.flags&131072)!==0}else It=!1,Me&&(i.flags&1048576)!==0&&gp(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Sd(l)?(n=bs(l,n),i.tag=1,i=jg(null,i,l,n,a)):(i.tag=0,i=rd(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===M){i.tag=11,i=_g(null,i,l,n,a);break e}else if(h===G){i.tag=14,i=xg(null,i,l,n,a);break e}}throw i=j(l)||l,Error(s(306,i,""))}}return i;case 0:return rd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=bs(l,i.pendingProps),jg(n,i,l,h,a);case 3:e:{if(ei(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var m=i.pendingProps;h=i.memoizedState,l=h.element,gd(n,i),Io(i,m,null,a);var _=i.memoizedState;if(m=_.cache,_i(i,St,m),m!==h.cache&&md(i,[St],a,!0),No(),m=_.element,h.isDehydrated)if(h={element:m,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Cg(n,i,m,a);break e}else if(m!==l){l=_n(Error(s(424)),i),yo(l),i=Cg(n,i,m,a);break e}else for(Vt=Fn(i.stateNode.containerInfo.firstChild),Zt=i,Me=!0,Vn=null,sr=!0,a=Sp(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(go(),m===l){i=Mr(n,i,a);break e}zt(n,i,m,a)}i=i.child}return i;case 26:return jo(n,i),n===null?(a=Py(i.type,null,i.pendingProps,null))?i.memoizedState=a:Me||(a=i.type,n=i.pendingProps,l=Uc(fn.current).createElement(a),l[jt]=i,l[xt]=n,Ft(l,a,n),Ze(l),i.stateNode=l):i.memoizedState=Py(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return $a(i),n===null&&Me&&(l=i.stateNode=Ry(i.type,i.pendingProps,fn.current),Zt=i,sr=!0,Vt=Fn(l.firstChild)),l=i.pendingProps.children,n!==null||Me?zt(n,i,l,a):i.child=ms(i,null,l,a),jo(n,i),i.child;case 5:return n===null&&Me&&((h=l=Vt)&&(l=ax(l,i.type,i.pendingProps,sr),l!==null?(i.stateNode=l,Zt=i,Vt=Fn(l.firstChild),sr=!1,h=!0):h=!1),h||fs(i)),$a(i),h=i.type,m=i.pendingProps,_=n!==null?n.memoizedProps:null,l=m.children,Xd(h,m)?l=null:_!==null&&Xd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Vh(n,i,T0,null,null,a),Go._currentValue=h),jo(n,i),zt(n,i,l,a),i.child;case 6:return n===null&&Me&&((n=a=Vt)&&(a=ox(a,i.pendingProps,sr),a!==null?(i.stateNode=a,Zt=i,Vt=null,n=!0):n=!1),n||fs(i)),null;case 13:return kg(n,i,a);case 4:return ei(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=ms(i,null,l,a):zt(n,i,l,a),i.child;case 11:return _g(n,i,i.type,i.pendingProps,a);case 7:return zt(n,i,i.pendingProps,a),i.child;case 8:return zt(n,i,i.pendingProps.children,a),i.child;case 12:return zt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,_i(i,i.type,l.value),zt(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,_s(i),h=Kt(h),l=l(h),i.flags|=1,zt(n,i,l,a),i.child;case 14:return xg(n,i,i.type,i.pendingProps,a);case 15:return Tg(n,i,i.type,i.pendingProps,a);case 19:return Ig(n,i,a);case 22:return Eg(n,i,a);case 24:return _s(i),l=Kt(St),n===null?(h=Lh(),h===null&&(h=Ke,m=Ph(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},pd(i),_i(i,St,h)):((n.lanes&a)!==0&&(gd(n,i),Io(i,null,null,a),No()),h=n.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_i(i,St,l)):(l=m.cache,_i(i,St,l),l!==h.cache&&md(i,[St],a,!0))),zt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var dd=Oe(null),ws=null,Lr=null;function _i(n,i,a){Fe(dd,i._currentValue),i._currentValue=a}function Ur(n){n._currentValue=dd.current,rt(dd)}function fd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function md(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var _=h.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=h;for(var k=0;k<i.length;k++)if(T.context===i[k]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),fd(m.return,a,n),l||(_=null);break e}m=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),fd(_,a,n),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===n){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Co(n,i,a,l){n=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;ln(h.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(h===Jr.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Go):n=[Go])}h=h.return}n!==null&&md(i,n,a,l),i.flags|=262144}function xc(n){for(n=n.firstContext;n!==null;){if(!ln(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function _s(n){ws=n,Lr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return Dg(ws,n)}function Tc(n,i){return ws===null&&_s(n),Dg(n,i)}function Dg(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Lr===null){if(n===null)throw Error(s(308));Lr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Lr=Lr.next=i;return a}var xi=!1;function pd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ti(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ei(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=rc(n),mp(n,null,a),i}return nc(n,l,i,a),rc(n)}function ko(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,ai(n,a)}}function yd(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var vd=!1;function No(){if(vd){var n=ma;if(n!==null)throw n}}function Io(n,i,a,l){vd=!1;var h=n.updateQueue;xi=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var k=T,L=k.next;k.next=null,_===null?m=L:_.next=L,_=k;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=L:T.next=L,W.lastBaseUpdate=k))}if(m!==null){var ee=h.baseState;_=0,W=L=k=null,T=m;do{var H=T.lane&-536870913,Q=H!==T.lane;if(Q?(ke&H)===H:(l&H)===H){H!==0&&H===fa&&(vd=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=n,xe=T;H=i;var at=a;switch(xe.tag){case 1:if(fe=xe.payload,typeof fe=="function"){ee=fe.call(at,ee,H);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=xe.payload,H=typeof fe=="function"?fe.call(at,ee,H):fe,H==null)break e;ee=N({},ee,H);break e;case 2:xi=!0}}H=T.callback,H!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(L=W=Q,k=ee):W=W.next=Q,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);W===null&&(k=ee),h.baseState=k,h.firstBaseUpdate=L,h.lastBaseUpdate=W,m===null&&(h.shared.lanes=0),ki|=_,n.lanes=_,n.memoizedState=ee}}function Og(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Pg(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Og(a[n],i)}function Ro(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){He(i,i.return,T)}}function Si(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&n)===n){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var k=a;try{T()}catch(L){He(h,k,L)}}}l=l.next}while(l!==m)}}catch(L){He(i,i.return,L)}}function Mg(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Pg(i,a)}catch(l){He(n,n.return,l)}}}function Lg(n,i,a){a.props=bs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){He(n,i,l)}}function xs(n,i){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?n.refCleanup=a(h):a.current=h}}catch(m){He(n,i,m)}}function cn(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){He(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){He(n,i,h)}else a.current=null}function Ug(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){He(n,n.return,h)}}function Vg(n,i,a){try{var l=n.stateNode;tx(l,n.type,a,i),l[xt]=i}catch(h){He(n,n.return,h)}}function zg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function bd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||zg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Lc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(wd(n,i,a),n=n.sibling;n!==null;)wd(n,i,a),n=n.sibling}function Ec(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ec(n,i,a),n=n.sibling;n!==null;)Ec(n,i,a),n=n.sibling}var Vr=!1,it=!1,_d=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,Rt=null,Bg=!1;function I0(n,i){if(n=n.containerInfo,Wd=Hc,n=sp(n),Th(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,T=-1,k=-1,L=0,W=0,ee=n,H=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==m||l!==0&&ee.nodeType!==3||(k=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)H=ee,ee=Q;for(;;){if(ee===n)break t;if(H===a&&++L===h&&(T=_),H===m&&++W===l&&(k=_),(Q=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=Q}a=T===-1||k===-1?null:{start:T,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:n,selectionRange:a},Hc=!1,Rt=i;Rt!==null;)if(i=Rt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Rt=n;else for(;Rt!==null;){switch(i=Rt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var fe=bs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(fe,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(xe){He(a,a.return,xe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)ef(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ef(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Rt=n;break}Rt=i.return}return fe=Bg,Bg=!1,fe}function qg(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fr(n,a),l&4&&Ro(5,a);break;case 1:if(Fr(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(T){He(a,a.return,T)}else{var h=bs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){He(a,a.return,T)}}l&64&&Mg(a),l&512&&xs(a,a.return);break;case 3:if(Fr(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Pg(l,n)}catch(T){He(a,a.return,T)}}break;case 26:Fr(n,a),l&512&&xs(a,a.return);break;case 27:case 5:Fr(n,a),i===null&&l&4&&Ug(a),l&512&&xs(a,a.return);break;case 12:Fr(n,a);break;case 13:Fr(n,a),l&4&&Gg(n,a);break;case 22:if(h=a.memoizedState!==null||Vr,!h){i=i!==null&&i.memoizedState!==null||it;var m=Vr,_=it;Vr=h,(it=i)&&!_?Ai(n,a,(a.subtreeFlags&8772)!==0):Fr(n,a),Vr=m,it=_}l&512&&(a.memoizedProps.mode==="manual"?xs(a,a.return):cn(a,a.return));break;default:Fr(n,a)}}function Hg(n){var i=n.alternate;i!==null&&(n.alternate=null,Hg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Zi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var vt=null,un=!1;function zr(n,i,a){for(a=a.child;a!==null;)$g(n,i,a),a=a.sibling}function $g(n,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 26:it||cn(a,i),zr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||cn(a,i);var l=vt,h=un;for(vt=a.stateNode,zr(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Zi(a),vt=l,un=h;break;case 5:it||cn(a,i);case 6:h=vt;var m=un;if(vt=null,zr(n,i,a),vt=h,un=m,vt!==null)if(un)try{n=vt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(_){He(a,i,_)}else try{vt.removeChild(a.stateNode)}catch(_){He(a,i,_)}break;case 18:vt!==null&&(un?(i=vt,a=a.stateNode,i.nodeType===8?Jd(i.parentNode,a):i.nodeType===1&&Jd(i,a),Yo(i)):Jd(vt,a.stateNode));break;case 4:l=vt,h=un,vt=a.stateNode.containerInfo,un=!0,zr(n,i,a),vt=l,un=h;break;case 0:case 11:case 14:case 15:it||Si(2,a,i),it||Si(4,a,i),zr(n,i,a);break;case 1:it||(cn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lg(a,i,l)),zr(n,i,a);break;case 21:zr(n,i,a);break;case 22:it||cn(a,i),it=(l=it)||a.memoizedState!==null,zr(n,i,a),it=l;break;default:zr(n,i,a)}}function Gg(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yo(n)}catch(a){He(i,i.return,a)}}function R0(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Fg),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Fg),i;default:throw Error(s(435,n.tag))}}function xd(n,i){var a=R0(n);i.forEach(function(l){var h=$0.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Sn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=n,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:vt=T.stateNode,un=!1;break e;case 3:vt=T.stateNode.containerInfo,un=!0;break e;case 4:vt=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(vt===null)throw Error(s(160));$g(m,_,h),vt=null,un=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Kg(i,n),i=i.sibling}var zn=null;function Kg(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Sn(i,n),An(n),l&4&&(Si(3,n,n.return),Ro(3,n),Si(5,n,n.return));break;case 1:Sn(i,n),An(n),l&512&&(it||a===null||cn(a,a.return)),l&64&&Vr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=zn;if(Sn(i,n),An(n),l&512&&(it||a===null||cn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[li]||m[jt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Ft(m,l,a),m[jt]=n,Ze(m),l=m;break e;case"link":var _=Uy("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(m=_[T],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}m=h.createElement(l),Ft(m,l,a),h.head.appendChild(m);break;case"meta":if(_=Uy("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(m=_[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}m=h.createElement(l),Ft(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[jt]=n,Ze(m),l=m}n.stateNode=l}else Vy(h,n.type,n.stateNode);else n.stateNode=Ly(h,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Vy(h,n.type,n.stateNode):Ly(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Vg(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){h=n.stateNode,m=n.memoizedProps;try{for(var k=h.firstChild;k;){var L=k.nextSibling,W=k.nodeName;k[li]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=L}for(var ee=n.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);Ft(h,ee,m),h[jt]=n,h[xt]=m}catch(fe){He(n,n.return,fe)}}case 5:if(Sn(i,n),An(n),l&512&&(it||a===null||cn(a,a.return)),n.flags&32){h=n.stateNode;try{gn(h,"")}catch(fe){He(n,n.return,fe)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Vg(n,h,a!==null?a.memoizedProps:h)),l&1024&&(_d=!0);break;case 6:if(Sn(i,n),An(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(fe){He(n,n.return,fe)}}break;case 3:if(Fc=null,h=zn,zn=Vc(i.containerInfo),Sn(i,n),zn=h,An(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yo(i.containerInfo)}catch(fe){He(n,n.return,fe)}_d&&(_d=!1,Qg(n));break;case 4:l=zn,zn=Vc(n.stateNode.containerInfo),Sn(i,n),An(n),zn=l;break;case 12:Sn(i,n),An(n);break;case 13:Sn(i,n),An(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Id=nn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,xd(n,l)));break;case 22:if(l&512&&(it||a===null||cn(a,a.return)),k=n.memoizedState!==null,L=a!==null&&a.memoizedState!==null,W=Vr,ee=it,Vr=W||k,it=ee||L,Sn(i,n),it=ee,Vr=W,An(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=k?i._visibility&-2:i._visibility|1,k&&(i=Vr||it,a===null||L||i||va(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(h=L.stateNode,k)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=L.stateNode,T=L.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(fe){He(L,L.return,fe)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=k?"":L.memoizedProps}catch(fe){He(L,L.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xd(n,a))));break;case 19:Sn(i,n),An(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,xd(n,l)));break;case 21:break;default:Sn(i,n),An(n)}}function An(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(zg(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,m=bd(n);Ec(n,m,h);break;case 5:var _=l.stateNode;l.flags&32&&(gn(_,""),l.flags&=-33);var T=bd(n);Ec(n,T,_);break;case 3:case 4:var k=l.stateNode.containerInfo,L=bd(n);wd(n,L,k);break;default:throw Error(s(161))}}}catch(W){He(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Qg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Qg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Fr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qg(n,i.alternate,i),i=i.sibling}function va(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Si(4,i,i.return),va(i);break;case 1:cn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Lg(i,i.return,a),va(i);break;case 26:case 27:case 5:cn(i,i.return),va(i);break;case 22:cn(i,i.return),i.memoizedState===null&&va(i);break;default:va(i)}n=n.sibling}}function Ai(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:Ai(h,m,a),Ro(4,m);break;case 1:if(Ai(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){He(l,l.return,L)}if(l=m,h=l.updateQueue,h!==null){var T=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Og(k[h],T)}catch(L){He(l,l.return,L)}}a&&_&64&&Mg(m),xs(m,m.return);break;case 26:case 27:case 5:Ai(h,m,a),a&&l===null&&_&4&&Ug(m),xs(m,m.return);break;case 12:Ai(h,m,a);break;case 13:Ai(h,m,a),a&&_&4&&Gg(h,m);break;case 22:m.memoizedState===null&&Ai(h,m,a),xs(m,m.return);break;default:Ai(h,m,a)}i=i.sibling}}function Td(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&xo(a))}function Ed(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&xo(n))}function ji(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wg(n,i,a,l),i=i.sibling}function Wg(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ji(n,i,a,l),h&2048&&Ro(9,i);break;case 3:ji(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&xo(n)));break;case 12:if(h&2048){ji(n,i,a,l),n=i.stateNode;try{var m=i.memoizedProps,_=m.id,T=m.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){He(i,i.return,k)}}else ji(n,i,a,l);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?ji(n,i,a,l):Do(n,i):m._visibility&4?ji(n,i,a,l):(m._visibility|=4,ba(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Td(i.alternate,i);break;case 24:ji(n,i,a,l),h&2048&&Ed(i.alternate,i);break;default:ji(n,i,a,l)}}function ba(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,_=i,T=a,k=l,L=_.flags;switch(_.tag){case 0:case 11:case 15:ba(m,_,T,k,h),Ro(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&4?ba(m,_,T,k,h):Do(m,_):(W._visibility|=4,ba(m,_,T,k,h)),h&&L&2048&&Td(_.alternate,_);break;case 24:ba(m,_,T,k,h),h&&L&2048&&Ed(_.alternate,_);break;default:ba(m,_,T,k,h)}i=i.sibling}}function Do(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:Do(a,l),h&2048&&Td(l.alternate,l);break;case 24:Do(a,l),h&2048&&Ed(l.alternate,l);break;default:Do(a,l)}i=i.sibling}}var Oo=8192;function wa(n){if(n.subtreeFlags&Oo)for(n=n.child;n!==null;)Yg(n),n=n.sibling}function Yg(n){switch(n.tag){case 26:wa(n),n.flags&Oo&&n.memoizedState!==null&&wx(zn,n.memoizedState,n.memoizedProps);break;case 5:wa(n);break;case 3:case 4:var i=zn;zn=Vc(n.stateNode.containerInfo),wa(n),zn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Oo,Oo=16777216,wa(n),Oo=i):wa(n));break;default:wa(n)}}function Xg(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Po(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Rt=l,Jg(l,n)}Xg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zg(n),n=n.sibling}function Zg(n){switch(n.tag){case 0:case 11:case 15:Po(n),n.flags&2048&&Si(9,n,n.return);break;case 3:Po(n);break;case 12:Po(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Sc(n)):Po(n);break;default:Po(n)}}function Sc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Rt=l,Jg(l,n)}Xg(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Si(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Sc(i));break;default:Sc(i)}n=n.sibling}}function Jg(n,i){for(;Rt!==null;){var a=Rt;switch(a.tag){case 0:case 11:case 15:Si(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Rt=l;else e:for(a=n;Rt!==null;){l=Rt;var h=l.sibling,m=l.return;if(Hg(l),l===a){Rt=null;break e}if(h!==null){h.return=m,Rt=h;break e}Rt=m}}}function D0(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,i,a,l){return new D0(n,i,a,l)}function Sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ci(n,i){var a=n.alternate;return a===null?(a=jn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ey(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Ac(n,i,a,l,h,m){var _=0;if(l=n,typeof n=="function")Sd(n)&&(_=1);else if(typeof n=="string")_=vx(n,a,Qt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Ts(a.children,h,m,i);case v:_=8,h|=24;break;case x:return n=jn(12,a,i,h|2),n.elementType=x,n.lanes=m,n;case K:return n=jn(13,a,i,h),n.elementType=K,n.lanes=m,n;case q:return n=jn(19,a,i,h),n.elementType=q,n.lanes=m,n;case Y:return ty(a,h,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:case U:_=10;break e;case C:_=9;break e;case M:_=11;break e;case G:_=14;break e;case Z:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=jn(_,a,i,h),i.elementType=n,i.type=l,i.lanes=m,i}function Ts(n,i,a,l){return n=jn(7,n,l,i),n.lanes=a,n}function ty(n,i,a,l){n=jn(22,n,l,i),n.elementType=Y,n.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=h._current;if(m===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var _=gi(m,2);_!==null&&(h._pendingVisibility|=2,Jt(_,m,2))}},attach:function(){var m=h._current;if(m===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var _=gi(m,2);_!==null&&(h._pendingVisibility&=-3,Jt(_,m,2))}}};return n.stateNode=h,n}function Ad(n,i,a){return n=jn(6,n,null,i),n.lanes=a,n}function jd(n,i,a){return i=jn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Br(n){n.flags|=4}function ny(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!zy(i)){if(i=En.current,i!==null&&((ke&4194176)===ke?fr!==null:(ke&62914560)!==ke&&(ke&536870912)===0||i!==fr))throw bo=Rh,bp;n.flags|=8192}}function jc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?ii():536870912,n.lanes|=i,xa|=i)}function Mo(n,i){if(!Me)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Je(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function O0(n,i,a){var l=i.pendingProps;switch(Nh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(i),null;case 1:return Je(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ur(St),_r(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(po(i)?Br(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vn!==null&&(Pd(Vn),Vn=null))),Je(i),null;case 26:return a=i.memoizedState,n===null?(Br(i),a!==null?(Je(i),ny(i,a)):(Je(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Br(i),Je(i),ny(i,a)):(Je(i),i.flags&=-16777217):(n.memoizedProps!==l&&Br(i),Je(i),i.flags&=-16777217),null;case 27:Fs(i),a=fn.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Br(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Je(i),null}n=Qt.current,po(i)?yp(i):(n=Ry(h,l,a),i.stateNode=n,Br(i))}return Je(i),null;case 5:if(Fs(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Br(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Je(i),null}if(n=Qt.current,po(i))yp(i);else{switch(h=Uc(fn.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[jt]=i,n[xt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(Ft(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Br(i)}}return Je(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Br(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=fn.current,po(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[jt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ay(n.nodeValue,a)),n||fs(i)}else n=Uc(n).createTextNode(l),n[jt]=i,i.stateNode=n}return Je(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=po(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[jt]=i}else go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),h=!1}else Vn!==null&&(Pd(Vn),Vn=null),h=!0;if(!h)return i.flags&256?(Or(i),i):(Or(i),null)}if(Or(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),jc(i,i.updateQueue),Je(i),null;case 4:return _r(),n===null&&Gd(i.stateNode.containerInfo),Je(i),null;case 10:return Ur(i.type),Je(i),null;case 19:if(rt(Et),h=i.memoizedState,h===null)return Je(i),null;if(l=(i.flags&128)!==0,m=h.rendering,m===null)if(l)Mo(h,!1);else{if(st!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=uc(n),m!==null){for(i.flags|=128,Mo(h,!1),n=m.updateQueue,i.updateQueue=n,jc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)ey(a,n),a=a.sibling;return Fe(Et,Et.current&1|2),i.child}n=n.sibling}h.tail!==null&&nn()>Cc&&(i.flags|=128,l=!0,Mo(h,!1),i.lanes=4194304)}else{if(!l)if(n=uc(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,jc(i,n),Mo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Me)return Je(i),null}else 2*nn()-h.renderingStartTime>Cc&&a!==536870912&&(i.flags|=128,l=!0,Mo(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(n=h.last,n!==null?n.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,n=Et.current,Fe(Et,l?n&1|2:n&1),i):(Je(i),null);case 22:case 23:return Or(i),Oh(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Je(i),i.subtreeFlags&6&&(i.flags|=8192)):Je(i),a=i.updateQueue,a!==null&&jc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&rt(ps),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ur(St),Je(i),null;case 25:return null}throw Error(s(156,i.tag))}function P0(n,i){switch(Nh(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ur(St),_r(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Fs(i),null;case 13:if(Or(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));go()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return rt(Et),null;case 4:return _r(),null;case 10:return Ur(i.type),null;case 22:case 23:return Or(i),Oh(),n!==null&&rt(ps),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ur(St),null;case 25:return null;default:return null}}function ry(n,i){switch(Nh(i),i.tag){case 3:Ur(St),_r();break;case 26:case 27:case 5:Fs(i);break;case 4:_r();break;case 13:Or(i);break;case 19:rt(Et);break;case 10:Ur(i.type);break;case 22:case 23:Or(i),Oh(),n!==null&&rt(ps);break;case 24:Ur(St)}}var M0={getCacheForType:function(n){var i=Kt(St),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},L0=typeof WeakMap=="function"?WeakMap:Map,et=0,Ke=null,je=null,ke=0,Qe=0,hn=null,qr=!1,_a=!1,Cd=!1,Hr=0,st=0,ki=0,Es=0,kd=0,Cn=0,xa=0,Lo=null,or=null,Nd=!1,Id=0,Cc=1/0,kc=null,Ni=null,Nc=!1,Ss=null,Uo=0,Rd=0,Dd=null,Vo=0,Od=null;function dn(){if((et&2)!==0&&ke!==0)return ke&-ke;if(S.T!==null){var n=fa;return n!==0?n:Bd()}return Ml()}function iy(){Cn===0&&(Cn=(ke&536870912)===0||Me?Ya():536870912);var n=En.current;return n!==null&&(n.flags|=32),Cn}function Jt(n,i,a){(n===Ke&&Qe===2||n.cancelPendingCommit!==null)&&(Ta(n,0),$r(n,ke,Cn,!1)),ft(n,a),((et&2)===0||n!==Ke)&&(n===Ke&&((et&2)===0&&(Es|=a),st===4&&$r(n,ke,Cn,!1)),lr(n))}function sy(n,i,a){if((et&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&n.expiredLanes)===0||ri(n,i),h=l?z0(n,i):Ud(n,i,!0),m=l;do{if(h===0){_a&&!l&&$r(n,i,0,!1);break}else if(h===6)$r(n,i,0,!qr);else{if(a=n.current.alternate,m&&!U0(a)){h=Ud(n,i,!1),m=!1;continue}if(h===2){if(m=i,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=n;h=Lo;var k=T.current.memoizedState.isDehydrated;if(k&&(Ta(T,_).flags|=256),_=Ud(T,_,!1),_!==2){if(Cd&&!k){T.errorRecoveryDisabledLanes|=m,Es|=m,h=4;break e}m=or,or=h,m!==null&&Pd(m)}h=_}if(m=!1,h!==2)continue}}if(h===1){Ta(n,0),$r(n,i,0,!0);break}e:{switch(l=n,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){$r(l,i,Cn,!qr);break e}break;case 2:or=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(m=Id+300-nn(),10<m)){if($r(l,i,Cn,!qr),mn(l,0)!==0)break e;l.timeoutHandle=ky(ay.bind(null,l,a,or,kc,Nd,i,Cn,Es,xa,qr,2,-0,0),m);break e}ay(l,a,or,kc,Nd,i,Cn,Es,xa,qr,0,-0,0)}}break}while(!0);lr(n)}function Pd(n){or===null?or=n:or.push.apply(or,n)}function ay(n,i,a,l,h,m,_,T,k,L,W,ee,H){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&($o={stylesheets:null,count:0,unsuspend:bx},Yg(i),i=_x(),i!==null)){n.cancelPendingCommit=i(fy.bind(null,n,a,l,h,_,T,k,1,ee,H)),$r(n,m,_,!L);return}fy(n,a,l,h,_,T,k,W,ee,H)}function U0(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!ln(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $r(n,i,a,l){i&=~kd,i&=~Es,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var m=31-Wt(h),_=1<<m;l[m]=-1,h&=~_}a!==0&&si(n,a,i)}function Ic(){return(et&6)===0?(zo(0),!1):!0}function Md(){if(je!==null){if(Qe===0)var n=je.return;else n=je,Lr=ws=null,Bh(n),ha=null,wo=0,n=je;for(;n!==null;)ry(n.alternate,n),n=n.return;je=null}}function Ta(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,rx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Md(),Ke=n,je=a=Ci(n.current,null),ke=i,Qe=0,hn=null,qr=!1,_a=ri(n,i),Cd=!1,xa=Cn=kd=Es=ki=st=0,or=Lo=null,Nd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Wt(l),m=1<<h;i|=n[h],l&=~m}return Hr=i,tc(),a}function oy(n,i){Se=null,S.H=ar,i===vo?(i=xp(),Qe=3):i===bp?(i=xp(),Qe=4):Qe=i===wg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,je===null&&(st=1,_c(n,_n(i,n.current)))}function ly(){var n=S.H;return S.H=ar,n===null?ar:n}function cy(){var n=S.A;return S.A=M0,n}function Ld(){st=4,qr||(ke&4194176)!==ke&&En.current!==null||(_a=!0),(ki&134217727)===0&&(Es&134217727)===0||Ke===null||$r(Ke,ke,Cn,!1)}function Ud(n,i,a){var l=et;et|=2;var h=ly(),m=cy();(Ke!==n||ke!==i)&&(kc=null,Ta(n,i)),i=!1;var _=st;e:do try{if(Qe!==0&&je!==null){var T=je,k=hn;switch(Qe){case 8:Md(),_=6;break e;case 3:case 2:case 6:En.current===null&&(i=!0);var L=Qe;if(Qe=0,hn=null,Ea(n,T,k,L),a&&_a){_=0;break e}break;default:L=Qe,Qe=0,hn=null,Ea(n,T,k,L)}}V0(),_=st;break}catch(W){oy(n,W)}while(!0);return i&&n.shellSuspendCounter++,Lr=ws=null,et=l,S.H=h,S.A=m,je===null&&(Ke=null,ke=0,tc()),_}function V0(){for(;je!==null;)uy(je)}function z0(n,i){var a=et;et|=2;var l=ly(),h=cy();Ke!==n||ke!==i?(kc=null,Cc=nn()+500,Ta(n,i)):_a=ri(n,i);e:do try{if(Qe!==0&&je!==null){i=je;var m=hn;t:switch(Qe){case 1:Qe=0,hn=null,Ea(n,i,m,1);break;case 2:if(wp(m)){Qe=0,hn=null,hy(i);break}i=function(){Qe===2&&Ke===n&&(Qe=7),lr(n)},m.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:wp(m)?(Qe=0,hn=null,hy(i)):(Qe=0,hn=null,Ea(n,i,m,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var T=je;if(!_||zy(_)){Qe=0,hn=null;var k=T.sibling;if(k!==null)je=k;else{var L=T.return;L!==null?(je=L,Rc(L)):je=null}break t}}Qe=0,hn=null,Ea(n,i,m,5);break;case 6:Qe=0,hn=null,Ea(n,i,m,6);break;case 8:Md(),st=6;break e;default:throw Error(s(462))}}F0();break}catch(W){oy(n,W)}while(!0);return Lr=ws=null,S.H=l,S.A=h,et=a,je!==null?0:(Ke=null,ke=0,tc(),st)}function F0(){for(;je!==null&&!dh();)uy(je)}function uy(n){var i=Rg(n.alternate,n,Hr);n.memoizedProps=n.pendingProps,i===null?Rc(n):je=i}function hy(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Ag(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=Ag(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:Bh(i);default:ry(a,i),i=je=ey(i,Hr),i=Rg(a,i,Hr)}n.memoizedProps=n.pendingProps,i===null?Rc(n):je=i}function Ea(n,i,a,l){Lr=ws=null,Bh(i),ha=null,wo=0;var h=i.return;try{if(k0(n,h,i,a,ke)){st=1,_c(n,_n(a,n.current)),je=null;return}}catch(m){if(h!==null)throw je=h,m;st=1,_c(n,_n(a,n.current)),je=null;return}i.flags&32768?(Me||l===1?n=!0:_a||(ke&536870912)!==0?n=!1:(qr=n=!0,(l===2||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(i,n)):Rc(i)}function Rc(n){var i=n;do{if((i.flags&32768)!==0){dy(i,qr);return}n=i.return;var a=O0(i.alternate,i,Hr);if(a!==null){je=a;return}if(i=i.sibling,i!==null){je=i;return}je=i=n}while(i!==null);st===0&&(st=5)}function dy(n,i){do{var a=P0(n.alternate,n);if(a!==null){a.flags&=32767,je=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){je=n;return}je=n=a}while(n!==null);st=6,je=null}function fy(n,i,a,l,h,m,_,T,k,L){var W=S.T,ee=le.p;try{le.p=2,S.T=null,B0(n,i,a,l,ee,h,m,_,T,k,L)}finally{S.T=W,le.p=ee}}function B0(n,i,a,l,h,m,_,T){do Sa();while(Ss!==null);if((et&6)!==0)throw Error(s(327));var k=n.finishedWork;if(l=n.finishedLanes,k===null)return null;if(n.finishedWork=null,n.finishedLanes=0,k===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var L=k.lanes|k.childLanes;if(L|=jh,Ol(n,l,L,m,_,T),n===Ke&&(je=Ke=null,ke=0),(k.subtreeFlags&10256)===0&&(k.flags&10256)===0||Nc||(Nc=!0,Rd=L,Dd=a,G0(xr,function(){return Sa(),null})),a=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,m=le.p,le.p=2,_=et,et|=4,I0(n,k),Kg(k,n),d0(Yd,n.containerInfo),Hc=!!Wd,Yd=Wd=null,n.current=k,qg(n,k.alternate,k),Ga(),et=_,le.p=m,S.T=a):n.current=k,Nc?(Nc=!1,Ss=n,Uo=l):my(n,L),L=n.pendingLanes,L===0&&(Ni=null),Qa(k.stateNode),lr(n),i!==null)for(h=n.onRecoverableError,k=0;k<i.length;k++)L=i[k],h(L.value,{componentStack:L.stack});return(Uo&3)!==0&&Sa(),L=n.pendingLanes,(l&4194218)!==0&&(L&42)!==0?n===Od?Vo++:(Vo=0,Od=n):Vo=0,zo(0),null}function my(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,xo(i)))}function Sa(){if(Ss!==null){var n=Ss,i=Rd;Rd=0;var a=Pl(Uo),l=S.T,h=le.p;try{if(le.p=32>a?32:a,S.T=null,Ss===null)var m=!1;else{a=Dd,Dd=null;var _=Ss,T=Uo;if(Ss=null,Uo=0,(et&6)!==0)throw Error(s(331));var k=et;if(et|=4,Zg(_.current),Wg(_,_.current,T,a),et=k,zo(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ti,_)}catch{}m=!0}return m}finally{le.p=h,S.T=l,my(n,i)}}return!1}function py(n,i,a){i=_n(a,i),i=nd(n.stateNode,i,2),n=Ei(n,i,2),n!==null&&(ft(n,2),lr(n))}function He(n,i,a){if(n.tag===3)py(n,n,a);else for(;i!==null;){if(i.tag===3){py(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ni===null||!Ni.has(l))){n=_n(a,n),a=vg(2),l=Ei(i,a,2),l!==null&&(bg(a,l,i,n),ft(l,2),lr(l));break}}i=i.return}}function Vd(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new L0;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Cd=!0,h.add(a),n=q0.bind(null,n,i,a),i.then(n,n))}function q0(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ke===n&&(ke&a)===a&&(st===4||st===3&&(ke&62914560)===ke&&300>nn()-Id?(et&2)===0&&Ta(n,0):kd|=a,xa===ke&&(xa=0)),lr(n)}function gy(n,i){i===0&&(i=ii()),n=gi(n,i),n!==null&&(ft(n,i),lr(n))}function H0(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),gy(n,a)}function $0(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),gy(n,a)}function G0(n,i){return Wi(n,i)}var Dc=null,Aa=null,zd=!1,Oc=!1,Fd=!1,As=0;function lr(n){n!==Aa&&n.next===null&&(Aa===null?Dc=Aa=n:Aa=Aa.next=n),Oc=!0,zd||(zd=!0,Q0(K0))}function zo(n,i){if(!Fd&&Oc){Fd=!0;do for(var a=!1,l=Dc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var _=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-Wt(42|n)+1)-1,m&=h&~(_&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,by(l,m))}else m=ke,m=mn(l,l===Ke?m:0),(m&3)===0||ri(l,m)||(a=!0,by(l,m));l=l.next}while(a);Fd=!1}}function K0(){Oc=zd=!1;var n=0;As!==0&&(nx()&&(n=As),As=0);for(var i=nn(),a=null,l=Dc;l!==null;){var h=l.next,m=yy(l,i);m===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(Aa=a)):(a=l,(n!==0||(m&3)!==0)&&(Oc=!0)),l=h}zo(n)}function yy(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-Wt(m),T=1<<_,k=h[_];k===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Hs(T,i)):k<=i&&(n.expiredLanes|=T),m&=~T}if(i=Ke,a=ke,a=mn(n,n===i?a:0),l=n.callbackNode,a===0||n===i&&Qe===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&qs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ri(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&qs(l),Pl(a)){case 2:case 8:a=At;break;case 32:a=xr;break;case 268435456:a=Ka;break;default:a=xr}return l=vy.bind(null,n),a=Wi(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&qs(l),n.callbackPriority=2,n.callbackNode=null,2}function vy(n,i){var a=n.callbackNode;if(Sa()&&n.callbackNode!==a)return null;var l=ke;return l=mn(n,n===Ke?l:0),l===0?null:(sy(n,l,i),yy(n,nn()),n.callbackNode!=null&&n.callbackNode===a?vy.bind(null,n):null)}function by(n,i){if(Sa())return null;sy(n,i,!0)}function Q0(n){ix(function(){(et&6)!==0?Wi(_t,n):n()})}function Bd(){return As===0&&(As=Ya()),As}function wy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Zn(""+n)}function _y(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function W0(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=wy((h[xt]||null).action),_=l.submitter;_&&(i=(i=_[xt]||null)?wy(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var T=new Xs("action","action",null,l,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(As!==0){var k=_?_y(h,_):new FormData(h);Xh(a,{pending:!0,data:k,method:h.method,action:m},null,k)}}else typeof m=="function"&&(T.preventDefault(),k=_?_y(h,_):new FormData(h),Xh(a,{pending:!0,data:k,method:h.method,action:m},m,k))},currentTarget:h}]})}}for(var qd=0;qd<fp.length;qd++){var Hd=fp[qd],Y0=Hd.toLowerCase(),X0=Hd[0].toUpperCase()+Hd.slice(1);Un(Y0,"on"+X0)}Un(lp,"onAnimationEnd"),Un(cp,"onAnimationIteration"),Un(up,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(m0,"onTransitionRun"),Un(p0,"onTransitionStart"),Un(g0,"onTransitionCancel"),Un(hp,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function xy(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],k=T.instance,L=T.currentTarget;if(T=T.listener,k!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=L;try{m(h)}catch(W){wc(W)}h.currentTarget=null,m=k}else for(_=0;_<l.length;_++){if(T=l[_],k=T.instance,L=T.currentTarget,T=T.listener,k!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=L;try{m(h)}catch(W){wc(W)}h.currentTarget=null,m=k}}}}function Ce(n,i){var a=i[Xi];a===void 0&&(a=i[Xi]=new Set);var l=n+"__bubble";a.has(l)||(Ty(i,n,2,!1),a.add(l))}function $d(n,i,a){var l=0;i&&(l|=4),Ty(a,n,l,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Gd(n){if(!n[Pc]){n[Pc]=!0,Za.forEach(function(a){a!=="selectionchange"&&(Z0.has(a)||$d(a,!1,n),$d(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,$d("selectionchange",!1,i))}}function Ty(n,i,a,l){switch(Gy(i)){case 2:var h=Ex;break;case 8:h=Sx;break;default:h=af}a=h.bind(null,i,a,n),h=void 0,!vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function Kd(n,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var k=_.tag;if((k===3||k===4)&&(k=_.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Ln(T),_===null)return;if(k=_.tag,k===5||k===6||k===26||k===27){l=m=_;continue e}T=T.parentNode}}l=l.return}zl(function(){var L=m,W=Ys(a),ee=[];e:{var H=dp.get(n);if(H!==void 0){var Q=Xs,fe=n;switch(n){case"keypress":if(er(a)===0)break e;case"keydown":case"keyup":Q=ra;break;case"focusin":fe="focus",Q=ea;break;case"focusout":fe="blur",Q=ea;break;case"beforeblur":case"afterblur":Q=ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ql;break;case lp:case cp:case up:Q=ta;break;case hp:Q=Yl;break;case"scroll":case"scrollend":Q=Fl;break;case"wheel":Q=ia;break;case"copy":case"cut":case"paste":Q=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=uo;break;case"toggle":case"beforetoggle":Q=Zl}var xe=(i&4)!==0,at=!xe&&(n==="scroll"||n==="scrollend"),V=xe?H!==null?H+"Capture":null:H;xe=[];for(var P=L,B;P!==null;){var J=P;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||V===null||(J=ns(P,V),J!=null&&xe.push(Bo(P,J,B))),at)break;P=P.return}0<xe.length&&(H=new Q(H,fe,null,a,W),ee.push({event:H,listeners:xe}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",H&&a!==yn&&(fe=a.relatedTarget||a.fromElement)&&(Ln(fe)||fe[Tr]))break e;if((Q||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=L,fe=fe?Ln(fe):null,fe!==null&&(at=te(fe),xe=fe.tag,fe!==at||xe!==5&&xe!==27&&xe!==6)&&(fe=null)):(Q=null,fe=L),Q!==fe)){if(xe=bn,J="onMouseLeave",V="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(xe=uo,J="onPointerLeave",V="onPointerEnter",P="pointer"),at=Q==null?H:ci(Q),B=fe==null?H:ci(fe),H=new xe(J,P+"leave",Q,a,W),H.target=at,H.relatedTarget=B,J=null,Ln(W)===L&&(xe=new xe(V,P+"enter",fe,a,W),xe.target=B,xe.relatedTarget=at,J=xe),at=J,Q&&fe)t:{for(xe=Q,V=fe,P=0,B=xe;B;B=ja(B))P++;for(B=0,J=V;J;J=ja(J))B++;for(;0<P-B;)xe=ja(xe),P--;for(;0<B-P;)V=ja(V),B--;for(;P--;){if(xe===V||V!==null&&xe===V.alternate)break t;xe=ja(xe),V=ja(V)}xe=null}else xe=null;Q!==null&&Ey(ee,H,Q,xe,!1),fe!==null&&at!==null&&Ey(ee,at,fe,xe,!0)}}e:{if(H=L?ci(L):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var he=Xm;else if(Nt(H))if(Zm)he=u0;else{he=l0;var Ae=o0}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&ro(L.elementType)&&(he=Xm):he=c0;if(he&&(he=he(n,L))){Ir(ee,he,a,W);break e}Ae&&Ae(n,H,L),n==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Ws(H,"number",H.value)}switch(Ae=L?ci(L):window,n){case"focusin":(Nt(Ae)||Ae.contentEditable==="true")&&(sa=Ae,Eh=L,mo=null);break;case"focusout":mo=Eh=sa=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,ap(ee,a,W);break;case"selectionchange":if(f0)break;case"keydown":case"keyup":ap(ee,a,W)}var me;if(rr)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Re?$(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(w&&a.locale!=="ko"&&(Re||we!=="onCompositionStart"?we==="onCompositionEnd"&&Re&&(me=so()):(Jn=W,pi="value"in Jn?Jn.value:Jn.textContent,Re=!0)),Ae=Mc(L,we),0<Ae.length&&(we=new lo(we,n,null,a,W),ee.push({event:we,listeners:Ae}),me?we.data=me:(me=ne(a),me!==null&&(we.data=me)))),(me=b?Tt(n,a):De(n,a))&&(we=Mc(L,"onBeforeInput"),0<we.length&&(Ae=new lo("onBeforeInput","beforeinput",null,a,W),ee.push({event:Ae,listeners:we}),Ae.data=me)),W0(ee,n,L,a,W)}xy(ee,i)})}function Bo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Mc(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,m=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ns(n,a),h!=null&&l.unshift(Bo(n,h,m)),h=ns(n,i),h!=null&&l.push(Bo(n,h,m))),n=n.return}return l}function ja(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ey(n,i,a,l,h){for(var m=i._reactName,_=[];a!==null&&a!==l;){var T=a,k=T.alternate,L=T.stateNode;if(T=T.tag,k!==null&&k===l)break;T!==5&&T!==26&&T!==27||L===null||(k=L,h?(L=ns(a,m),L!=null&&_.unshift(Bo(a,L,k))):h||(L=ns(a,m),L!=null&&_.push(Bo(a,L,k)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var J0=/\r\n?/g,ex=/\u0000|\uFFFD/g;function Sy(n){return(typeof n=="string"?n:""+n).replace(J0,`
`).replace(ex,"")}function Ay(n,i){return i=Sy(i),Sy(n)===i}function Lc(){}function qe(n,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(n,""+l);break;case"className":di(n,"class",l);break;case"tabIndex":di(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":di(n,a,l);break;case"style":Vl(n,l,m);break;case"data":if(i!=="object"){di(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Zn(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&qe(n,i,"name",h.name,h,null),qe(n,i,"formEncType",h.formEncType,h,null),qe(n,i,"formMethod",h.formMethod,h,null),qe(n,i,"formTarget",h.formTarget,h,null)):(qe(n,i,"encType",h.encType,h,null),qe(n,i,"method",h.method,h,null),qe(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Zn(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Lc);break;case"onScroll":l!=null&&Ce("scroll",n);break;case"onScrollEnd":l!=null&&Ce("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Zn(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ce("beforetoggle",n),Ce("toggle",n),hi(n,"popover",l);break;case"xlinkActuate":pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yh.get(a)||a,hi(n,a,l))}}function Qd(n,i,a,l,h,m){switch(a){case"style":Vl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?gn(n,l):(typeof l=="number"||typeof l=="bigint")&&gn(n,""+l);break;case"onScroll":l!=null&&Ce("scroll",n);break;case"onScrollEnd":l!=null&&Ce("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=n[xt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):hi(n,a,l)}}}function Ft(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",n),Ce("load",n);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:qe(n,i,m,_,a,null)}}h&&qe(n,i,"srcSet",a.srcSet,a,null),l&&qe(n,i,"src",a.src,a,null);return;case"input":Ce("invalid",n);var T=m=_=h=null,k=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":k=W;break;case"defaultChecked":L=W;break;case"value":m=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:qe(n,i,l,W,a,null)}}es(n,m,T,k,L,_,h,!1),Ji(n);return;case"select":Ce("invalid",n),l=_=m=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":m=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:qe(n,i,h,T,a,null)}i=m,a=_,n.multiple=!!l,i!=null?Pe(n,!!l,i,!1):a!=null&&Pe(n,!!l,a,!0);return;case"textarea":Ce("invalid",n),m=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:qe(n,i,_,T,a,null)}mi(n,l,h,m),Ji(n);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qe(n,i,k,l,a,null)}return;case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":Ce("load",n);break;case"video":case"audio":for(l=0;l<Fo.length;l++)Ce(Fo[l],n);break;case"image":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"embed":case"source":case"link":Ce("error",n),Ce("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:qe(n,i,L,l,a,null)}return;default:if(ro(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Qd(n,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&qe(n,i,T,l,a,null))}function tx(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,_=null,T=null,k=null,L=null,W=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=ee;default:l.hasOwnProperty(Q)||qe(n,i,Q,null,l,ee)}}for(var H in l){var Q=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(Q!=null||ee!=null))switch(H){case"type":m=Q;break;case"name":h=Q;break;case"checked":L=Q;break;case"defaultChecked":W=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ee&&qe(n,i,H,Q,l,ee)}}fi(n,_,T,k,L,W,m,h);return;case"select":Q=_=T=H=null;for(m in a)if(k=a[m],a.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":Q=k;default:l.hasOwnProperty(m)||qe(n,i,m,null,l,k)}for(h in l)if(m=l[h],k=a[h],l.hasOwnProperty(h)&&(m!=null||k!=null))switch(h){case"value":H=m;break;case"defaultValue":T=m;break;case"multiple":_=m;default:m!==k&&qe(n,i,h,m,l,k)}i=T,a=_,l=Q,H!=null?Pe(n,!!a,H,!1):!!l!=!!a&&(i!=null?Pe(n,!!a,i,!0):Pe(n,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:qe(n,i,T,null,l,h)}for(_ in l)if(h=l[_],m=a[_],l.hasOwnProperty(_)&&(h!=null||m!=null))switch(_){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&qe(n,i,_,h,l,m)}ts(n,H,Q);return;case"option":for(var fe in a)if(H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:qe(n,i,fe,null,l,H)}for(k in l)if(H=l[k],Q=a[k],l.hasOwnProperty(k)&&H!==Q&&(H!=null||Q!=null))switch(k){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:qe(n,i,k,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)H=a[xe],a.hasOwnProperty(xe)&&H!=null&&!l.hasOwnProperty(xe)&&qe(n,i,xe,null,l,H);for(L in l)if(H=l[L],Q=a[L],l.hasOwnProperty(L)&&H!==Q&&(H!=null||Q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:qe(n,i,L,H,l,Q)}return;default:if(ro(i)){for(var at in a)H=a[at],a.hasOwnProperty(at)&&H!==void 0&&!l.hasOwnProperty(at)&&Qd(n,i,at,void 0,l,H);for(W in l)H=l[W],Q=a[W],!l.hasOwnProperty(W)||H===Q||H===void 0&&Q===void 0||Qd(n,i,W,H,l,Q);return}}for(var V in a)H=a[V],a.hasOwnProperty(V)&&H!=null&&!l.hasOwnProperty(V)&&qe(n,i,V,null,l,H);for(ee in l)H=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||H===Q||H==null&&Q==null||qe(n,i,ee,H,l,Q)}var Wd=null,Yd=null;function Uc(n){return n.nodeType===9?n:n.ownerDocument}function jy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Xd(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zd=null;function nx(){var n=window.event;return n&&n.type==="popstate"?n===Zd?!1:(Zd=n,!0):(Zd=null,!1)}var ky=typeof setTimeout=="function"?setTimeout:void 0,rx=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,ix=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(n){return Ny.resolve(null).then(n).catch(sx)}:ky;function sx(n){setTimeout(function(){throw n})}function Jd(n,i){var a=i,l=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){n.removeChild(h),Yo(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Yo(i)}function ef(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ef(a),Zi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function ax(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[li])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Fn(n.nextSibling),n===null)break}return null}function ox(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Fn(n.nextSibling),n===null))return null;return n}function Fn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function Iy(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function Ry(n,i,a){switch(i=Uc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var kn=new Map,Dy=new Set;function Vc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Gr=le.d;le.d={f:lx,r:cx,D:ux,C:hx,L:dx,m:fx,X:px,S:mx,M:gx};function lx(){var n=Gr.f(),i=Ic();return n||i}function cx(n){var i=Er(n);i!==null&&i.tag===5&&i.type==="form"?ag(i):Gr.r(n)}var Ca=typeof document>"u"?null:document;function Oy(n,i,a){var l=Ca;if(l&&typeof i=="string"&&i){var h=ct(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Dy.has(h)||(Dy.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",n),Ze(i),l.head.appendChild(i)))}}function ux(n){Gr.D(n),Oy("dns-prefetch",n,null)}function hx(n,i){Gr.C(n,i),Oy("preconnect",n,i)}function dx(n,i,a){Gr.L(n,i,a);var l=Ca;if(l&&n&&i){var h='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ct(a.imageSizes)+'"]')):h+='[href="'+ct(n)+'"]';var m=h;switch(i){case"style":m=ka(n);break;case"script":m=Na(n)}kn.has(m)||(n=N({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),kn.set(m,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(qo(m))||i==="script"&&l.querySelector(Ho(m))||(i=l.createElement("link"),Ft(i,"link",n),Ze(i),l.head.appendChild(i)))}}function fx(n,i){Gr.m(n,i);var a=Ca;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ct(l)+'"][href="'+ct(n)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Na(n)}if(!kn.has(m)&&(n=N({rel:"modulepreload",href:n},i),kn.set(m,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ho(m)))return}l=a.createElement("link"),Ft(l,"link",n),Ze(l),a.head.appendChild(l)}}}function mx(n,i,a){Gr.S(n,i,a);var l=Ca;if(l&&n){var h=ui(l).hoistableStyles,m=ka(n);i=i||"default";var _=h.get(m);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(qo(m)))T.loading=5;else{n=N({rel:"stylesheet",href:n,"data-precedence":i},a),(a=kn.get(m))&&tf(n,a);var k=_=l.createElement("link");Ze(k),Ft(k,"link",n),k._p=new Promise(function(L,W){k.onload=L,k.onerror=W}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(m,_)}}}function px(n,i){Gr.X(n,i);var a=Ca;if(a&&n){var l=ui(a).hoistableScripts,h=Na(n),m=l.get(h);m||(m=a.querySelector(Ho(h)),m||(n=N({src:n,async:!0},i),(i=kn.get(h))&&nf(n,i),m=a.createElement("script"),Ze(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function gx(n,i){Gr.M(n,i);var a=Ca;if(a&&n){var l=ui(a).hoistableScripts,h=Na(n),m=l.get(h);m||(m=a.querySelector(Ho(h)),m||(n=N({src:n,async:!0,type:"module"},i),(i=kn.get(h))&&nf(n,i),m=a.createElement("script"),Ze(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Py(n,i,a,l){var h=(h=fn.current)?Vc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=ui(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ka(a.href);var m=ui(h).hoistableStyles,_=m.get(n);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=h.querySelector(qo(n)))&&!m._p&&(_.instance=m,_.state.loading=5),kn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(n,a),m||yx(h,n,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Na(a),a=ui(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ka(n){return'href="'+ct(n)+'"'}function qo(n){return'link[rel="stylesheet"]['+n+"]"}function My(n){return N({},n,{"data-precedence":n.precedence,precedence:null})}function yx(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),Ze(i),n.head.appendChild(i))}function Na(n){return'[src="'+ct(n)+'"]'}function Ho(n){return"script[async]"+n}function Ly(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+ct(a.href)+'"]');if(l)return i.instance=l,Ze(l),l;var h=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ze(l),Ft(l,"style",h),zc(l,a.precedence,n),i.instance=l;case"stylesheet":h=ka(a.href);var m=n.querySelector(qo(h));if(m)return i.state.loading|=4,i.instance=m,Ze(m),m;l=My(a),(h=kn.get(h))&&tf(l,h),m=(n.ownerDocument||n).createElement("link"),Ze(m);var _=m;return _._p=new Promise(function(T,k){_.onload=T,_.onerror=k}),Ft(m,"link",l),i.state.loading|=4,zc(m,a.precedence,n),i.instance=m;case"script":return m=Na(a.src),(h=n.querySelector(Ho(m)))?(i.instance=h,Ze(h),h):(l=a,(h=kn.get(m))&&(l=N({},a),nf(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),Ze(h),Ft(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,n));return i.instance}function zc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)m=T;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function tf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function nf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Fc=null;function Uy(n,i,a){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(a,l)}else h=Fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[li]||m[jt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=n+_;var T=l.get(_);T?T.push(m):l.set(_,[m])}}return l}function Vy(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function vx(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var $o=null;function bx(){}function wx(n,i,a){if($o===null)throw Error(s(475));var l=$o;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ka(a.href),m=n.querySelector(qo(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Bc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,Ze(m);return}m=n.ownerDocument||n,a=My(a),(h=kn.get(h))&&tf(a,h),m=m.createElement("link"),Ze(m);var _=m;_._p=new Promise(function(T,k){_.onload=T,_.onerror=k}),Ft(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Bc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function _x(){if($o===null)throw Error(s(475));var n=$o;return n.stylesheets&&n.count===0&&rf(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&rf(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var qc=null;function rf(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,qc=new Map,i.forEach(xx,n),qc=null,Bc.call(n))}function xx(n,i){if(!(i.state.loading&4)){var a=qc.get(n);if(a)var l=a.get(null);else{a=new Map,qc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var _=h[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,h),a.set(_,h),this.count++,l=Bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Go={$$typeof:U,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function Tx(n,i,a,l,h,m,_,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.hiddenUpdates=$s(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Fy(n,i,a,l,h,m,_,T,k,L,W,ee){return n=new Tx(n,i,a,_,T,k,L,ee),i=1,m===!0&&(i|=24),m=jn(3,null,null,i),n.current=m,m.stateNode=n,i=Ph(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},pd(m),n}function By(n){return n?(n=la,n):la}function qy(n,i,a,l,h,m){h=By(h),l.context===null?l.context=h:l.pendingContext=h,l=Ti(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ei(n,l,i),a!==null&&(Jt(a,n,i),ko(a,n,i))}function Hy(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function sf(n,i){Hy(n,i),(n=n.alternate)&&Hy(n,i)}function $y(n){if(n.tag===13){var i=gi(n,67108864);i!==null&&Jt(i,n,67108864),sf(n,67108864)}}var Hc=!0;function Ex(n,i,a,l){var h=S.T;S.T=null;var m=le.p;try{le.p=2,af(n,i,a,l)}finally{le.p=m,S.T=h}}function Sx(n,i,a,l){var h=S.T;S.T=null;var m=le.p;try{le.p=8,af(n,i,a,l)}finally{le.p=m,S.T=h}}function af(n,i,a,l){if(Hc){var h=of(l);if(h===null)Kd(n,i,l,$c,a),Ky(n,l);else if(jx(h,n,i,a,l))l.stopPropagation();else if(Ky(n,l),i&4&&-1<Ax.indexOf(n)){for(;h!==null;){var m=Er(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Mn(m.pendingLanes);if(_!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var k=1<<31-Wt(_);T.entanglements[1]|=k,_&=~k}lr(m),(et&6)===0&&(Cc=nn()+500,zo(0))}}break;case 13:T=gi(m,2),T!==null&&Jt(T,m,2),Ic(),sf(m,2)}if(m=of(l),m===null&&Kd(n,i,l,$c,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Kd(n,i,l,null,a)}}function of(n){return n=Ys(n),lf(n)}var $c=null;function lf(n){if($c=null,n=Ln(n),n!==null){var i=te(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=_e(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return $c=n,null}function Gy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nl()){case _t:return 2;case At:return 8;case xr:case Il:return 32;case Ka:return 268435456;default:return 32}default:return 32}}var cf=!1,Ii=null,Ri=null,Di=null,Ko=new Map,Qo=new Map,Oi=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ky(n,i){switch(n){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Ko.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(i.pointerId)}}function Wo(n,i,a,l,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Er(i),i!==null&&$y(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function jx(n,i,a,l,h){switch(i){case"focusin":return Ii=Wo(Ii,n,i,a,l,h),!0;case"dragenter":return Ri=Wo(Ri,n,i,a,l,h),!0;case"mouseover":return Di=Wo(Di,n,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return Ko.set(m,Wo(Ko.get(m)||null,n,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Qo.set(m,Wo(Qo.get(m)||null,n,i,a,l,h)),!0}return!1}function Qy(n){var i=Ln(n.target);if(i!==null){var a=te(i);if(a!==null){if(i=a.tag,i===13){if(i=_e(a),i!==null){n.blockedOn=i,oi(n.priority,function(){if(a.tag===13){var l=dn(),h=gi(a,l);h!==null&&Jt(h,a,l),sf(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=of(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);yn=l,a.target.dispatchEvent(l),yn=null}else return i=Er(a),i!==null&&$y(i),n.blockedOn=a,!1;i.shift()}return!0}function Wy(n,i,a){Gc(n)&&a.delete(i)}function Cx(){cf=!1,Ii!==null&&Gc(Ii)&&(Ii=null),Ri!==null&&Gc(Ri)&&(Ri=null),Di!==null&&Gc(Di)&&(Di=null),Ko.forEach(Wy),Qo.forEach(Wy)}function Kc(n,i){n.blockedOn===i&&(n.blockedOn=null,cf||(cf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cx)))}var Qc=null;function Yy(n){Qc!==n&&(Qc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===n&&(Qc=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(lf(l||a)===null)continue;break}var m=Er(a);m!==null&&(n.splice(i,3),i-=3,Xh(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Yo(n){function i(k){return Kc(k,n)}Ii!==null&&Kc(Ii,n),Ri!==null&&Kc(Ri,n),Di!==null&&Kc(Di,n),Ko.forEach(i),Qo.forEach(i);for(var a=0;a<Oi.length;a++){var l=Oi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Oi.length&&(a=Oi[0],a.blockedOn===null);)Qy(a),a.blockedOn===null&&Oi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],_=h[xt]||null;if(typeof m=="function")_||Yy(a);else if(_){var T=null;if(m&&m.hasAttribute("formAction")){if(h=m,_=m[xt]||null)T=_.formAction;else if(lf(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Yy(a)}}}function uf(n){this._internalRoot=n}Wc.prototype.render=uf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=dn();qy(a,l,n,i,null,null)},Wc.prototype.unmount=uf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&Sa(),qy(n.current,2,null,n,null,null),Ic(),i[Tr]=null}};function Wc(n){this._internalRoot=n}Wc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ml();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Oi.length&&i!==0&&i<Oi[a].priority;a++);Oi.splice(a,0,n),a===0&&Qy(n)}};var Xy=e.version;if(Xy!=="19.0.0")throw Error(s(527,Xy,"19.0.0"));le.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=X(i),n=n!==null?ue(n):null,n=n===null?null:n.stateNode,n};var kx={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Ln,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{ti=Yc.inject(kx),Gt=Yc}catch{}}return iv.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=mg,m=pg,_=gg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Fy(n,1,!1,null,null,a,l,h,m,_,T,null),n[Tr]=i.current,Gd(n.nodeType===8?n.parentNode:n),new uf(i)},iv.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",m=mg,_=pg,T=gg,k=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Fy(n,1,!0,i,a??null,l,h,m,_,T,k,L),i.context=By(null),a=i.current,l=dn(),h=Ti(l),h.callback=null,Ei(a,h,l),i.current.lanes=l,ft(i,l),lr(i),n[Tr]=i.current,Gd(n),new Wc(i)},iv.version="19.0.0",iv}var EC;function V8(){if(EC)return eT.exports;EC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),eT.exports=U8(),eT.exports}var z8=V8(),sv={},SC;function F8(){if(SC)return sv;SC=1,Object.defineProperty(sv,"__esModule",{value:!0}),sv.parse=d,sv.serialize=v;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function d(C,U){const M=new c,K=C.length;if(K<2)return M;const q=(U==null?void 0:U.decode)||x;let G=0;do{const Z=C.indexOf("=",G);if(Z===-1)break;const Y=C.indexOf(";",G),ae=Y===-1?K:Y;if(Z>ae){G=C.lastIndexOf(";",Z-1)+1;continue}const ce=f(C,G,Z),de=p(C,Z,ce),R=C.slice(ce,de);if(M[R]===void 0){let j=f(C,Z+1,ae),S=p(C,ae,j);const N=q(C.slice(j,S));M[R]=N}G=ae+1}while(G<K);return M}function f(C,U,M){do{const K=C.charCodeAt(U);if(K!==32&&K!==9)return U}while(++U<M);return M}function p(C,U,M){for(;U>M;){const K=C.charCodeAt(--U);if(K!==32&&K!==9)return U+1}return M}function v(C,U,M){const K=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const q=K(U);if(!e.test(q))throw new TypeError(`argument val is invalid: ${U}`);let G=C+"="+q;if(!M)return G;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);G+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);G+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);G+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);G+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(G+="; HttpOnly"),M.secure&&(G+="; Secure"),M.partitioned&&(G+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return G}function x(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function A(C){return o.call(C)==="[object Date]"}return sv}F8();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var AC="popstate";function B8(r={}){function e(s,o){let{pathname:c,search:d,hash:f}=s.location;return tE("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:$v(o)}return H8(e,t,null,r)}function Pn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ol(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q8(){return Math.random().toString(36).substring(2,10)}function jC(r,e){return{usr:r.state,key:r.key,idx:e}}function tE(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?zm(e):e,state:t,key:e&&e.key||s||q8()}}function $v({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function zm(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function H8(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,f="POP",p=null,v=x();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function x(){return(d.state||{idx:null}).idx}function A(){f="POP";let q=x(),G=q==null?null:q-v;v=q,p&&p({action:f,location:K.location,delta:G})}function C(q,G){f="PUSH";let Z=tE(K.location,q,G);v=x()+1;let Y=jC(Z,v),ae=K.createHref(Z);try{d.pushState(Y,"",ae)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ae)}c&&p&&p({action:f,location:K.location,delta:1})}function U(q,G){f="REPLACE";let Z=tE(K.location,q,G);v=x();let Y=jC(Z,v),ae=K.createHref(Z);d.replaceState(Y,"",ae),c&&p&&p({action:f,location:K.location,delta:0})}function M(q){let G=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof q=="string"?q:$v(q);return Z=Z.replace(/ $/,"%20"),Pn(G,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,G)}let K={get action(){return f},get location(){return r(o,d)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(AC,A),p=q,()=>{o.removeEventListener(AC,A),p=null}},createHref(q){return e(o,q)},createURL:M,encodeLocation(q){let G=M(q);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:C,replace:U,go(q){return d.go(q)}};return K}function dD(r,e,t="/"){return $8(r,e,t,!1)}function $8(r,e,t,s){let o=typeof e=="string"?zm(e):e,c=wu(o.pathname||"/",t);if(c==null)return null;let d=fD(r);G8(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let v=rq(c);f=tq(d[p],v,s)}return f}function fD(r,e=[],t=[],s=""){let o=(c,d,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(Pn(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let v=uu([s,p.relativePath]),x=t.concat(p);c.children&&c.children.length>0&&(Pn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),fD(c.children,e,x,v)),!(c.path==null&&!c.index)&&e.push({path:v,score:J8(v,c.index),routesMeta:x})};return r.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))o(c,d);else for(let p of mD(c.path))o(c,d,p)}),e}function mD(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=mD(s.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&f.push(...d),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function G8(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:eq(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var K8=/^:[\w-]+$/,Q8=3,W8=2,Y8=1,X8=10,Z8=-2,CC=r=>r==="*";function J8(r,e){let t=r.split("/"),s=t.length;return t.some(CC)&&(s+=Z8),e&&(s+=W8),t.filter(o=>!CC(o)).reduce((o,c)=>o+(K8.test(c)?Q8:c===""?Y8:X8),s)}function eq(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function tq(r,e,t=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let f=0;f<s.length;++f){let p=s[f],v=f===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",A=Vw({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},x),C=p.route;if(!A&&v&&t&&!s[s.length-1].route.index&&(A=Vw({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:uu([c,A.pathname]),pathnameBase:oq(uu([c,A.pathnameBase])),route:C}),A.pathnameBase!=="/"&&(c=uu([c,A.pathnameBase]))}return d}function Vw(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=nq(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,{paramName:x,isOptional:A},C)=>{if(x==="*"){let M=f[C]||"";d=c.slice(0,c.length-M.length).replace(/(.)\/+$/,"$1")}const U=f[C];return A&&!U?v[x]=void 0:v[x]=(U||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:d,pattern:r}}function nq(r,e=!1,t=!0){ol(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rq(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ol(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function wu(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function iq(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?zm(r):r;return{pathname:t?t.startsWith("/")?t:sq(t,e):e,search:lq(s),hash:cq(o)}}function sq(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function iT(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aq(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function BS(r){let e=aq(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function qS(r,e,t,s=!1){let o;typeof r=="string"?o=zm(r):(o={...r},Pn(!o.pathname||!o.pathname.includes("?"),iT("?","pathname","search",o)),Pn(!o.pathname||!o.pathname.includes("#"),iT("#","pathname","hash",o)),Pn(!o.search||!o.search.includes("#"),iT("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,f;if(d==null)f=t;else{let A=e.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),A-=1;o.pathname=C.join("/")}f=A>=0?e[A]:"/"}let p=iq(o,f),v=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||x)&&(p.pathname+="/"),p}var uu=r=>r.join("/").replace(/\/\/+/g,"/"),oq=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),lq=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cq=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uq(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var pD=["POST","PUT","PATCH","DELETE"];new Set(pD);var hq=["GET",...pD];new Set(hq);var Fm=ie.createContext(null);Fm.displayName="DataRouter";var P_=ie.createContext(null);P_.displayName="DataRouterState";var gD=ie.createContext({isTransitioning:!1});gD.displayName="ViewTransition";var dq=ie.createContext(new Map);dq.displayName="Fetchers";var fq=ie.createContext(null);fq.displayName="Await";var hl=ie.createContext(null);hl.displayName="Navigation";var mb=ie.createContext(null);mb.displayName="Location";var jl=ie.createContext({outlet:null,matches:[],isDataRoute:!1});jl.displayName="Route";var HS=ie.createContext(null);HS.displayName="RouteError";function mq(r,{relative:e}={}){Pn(Bm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=ie.useContext(hl),{hash:o,pathname:c,search:d}=pb(r,{relative:e}),f=c;return t!=="/"&&(f=c==="/"?t:uu([t,c])),s.createHref({pathname:f,search:d,hash:o})}function Bm(){return ie.useContext(mb)!=null}function Cl(){return Pn(Bm(),"useLocation() may be used only in the context of a <Router> component."),ie.useContext(mb).location}var yD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vD(r){ie.useContext(hl).static||ie.useLayoutEffect(r)}function kl(){let{isDataRoute:r}=ie.useContext(jl);return r?jq():pq()}function pq(){Pn(Bm(),"useNavigate() may be used only in the context of a <Router> component.");let r=ie.useContext(Fm),{basename:e,navigator:t}=ie.useContext(hl),{matches:s}=ie.useContext(jl),{pathname:o}=Cl(),c=JSON.stringify(BS(s)),d=ie.useRef(!1);return vD(()=>{d.current=!0}),ie.useCallback((p,v={})=>{if(ol(d.current,yD),!d.current)return;if(typeof p=="number"){t.go(p);return}let x=qS(p,JSON.parse(c),o,v.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:uu([e,x.pathname])),(v.replace?t.replace:t.push)(x,v.state,v)},[e,t,c,o,r])}ie.createContext(null);function pb(r,{relative:e}={}){let{matches:t}=ie.useContext(jl),{pathname:s}=Cl(),o=JSON.stringify(BS(t));return ie.useMemo(()=>qS(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function gq(r,e){return bD(r,e)}function bD(r,e,t,s){var Z;Pn(Bm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=ie.useContext(hl),{matches:d}=ie.useContext(jl),f=d[d.length-1],p=f?f.params:{},v=f?f.pathname:"/",x=f?f.pathnameBase:"/",A=f&&f.route;{let Y=A&&A.path||"";wD(v,!A||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let C=Cl(),U;if(e){let Y=typeof e=="string"?zm(e):e;Pn(x==="/"||((Z=Y.pathname)==null?void 0:Z.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),U=Y}else U=C;let M=U.pathname||"/",K=M;if(x!=="/"){let Y=x.replace(/^\//,"").split("/");K="/"+M.replace(/^\//,"").split("/").slice(Y.length).join("/")}let q=!c&&t&&t.matches&&t.matches.length>0?t.matches:dD(r,{pathname:K});ol(A||q!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),ol(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=_q(q&&q.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:uu([x,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?x:uu([x,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),d,t,s);return e&&G?ie.createElement(mb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},G):G}function yq(){let r=Aq(),e=uq(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=ie.createElement(ie.Fragment,null,ie.createElement("p",null,"💿 Hey developer 👋"),ie.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ie.createElement("code",{style:c},"ErrorBoundary")," or"," ",ie.createElement("code",{style:c},"errorElement")," prop on your route.")),ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),t?ie.createElement("pre",{style:o},t):null,d)}var vq=ie.createElement(yq,null),bq=class extends ie.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?ie.createElement(jl.Provider,{value:this.props.routeContext},ie.createElement(HS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wq({routeContext:r,match:e,children:t}){let s=ie.useContext(Fm);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ie.createElement(jl.Provider,{value:r},t)}function _q(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,c=t==null?void 0:t.errors;if(c!=null){let p=o.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);Pn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let v=o[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=p),v.route.id){let{loaderData:x,errors:A}=t,C=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||C){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,v,x)=>{let A,C=!1,U=null,M=null;t&&(A=c&&v.route.id?c[v.route.id]:void 0,U=v.route.errorElement||vq,d&&(f<0&&x===0?(wD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,M=null):f===x&&(C=!0,M=v.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,x+1)),q=()=>{let G;return A?G=U:C?G=M:v.route.Component?G=ie.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=p,ie.createElement(wq,{match:v,routeContext:{outlet:p,matches:K,isDataRoute:t!=null},children:G})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?ie.createElement(bq,{location:t.location,revalidation:t.revalidation,component:U,error:A,children:q(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):q()},null)}function $S(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xq(r){let e=ie.useContext(Fm);return Pn(e,$S(r)),e}function Tq(r){let e=ie.useContext(P_);return Pn(e,$S(r)),e}function Eq(r){let e=ie.useContext(jl);return Pn(e,$S(r)),e}function GS(r){let e=Eq(r),t=e.matches[e.matches.length-1];return Pn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Sq(){return GS("useRouteId")}function Aq(){var s;let r=ie.useContext(HS),e=Tq("useRouteError"),t=GS("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function jq(){let{router:r}=xq("useNavigate"),e=GS("useNavigate"),t=ie.useRef(!1);return vD(()=>{t.current=!0}),ie.useCallback(async(o,c={})=>{ol(t.current,yD),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var kC={};function wD(r,e,t){!e&&!kC[r]&&(kC[r]=!0,ol(!1,t))}ie.memo(Cq);function Cq({routes:r,future:e,state:t}){return bD(r,void 0,t,e)}function _D({to:r,replace:e,state:t,relative:s}){Pn(Bm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=ie.useContext(hl);ol(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=ie.useContext(jl),{pathname:d}=Cl(),f=kl(),p=qS(r,BS(c),d,s==="path"),v=JSON.stringify(p);return ie.useEffect(()=>{f(JSON.parse(v),{replace:e,state:t,relative:s})},[f,v,s,e,t]),null}function qn(r){Pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kq({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1}){Pn(!Bm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),f=ie.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof t=="string"&&(t=zm(t));let{pathname:p="/",search:v="",hash:x="",state:A=null,key:C="default"}=t,U=ie.useMemo(()=>{let M=wu(p,d);return M==null?null:{location:{pathname:M,search:v,hash:x,state:A,key:C},navigationType:s}},[d,p,v,x,A,C,s]);return ol(U!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:ie.createElement(hl.Provider,{value:f},ie.createElement(mb.Provider,{children:e,value:U}))}function Nq({children:r,location:e}){return gq(nE(r),e)}function nE(r,e=[]){let t=[];return ie.Children.forEach(r,(s,o)=>{if(!ie.isValidElement(s))return;let c=[...e,o];if(s.type===ie.Fragment){t.push.apply(t,nE(s.props.children,c));return}Pn(s.type===qn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=nE(s.props.children,c)),t.push(d)}),t}var rw="get",iw="application/x-www-form-urlencoded";function M_(r){return r!=null&&typeof r.tagName=="string"}function Iq(r){return M_(r)&&r.tagName.toLowerCase()==="button"}function Rq(r){return M_(r)&&r.tagName.toLowerCase()==="form"}function Dq(r){return M_(r)&&r.tagName.toLowerCase()==="input"}function Oq(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Pq(r,e){return r.button===0&&(!e||e==="_self")&&!Oq(r)}var Pb=null;function Mq(){if(Pb===null)try{new FormData(document.createElement("form"),0),Pb=!1}catch{Pb=!0}return Pb}var Lq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sT(r){return r!=null&&!Lq.has(r)?(ol(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iw}"`),null):r}function Uq(r,e){let t,s,o,c,d;if(Rq(r)){let f=r.getAttribute("action");s=f?wu(f,e):null,t=r.getAttribute("method")||rw,o=sT(r.getAttribute("enctype"))||iw,c=new FormData(r)}else if(Iq(r)||Dq(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(s=p?wu(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||rw,o=sT(r.getAttribute("formenctype"))||sT(f.getAttribute("enctype"))||iw,c=new FormData(f,r),!Mq()){let{name:v,type:x,value:A}=r;if(x==="image"){let C=v?`${v}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else v&&c.append(v,A)}}else{if(M_(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rw,s=null,o=iw,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:d}}function KS(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Vq(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zq(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Fq(r,e,t){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await Vq(c,t);return d.links?d.links():[]}return[]}));return $q(s.flat(1).filter(zq).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function NC(r,e,t,s,o,c){let d=(p,v)=>t[v]?p.route.id!==t[v].route.id:!0,f=(p,v)=>{var x;return t[v].pathname!==p.pathname||((x=t[v].route.path)==null?void 0:x.endsWith("*"))&&t[v].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,v)=>d(p,v)||f(p,v)):c==="data"?e.filter((p,v)=>{var A;let x=s.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,v)||f(p,v))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function Bq(r,e,{includeHydrateFallback:t}={}){return qq(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function qq(r){return[...new Set(r)]}function Hq(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function $q(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(Hq(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function Gq(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&wu(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function xD(){let r=ie.useContext(Fm);return KS(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Kq(){let r=ie.useContext(P_);return KS(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var QS=ie.createContext(void 0);QS.displayName="FrameworkContext";function TD(){let r=ie.useContext(QS);return KS(r,"You must render this element inside a <HydratedRouter> element"),r}function Qq(r,e){let t=ie.useContext(QS),[s,o]=ie.useState(!1),[c,d]=ie.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:v,onMouseLeave:x,onTouchStart:A}=e,C=ie.useRef(null);ie.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let K=G=>{G.forEach(Z=>{d(Z.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return C.current&&q.observe(C.current),()=>{q.disconnect()}}},[r]),ie.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let U=()=>{o(!0)},M=()=>{o(!1),d(!1)};return t?r!=="intent"?[c,C,{}]:[c,C,{onFocus:av(f,U),onBlur:av(p,M),onMouseEnter:av(v,U),onMouseLeave:av(x,M),onTouchStart:av(A,U)}]:[!1,C,{}]}function av(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Wq({page:r,...e}){let{router:t}=xD(),s=ie.useMemo(()=>dD(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?ie.createElement(Xq,{page:r,matches:s,...e}):null}function Yq(r){let{manifest:e,routeModules:t}=TD(),[s,o]=ie.useState([]);return ie.useEffect(()=>{let c=!1;return Fq(r,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,t]),s}function Xq({page:r,matches:e,...t}){let s=Cl(),{manifest:o,routeModules:c}=TD(),{basename:d}=xD(),{loaderData:f,matches:p}=Kq(),v=ie.useMemo(()=>NC(r,e,p,o,s,"data"),[r,e,p,o,s]),x=ie.useMemo(()=>NC(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=ie.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,K=!1;if(e.forEach(G=>{var Y;let Z=o.routes[G.route.id];!Z||!Z.hasLoader||(!v.some(ae=>ae.route.id===G.route.id)&&G.route.id in f&&((Y=c[G.route.id])!=null&&Y.shouldRevalidate)||Z.hasClientLoader?K=!0:M.add(G.route.id))}),M.size===0)return[];let q=Gq(r,d);return K&&M.size>0&&q.searchParams.set("_routes",e.filter(G=>M.has(G.route.id)).map(G=>G.route.id).join(",")),[q.pathname+q.search]},[d,f,s,o,v,e,r,c]),C=ie.useMemo(()=>Bq(x,o),[x,o]),U=Yq(x);return ie.createElement(ie.Fragment,null,A.map(M=>ie.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),C.map(M=>ie.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),U.map(({key:M,link:K})=>ie.createElement("link",{key:M,...K})))}function Zq(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ED=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ED&&(window.__reactRouterVersion="7.3.0")}catch{}function Jq({basename:r,children:e,window:t}){let s=ie.useRef();s.current==null&&(s.current=B8({window:t,v5Compat:!0}));let o=s.current,[c,d]=ie.useState({action:o.action,location:o.location}),f=ie.useCallback(p=>{ie.startTransition(()=>d(p))},[d]);return ie.useLayoutEffect(()=>o.listen(f),[o,f]),ie.createElement(kq,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var SD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,In=ie.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:f,target:p,to:v,preventScrollReset:x,viewTransition:A,...C},U){let{basename:M}=ie.useContext(hl),K=typeof v=="string"&&SD.test(v),q,G=!1;if(typeof v=="string"&&K&&(q=v,ED))try{let S=new URL(window.location.href),N=v.startsWith("//")?new URL(S.protocol+v):new URL(v),O=wu(N.pathname,M);N.origin===S.origin&&O!=null?v=O+N.search+N.hash:G=!0}catch{ol(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=mq(v,{relative:o}),[Y,ae,ce]=Qq(s,C),de=rH(v,{replace:d,state:f,target:p,preventScrollReset:x,relative:o,viewTransition:A});function R(S){e&&e(S),S.defaultPrevented||de(S)}let j=ie.createElement("a",{...C,...ce,href:q||Z,onClick:G||c?e:R,ref:Zq(U,ae),target:p,"data-discover":!K&&t==="render"?"true":void 0});return Y&&!K?ie.createElement(ie.Fragment,null,j,ie.createElement(Wq,{page:Z})):j});In.displayName="Link";var eH=ie.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:f,children:p,...v},x){let A=pb(d,{relative:v.relative}),C=Cl(),U=ie.useContext(P_),{navigator:M,basename:K}=ie.useContext(hl),q=U!=null&&lH(A)&&f===!0,G=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,Z=C.pathname,Y=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),Y=Y?Y.toLowerCase():null,G=G.toLowerCase()),Y&&K&&(Y=wu(Y,K)||Y);const ae=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ce=Z===G||!o&&Z.startsWith(G)&&Z.charAt(ae)==="/",de=Y!=null&&(Y===G||!o&&Y.startsWith(G)&&Y.charAt(G.length)==="/"),R={isActive:ce,isPending:de,isTransitioning:q},j=ce?e:void 0,S;typeof s=="function"?S=s(R):S=[s,ce?"active":null,de?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(R):c;return ie.createElement(In,{...v,"aria-current":j,className:S,ref:x,style:N,to:d,viewTransition:f},typeof p=="function"?p(R):p)});eH.displayName="NavLink";var tH=ie.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:d=rw,action:f,onSubmit:p,relative:v,preventScrollReset:x,viewTransition:A,...C},U)=>{let M=aH(),K=oH(f,{relative:v}),q=d.toLowerCase()==="get"?"get":"post",G=typeof f=="string"&&SD.test(f),Z=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ae=Y.nativeEvent.submitter,ce=(ae==null?void 0:ae.getAttribute("formmethod"))||d;M(ae||Y.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:o,state:c,relative:v,preventScrollReset:x,viewTransition:A})};return ie.createElement("form",{ref:U,method:q,action:K,onSubmit:s?p:Z,...C,"data-discover":!G&&r==="render"?"true":void 0})});tH.displayName="Form";function nH(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AD(r){let e=ie.useContext(Fm);return Pn(e,nH(r)),e}function rH(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let f=kl(),p=Cl(),v=pb(r,{relative:c});return ie.useCallback(x=>{if(Pq(x,e)){x.preventDefault();let A=t!==void 0?t:$v(p)===$v(v);f(r,{replace:A,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,f,v,t,s,e,r,o,c,d])}var iH=0,sH=()=>`__${String(++iH)}__`;function aH(){let{router:r}=AD("useSubmit"),{basename:e}=ie.useContext(hl),t=Sq();return ie.useCallback(async(s,o={})=>{let{action:c,method:d,encType:f,formData:p,body:v}=Uq(s,e);if(o.navigate===!1){let x=o.fetcherKey||sH();await r.fetch(x,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:v,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:v,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function oH(r,{relative:e}={}){let{basename:t}=ie.useContext(hl),s=ie.useContext(jl);Pn(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...pb(r||".",{relative:e})},d=Cl();if(r==null){c.search=d.search;let f=new URLSearchParams(c.search),p=f.getAll("index");if(p.some(x=>x==="")){f.delete("index"),p.filter(A=>A).forEach(A=>f.append("index",A));let x=f.toString();c.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:uu([t,c.pathname])),$v(c)}function lH(r,e={}){let t=ie.useContext(gD);Pn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=AD("useViewTransitionState"),o=pb(r,{relative:e.relative});if(!t.isTransitioning)return!1;let c=wu(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=wu(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Vw(o.pathname,d)!=null||Vw(o.pathname,c)!=null}new TextEncoder;var IC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},cH=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[t++],d=r[t++],f=r[t++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[t++],d=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},CD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,f=d?r[o+1]:0,p=o+2<r.length,v=p?r[o+2]:0,x=c>>2,A=(c&3)<<4|f>>4;let C=(f&15)<<2|v>>6,U=v&63;p||(U=64,d||(C=64)),s.push(t[x],t[A],t[C],t[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(jD(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):cH(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const A=o<r.length?t[r.charAt(o)]:64;if(++o,c==null||f==null||v==null||A==null)throw new uH;const C=c<<2|f>>4;if(s.push(C),v!==64){const U=f<<4&240|v>>2;if(s.push(U),A!==64){const M=v<<6&192|A;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hH=function(r){const e=jD(r);return CD.encodeByteArray(e,!0)},zw=function(r){return hH(r).replace(/\./g,"")},kD=function(r){try{return CD.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=()=>dH().__FIREBASE_DEFAULTS__,mH=()=>{if(typeof process>"u"||typeof IC>"u")return;const r=IC.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pH=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&kD(r[1]);return e&&JSON.parse(e)},L_=()=>{try{return fH()||mH()||pH()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ND=r=>{var e,t;return(t=(e=L_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},ID=r=>{const e=ND(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},RD=()=>{var r;return(r=L_())===null||r===void 0?void 0:r.config},DD=r=>{var e;return(e=L_())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[zw(JSON.stringify(t)),zw(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qi())}function vH(){var r;const e=(r=L_())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PD(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function wH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _H(){const r=Qi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xH(){return!vH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MD(){try{return typeof indexedDB=="object"}catch{return!1}}function LD(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}function TH(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="FirebaseError";class Ha extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=EH,Object.setPrototypeOf(this,Ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gf.prototype.create)}}class Gf{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?SH(c,s):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new Ha(o,f,s)}}function SH(r,e){return r.replace(AH,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const AH=/\{\$([^}]+)}/g;function jH(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Gv(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(RC(c)&&RC(d)){if(!Gv(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function RC(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function mv(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function pv(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function CH(r,e){const t=new kH(r,e);return t.subscribe.bind(t)}class kH{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");NH(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=aT),o.error===void 0&&(o.error=aT),o.complete===void 0&&(o.complete=aT);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NH(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function aT(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=1e3,RH=2,DH=4*60*60*1e3,OH=.5;function DC(r,e=IH,t=RH){const s=e*Math.pow(t,r),o=Math.round(OH*s*(Math.random()-.5)*2);return Math.min(DH,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(r){return r&&r._delegate?r._delegate:r}class Fa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new gH;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LH(e))try{this.getOrInitializeService({instanceIdentifier:ff})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ff){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ff){return this.instances.has(e)}getOptions(e=ff){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);s===f&&d.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MH(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ff){return this.component?this.component.multipleInstances?e:ff:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MH(r){return r===ff?void 0:r}function LH(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PH(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const VH={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},zH=Pt.INFO,FH={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},BH=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=FH[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U_{constructor(e){this.name=e,this._logLevel=zH,this._logHandler=BH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const qH=(r,e)=>e.some(t=>r instanceof t);let OC,PC;function HH(){return OC||(OC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $H(){return PC||(PC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UD=new WeakMap,rE=new WeakMap,VD=new WeakMap,oT=new WeakMap,WS=new WeakMap;function GH(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{t(Bu(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&UD.set(t,r)}).catch(()=>{}),WS.set(e,r),e}function KH(r){if(rE.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});rE.set(r,e)}let iE={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return rE.get(r);if(e==="objectStoreNames")return r.objectStoreNames||VD.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bu(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function QH(r){iE=r(iE)}function WH(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(lT(this),e,...t);return VD.set(s,e.sort?e.sort():[e]),Bu(s)}:$H().includes(r)?function(...e){return r.apply(lT(this),e),Bu(UD.get(this))}:function(...e){return Bu(r.apply(lT(this),e))}}function YH(r){return typeof r=="function"?WH(r):(r instanceof IDBTransaction&&KH(r),qH(r,HH())?new Proxy(r,iE):r)}function Bu(r){if(r instanceof IDBRequest)return GH(r);if(oT.has(r))return oT.get(r);const e=YH(r);return e!==r&&(oT.set(r,e),WS.set(e,r)),e}const lT=r=>WS.get(r);function zD(r,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),f=Bu(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Bu(d.result),p.oldVersion,p.newVersion,Bu(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const XH=["get","getKey","getAll","getAllKeys","count"],ZH=["put","add","delete","clear"],cT=new Map;function MC(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(cT.get(e))return cT.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=ZH.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||XH.includes(t)))return;const c=async function(d,...f){const p=this.transaction(d,o?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&p.done]))[0]};return cT.set(e,c),c}QH(r=>({...r,get:(e,t,s)=>MC(e,t)||r.get(e,t,s),has:(e,t)=>!!MC(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(e$(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function e$(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sE="@firebase/app",LC="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new U_("@firebase/app"),t$="@firebase/app-compat",n$="@firebase/analytics-compat",r$="@firebase/analytics",i$="@firebase/app-check-compat",s$="@firebase/app-check",a$="@firebase/auth",o$="@firebase/auth-compat",l$="@firebase/database",c$="@firebase/data-connect",u$="@firebase/database-compat",h$="@firebase/functions",d$="@firebase/functions-compat",f$="@firebase/installations",m$="@firebase/installations-compat",p$="@firebase/messaging",g$="@firebase/messaging-compat",y$="@firebase/performance",v$="@firebase/performance-compat",b$="@firebase/remote-config",w$="@firebase/remote-config-compat",_$="@firebase/storage",x$="@firebase/storage-compat",T$="@firebase/firestore",E$="@firebase/vertexai",S$="@firebase/firestore-compat",A$="firebase",j$="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="[DEFAULT]",C$={[sE]:"fire-core",[t$]:"fire-core-compat",[r$]:"fire-analytics",[n$]:"fire-analytics-compat",[s$]:"fire-app-check",[i$]:"fire-app-check-compat",[a$]:"fire-auth",[o$]:"fire-auth-compat",[l$]:"fire-rtdb",[c$]:"fire-data-connect",[u$]:"fire-rtdb-compat",[h$]:"fire-fn",[d$]:"fire-fn-compat",[f$]:"fire-iid",[m$]:"fire-iid-compat",[p$]:"fire-fcm",[g$]:"fire-fcm-compat",[y$]:"fire-perf",[v$]:"fire-perf-compat",[b$]:"fire-rc",[w$]:"fire-rc-compat",[_$]:"fire-gcs",[x$]:"fire-gcs-compat",[T$]:"fire-fst",[S$]:"fire-fst-compat",[E$]:"fire-vertex","fire-js":"fire-js",[A$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map,k$=new Map,oE=new Map;function UC(r,e){try{r.container.addComponent(e)}catch(t){_u.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ll(r){const e=r.name;if(oE.has(e))return _u.debug(`There were multiple attempts to register component ${e}.`),!1;oE.set(e,r);for(const t of Fw.values())UC(t,r);for(const t of k$.values())UC(t,r);return!0}function lh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Ds(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qu=new Gf("app","Firebase",N$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=j$;function FD(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:aE,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw qu.create("bad-app-name",{appName:String(o)});if(t||(t=RD()),!t)throw qu.create("no-options");const c=Fw.get(o);if(c){if(Gv(t,c.options)&&Gv(s,c.config))return c;throw qu.create("duplicate-app",{appName:o})}const d=new UH(o);for(const p of oE.values())d.addComponent(p);const f=new I$(t,s,d);return Fw.set(o,f),f}function V_(r=aE){const e=Fw.get(r);if(!e&&r===aE&&RD())return FD();if(!e)throw qu.create("no-app",{appName:r});return e}function Ls(r,e,t){var s;let o=(s=C$[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const f=[`Unable to register library "${o}" with version "${e}":`];c&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_u.warn(f.join(" "));return}ll(new Fa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="firebase-heartbeat-database",D$=1,Kv="firebase-heartbeat-store";let uT=null;function BD(){return uT||(uT=zD(R$,D$,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kv)}catch(t){console.warn(t)}}}}).catch(r=>{throw qu.create("idb-open",{originalErrorMessage:r.message})})),uT}async function O$(r){try{const t=(await BD()).transaction(Kv),s=await t.objectStore(Kv).get(qD(r));return await t.done,s}catch(e){if(e instanceof Ha)_u.warn(e.message);else{const t=qu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_u.warn(t.message)}}}async function VC(r,e){try{const s=(await BD()).transaction(Kv,"readwrite");await s.objectStore(Kv).put(e,qD(r)),await s.done}catch(t){if(t instanceof Ha)_u.warn(t.message);else{const s=qu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_u.warn(s.message)}}}function qD(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=1024,M$=30;class L${constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new V$(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=zC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>M$){const d=z$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_u.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zC(),{heartbeatsToSend:s,unsentEntries:o}=U$(this._heartbeatsCache.heartbeats),c=zw(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return _u.warn(t),""}}}function zC(){return new Date().toISOString().substring(0,10)}function U$(r,e=P$){const t=[];let s=r.slice();for(const o of r){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),FC(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),FC(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class V${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MD()?LD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await O$(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return VC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return VC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function FC(r){return zw(JSON.stringify({version:2,heartbeats:r})).length}function z$(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(r){ll(new Fa("platform-logger",e=>new JH(e),"PRIVATE")),ll(new Fa("heartbeat",e=>new L$(e),"PRIVATE")),Ls(sE,LC,r),Ls(sE,LC,"esm2017"),Ls("fire-js","")}F$("");var B$="firebase",q$="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(B$,q$,"app");const HD="@firebase/installations",YS="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1e4,GD=`w:${YS}`,KD="FIS_v2",H$="https://firebaseinstallations.googleapis.com/v1",$$=60*60*1e3,G$="installations",K$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rf=new Gf(G$,K$,Q$);function QD(r){return r instanceof Ha&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD({projectId:r}){return`${H$}/projects/${r}/installations`}function YD(r){return{token:r.token,requestStatus:2,expiresIn:Y$(r.expiresIn),creationTime:Date.now()}}async function XD(r,e){const s=(await e.json()).error;return Rf.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function ZD({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function W$(r,{refreshToken:e}){const t=ZD(r);return t.append("Authorization",X$(e)),t}async function JD(r){const e=await r();return e.status>=500&&e.status<600?r():e}function Y$(r){return Number(r.replace("s","000"))}function X$(r){return`${KD} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=WD(r),o=ZD(r),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:t,authVersion:KD,appId:r.appId,sdkVersion:GD},f={method:"POST",headers:o,body:JSON.stringify(d)},p=await JD(()=>fetch(s,f));if(p.ok){const v=await p.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:YD(v.authToken)}}else throw await XD("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=/^[cdef][\w-]{21}$/,lE="";function tG(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=nG(r);return eG.test(t)?t:lE}catch{return lE}}function nG(r){return J$(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new Map;function nO(r,e){const t=z_(r);rO(t,e),rG(t,e)}function rO(r,e){const t=tO.get(r);if(t)for(const s of t)s(e)}function rG(r,e){const t=iG();t&&t.postMessage({key:r,fid:e}),sG()}let yf=null;function iG(){return!yf&&"BroadcastChannel"in self&&(yf=new BroadcastChannel("[Firebase] FID Change"),yf.onmessage=r=>{rO(r.data.key,r.data.fid)}),yf}function sG(){tO.size===0&&yf&&(yf.close(),yf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG="firebase-installations-database",oG=1,Df="firebase-installations-store";let hT=null;function XS(){return hT||(hT=zD(aG,oG,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Df)}}})),hT}async function Bw(r,e){const t=z_(r),o=(await XS()).transaction(Df,"readwrite"),c=o.objectStore(Df),d=await c.get(t);return await c.put(e,t),await o.done,(!d||d.fid!==e.fid)&&nO(r,e.fid),e}async function iO(r){const e=z_(r),s=(await XS()).transaction(Df,"readwrite");await s.objectStore(Df).delete(e),await s.done}async function F_(r,e){const t=z_(r),o=(await XS()).transaction(Df,"readwrite"),c=o.objectStore(Df),d=await c.get(t),f=e(d);return f===void 0?await c.delete(t):await c.put(f,t),await o.done,f&&(!d||d.fid!==f.fid)&&nO(r,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(r){let e;const t=await F_(r.appConfig,s=>{const o=lG(s),c=cG(r,o);return e=c.registrationPromise,c.installationEntry});return t.fid===lE?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function lG(r){const e=r||{fid:tG(),registrationStatus:0};return sO(e)}function cG(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Rf.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=uG(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:hG(r)}:{installationEntry:e}}async function uG(r,e){try{const t=await Z$(r,e);return Bw(r.appConfig,t)}catch(t){throw QD(t)&&t.customData.serverCode===409?await iO(r.appConfig):await Bw(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function hG(r){let e=await BC(r.appConfig);for(;e.registrationStatus===1;)await eO(100),e=await BC(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await ZS(r);return s||t}return e}function BC(r){return F_(r,e=>{if(!e)throw Rf.create("installation-not-found");return sO(e)})}function sO(r){return dG(r)?{fid:r.fid,registrationStatus:0}:r}function dG(r){return r.registrationStatus===1&&r.registrationTime+$D<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fG({appConfig:r,heartbeatServiceProvider:e},t){const s=mG(r,t),o=W$(r,t),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:GD,appId:r.appId}},f={method:"POST",headers:o,body:JSON.stringify(d)},p=await JD(()=>fetch(s,f));if(p.ok){const v=await p.json();return YD(v)}else throw await XD("Generate Auth Token",p)}function mG(r,{fid:e}){return`${WD(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(r,e=!1){let t;const s=await F_(r.appConfig,c=>{if(!aO(c))throw Rf.create("not-registered");const d=c.authToken;if(!e&&yG(d))return c;if(d.requestStatus===1)return t=pG(r,e),c;{if(!navigator.onLine)throw Rf.create("app-offline");const f=bG(c);return t=gG(r,f),f}});return t?await t:s.authToken}async function pG(r,e){let t=await qC(r.appConfig);for(;t.authToken.requestStatus===1;)await eO(100),t=await qC(r.appConfig);const s=t.authToken;return s.requestStatus===0?JS(r,e):s}function qC(r){return F_(r,e=>{if(!aO(e))throw Rf.create("not-registered");const t=e.authToken;return wG(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function gG(r,e){try{const t=await fG(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Bw(r.appConfig,s),t}catch(t){if(QD(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await iO(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Bw(r.appConfig,s)}throw t}}function aO(r){return r!==void 0&&r.registrationStatus===2}function yG(r){return r.requestStatus===2&&!vG(r)}function vG(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+$$}function bG(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function wG(r){return r.requestStatus===1&&r.requestTime+$D<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _G(r){const e=r,{installationEntry:t,registrationPromise:s}=await ZS(e);return s?s.catch(console.error):JS(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xG(r,e=!1){const t=r;return await TG(t),(await JS(t,e)).token}async function TG(r){const{registrationPromise:e}=await ZS(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(r){if(!r||!r.options)throw dT("App Configuration");if(!r.name)throw dT("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw dT(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function dT(r){return Rf.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="installations",SG="installations-internal",AG=r=>{const e=r.getProvider("app").getImmediate(),t=EG(e),s=lh(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},jG=r=>{const e=r.getProvider("app").getImmediate(),t=lh(e,oO).getImmediate();return{getId:()=>_G(t),getToken:o=>xG(t,o)}};function CG(){ll(new Fa(oO,AG,"PUBLIC")),ll(new Fa(SG,jG,"PRIVATE"))}CG();Ls(HD,YS);Ls(HD,YS,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="analytics",kG="firebase_id",NG="origin",IG=60*1e3,RG="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",e1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new U_("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Oa=new Gf("analytics","Analytics",DG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(r){if(!r.startsWith(e1)){const e=Oa.create("invalid-gtag-resource",{gtagURL:r});return Us.warn(e.message),""}return r}function lO(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function PG(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function MG(r,e){const t=PG("firebase-js-sdk-policy",{createScriptURL:OG}),s=document.createElement("script"),o=`${e1}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function LG(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function UG(r,e,t,s,o,c){const d=s[o];try{if(d)await e[d];else{const p=(await lO(t)).find(v=>v.measurementId===o);p&&await e[p.appId]}}catch(f){Us.error(f)}r("config",o,c)}async function VG(r,e,t,s,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const f=await lO(t);for(const p of d){const v=f.find(A=>A.measurementId===p),x=v&&e[v.appId];if(x)c.push(x);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,o||{})}catch(c){Us.error(c)}}function zG(r,e,t,s){async function o(c,...d){try{if(c==="event"){const[f,p]=d;await VG(r,e,t,f,p)}else if(c==="config"){const[f,p]=d;await UG(r,e,t,s,f,p)}else if(c==="consent"){const[f,p]=d;r("consent",f,p)}else if(c==="get"){const[f,p,v]=d;r("get",f,p,v)}else if(c==="set"){const[f]=d;r("set",f)}else r(c,...d)}catch(f){Us.error(f)}}return o}function FG(r,e,t,s,o){let c=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=zG(c,r,e,t),{gtagCore:c,wrappedGtag:window[o]}}function BG(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(e1)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=30,HG=1e3;class $G{constructor(e={},t=HG){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cO=new $G;function GG(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function KG(r){var e;const{appId:t,apiKey:s}=r,o={method:"GET",headers:GG(s)},c=RG.replace("{app-id}",t),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let f="";try{const p=await d.json();!((e=p.error)===null||e===void 0)&&e.message&&(f=p.error.message)}catch{}throw Oa.create("config-fetch-failed",{httpStatus:d.status,responseMessage:f})}return d.json()}async function QG(r,e=cO,t){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw Oa.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw Oa.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new XG;return setTimeout(async()=>{f.abort()},IG),uO({appId:s,apiKey:o,measurementId:c},d,f,e)}async function uO(r,{throttleEndTimeMillis:e,backoffCount:t},s,o=cO){var c;const{appId:d,measurementId:f}=r;try{await WG(s,e)}catch(p){if(f)return Us.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:d,measurementId:f};throw p}try{const p=await KG(r);return o.deleteThrottleMetadata(d),p}catch(p){const v=p;if(!YG(v)){if(o.deleteThrottleMetadata(d),f)return Us.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:f};throw p}const x=Number((c=v==null?void 0:v.customData)===null||c===void 0?void 0:c.httpStatus)===503?DC(t,o.intervalMillis,qG):DC(t,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+x,backoffCount:t+1};return o.setThrottleMetadata(d,A),Us.debug(`Calling attemptFetch again in ${x} millis`),uO(r,A,s,o)}}function WG(r,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(c),s(Oa.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function YG(r){if(!(r instanceof Ha)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class XG{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ZG(r,e,t,s,o){if(o&&o.global){r("event",t,s);return}else{const c=await e,d=Object.assign(Object.assign({},s),{send_to:c});r("event",t,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JG(){if(MD())try{await LD()}catch(r){return Us.warn(Oa.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return Us.warn(Oa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function eK(r,e,t,s,o,c,d){var f;const p=QG(r);p.then(U=>{t[U.measurementId]=U.appId,r.options.measurementId&&U.measurementId!==r.options.measurementId&&Us.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>Us.error(U)),e.push(p);const v=JG().then(U=>{if(U)return s.getId()}),[x,A]=await Promise.all([p,v]);BG(c)||MG(c,x.measurementId),o("js",new Date);const C=(f=d==null?void 0:d.config)!==null&&f!==void 0?f:{};return C[NG]="firebase",C.update=!0,A!=null&&(C[kG]=A),o("config",x.measurementId,C),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e){this.app=e}_delete(){return delete jv[this.app.options.appId],Promise.resolve()}}let jv={},HC=[];const $C={};let fT="dataLayer",nK="gtag",GC,hO,KC=!1;function rK(){const r=[];if(PD()&&r.push("This is a browser extension environment."),TH()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Oa.create("invalid-analytics-context",{errorInfo:e});Us.warn(t.message)}}function iK(r,e,t){rK();const s=r.options.appId;if(!s)throw Oa.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Us.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Oa.create("no-api-key");if(jv[s]!=null)throw Oa.create("already-exists",{id:s});if(!KC){LG(fT);const{wrappedGtag:c,gtagCore:d}=FG(jv,HC,$C,fT,nK);hO=c,GC=d,KC=!0}return jv[s]=eK(r,HC,$C,e,GC,fT,t),new tK(r)}function sK(r=V_()){r=dr(r);const e=lh(r,qw);return e.isInitialized()?e.getImmediate():aK(r)}function aK(r,e={}){const t=lh(r,qw);if(t.isInitialized()){const o=t.getImmediate();if(Gv(e,t.getOptions()))return o;throw Oa.create("already-initialized")}return t.initialize({options:e})}function oK(r,e,t,s){r=dr(r),ZG(hO,jv[r.app.options.appId],e,t,s).catch(o=>Us.error(o))}const QC="@firebase/analytics",WC="0.10.11";function lK(){ll(new Fa(qw,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return iK(s,o,t)},"PUBLIC")),ll(new Fa("analytics-internal",r,"PRIVATE")),Ls(QC,WC),Ls(QC,WC,"esm2017");function r(e){try{const t=e.getProvider(qw).getImmediate();return{logEvent:(s,o,c)=>oK(t,s,o,c)}}catch(t){throw Oa.create("interop-component-reg-failed",{reason:t})}}}lK();function t1(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function dO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cK=dO,fO=new Gf("auth","Firebase",dO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new U_("@firebase/auth");function uK(r,...e){Hw.logLevel<=Pt.WARN&&Hw.warn(`Auth (${Kf}): ${r}`,...e)}function sw(r,...e){Hw.logLevel<=Pt.ERROR&&Hw.error(`Auth (${Kf}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(r,...e){throw r1(r,...e)}function rl(r,...e){return r1(r,...e)}function n1(r,e,t){const s=Object.assign(Object.assign({},cK()),{[e]:t});return new Gf("auth","Firebase",s).create(e,{appName:r.name})}function hu(r){return n1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hK(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ba(r,"argument-error"),n1(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function r1(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return fO.create(r,...e)}function Ye(r,e,...t){if(!r)throw r1(e,...t)}function ru(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sw(e),new Error(e)}function xu(r,e){r||ru(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function dK(){return YC()==="http:"||YC()==="https:"}function YC(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dK()||PD()||"connection"in navigator)?navigator.onLine:!0}function mK(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,t){this.shortDelay=e,this.longDelay=t,xu(t>e,"Short delay should be less than long delay!"),this.isMobile=yH()||wH()}get(){return fK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(r,e){xu(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ru("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ru("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ru("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK=new yb(3e4,6e4);function ch(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function uh(r,e,t,s,o={}){return pO(r,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const f=gb(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:e,headers:p},c);return bH()||(v.referrerPolicy="no-referrer"),mO.fetch()(gO(r,r.config.apiHost,t,f),v)})}async function pO(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},pK),e);try{const o=new vK(r),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mb(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[p,v]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mb(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Mb(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Mb(r,"user-disabled",d);const x=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw n1(r,x,v);Ba(r,x)}}catch(o){if(o instanceof Ha)throw o;Ba(r,"network-request-failed",{message:String(o)})}}async function vb(r,e,t,s,o={}){const c=await uh(r,e,t,s,o);return"mfaPendingCredential"in c&&Ba(r,"multi-factor-auth-required",{_serverResponse:c}),c}function gO(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?i1(r.config,o):`${r.config.apiScheme}://${o}`}function yK(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(rl(this.auth,"network-request-failed")),gK.get())})}}function Mb(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=rl(r,e,s);return o.customData._tokenResponse=t,o}function XC(r){return r!==void 0&&r.enterprise!==void 0}class bK{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yK(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wK(r,e){return uh(r,"GET","/v2/recaptchaConfig",ch(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _K(r,e){return uh(r,"POST","/v1/accounts:delete",e)}async function yO(r,e){return uh(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xK(r,e=!1){const t=dr(r),s=await t.getIdToken(e),o=s1(s);Ye(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:Cv(mT(o.auth_time)),issuedAtTime:Cv(mT(o.iat)),expirationTime:Cv(mT(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function mT(r){return Number(r)*1e3}function s1(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return sw("JWT malformed, contained fewer than 3 sections"),null;try{const o=kD(t);return o?JSON.parse(o):(sw("Failed to decode base64 JWT payload"),null)}catch(o){return sw("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ZC(r){const e=s1(r);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qv(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ha&&TK(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function TK({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cv(this.lastLoginAt),this.creationTime=Cv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Qv(r,yO(t,{idToken:s}));Ye(o==null?void 0:o.users.length,t,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?vO(c.providerUserInfo):[],f=AK(r.providerData,d),p=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!(f!=null&&f.length),x=p?v:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new uE(c.createdAt,c.lastLoginAt),isAnonymous:x};Object.assign(r,A)}async function SK(r){const e=dr(r);await $w(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AK(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function vO(r){return r.map(e=>{var{providerId:t}=e,s=t1(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jK(r,e){const t=await pO(r,{},async()=>{const s=gb({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=gO(r,o,"/v1/token",`key=${c}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",mO.fetch()(d,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function CK(r,e){return uh(r,"POST","/v2/accounts:revokeToken",ch(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const t=ZC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await jK(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,d=new hm;return s&&(Ye(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Ye(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ye(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hm,this.toJSON())}_performRefresh(){return ru("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(r,e){Ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class iu{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,c=t1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new uE(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await Qv(this,this.stsTokenManager.getToken(this.auth,e));return Ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xK(this,e)}reload(){return SK(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new iu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await $w(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ds(this.auth.app))return Promise.reject(hu(this.auth));const e=await this.getIdToken();return await Qv(this,_K(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,c,d,f,p,v,x;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,C=(o=t.email)!==null&&o!==void 0?o:void 0,U=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,M=(d=t.photoURL)!==null&&d!==void 0?d:void 0,K=(f=t.tenantId)!==null&&f!==void 0?f:void 0,q=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,G=(v=t.createdAt)!==null&&v!==void 0?v:void 0,Z=(x=t.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:Y,emailVerified:ae,isAnonymous:ce,providerData:de,stsTokenManager:R}=t;Ye(Y&&R,e,"internal-error");const j=hm.fromJSON(this.name,R);Ye(typeof Y=="string",e,"internal-error"),Au(A,e.name),Au(C,e.name),Ye(typeof ae=="boolean",e,"internal-error"),Ye(typeof ce=="boolean",e,"internal-error"),Au(U,e.name),Au(M,e.name),Au(K,e.name),Au(q,e.name),Au(G,e.name),Au(Z,e.name);const S=new iu({uid:Y,auth:e,email:C,emailVerified:ae,displayName:A,isAnonymous:ce,photoURL:M,phoneNumber:U,tenantId:K,stsTokenManager:j,createdAt:G,lastLoginAt:Z});return de&&Array.isArray(de)&&(S.providerData=de.map(N=>Object.assign({},N))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new hm;o.updateFromServerResponse(t);const c=new iu({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await $w(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ye(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?vO(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),f=new hm;f.updateFromIdToken(s);const p=new iu({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new uE(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new Map;function su(r){xu(r instanceof Function,"Expected a class definition");let e=JC.get(r);return e?(xu(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,JC.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bO.type="NONE";const ek=bO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(r,e,t){return`firebase:${r}:${e}:${t}`}class dm{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=aw(this.userKey,o.apiKey,c),this.fullPersistenceKey=aw("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?iu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new dm(su(ek),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||su(ek);const d=aw(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const x=await v._get(d);if(x){const A=iu._fromJSON(e,x);v!==c&&(f=A),c=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new dm(c,e,s):(c=p[0],f&&await c._set(d,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new dm(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SO(e))return"Blackberry";if(AO(e))return"Webos";if(_O(e))return"Safari";if((e.includes("chrome/")||xO(e))&&!e.includes("edge/"))return"Chrome";if(EO(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function wO(r=Qi()){return/firefox\//i.test(r)}function _O(r=Qi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xO(r=Qi()){return/crios\//i.test(r)}function TO(r=Qi()){return/iemobile/i.test(r)}function EO(r=Qi()){return/android/i.test(r)}function SO(r=Qi()){return/blackberry/i.test(r)}function AO(r=Qi()){return/webos/i.test(r)}function a1(r=Qi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kK(r=Qi()){var e;return a1(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NK(){return _H()&&document.documentMode===10}function jO(r=Qi()){return a1(r)||EO(r)||AO(r)||SO(r)||/windows phone/i.test(r)||TO(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(r,e=[]){let t;switch(r){case"Browser":t=tk(Qi());break;case"Worker":t=`${tk(Qi())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Kf}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((d,f)=>{try{const p=e(c);d(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RK(r,e={}){return uh(r,"GET","/v2/passwordPolicy",ch(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=6;class OK{constructor(e){var t,s,o,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:DK,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,c,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nk(this),this.idTokenSubscription=new nk(this),this.beforeStateQueue=new IK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=su(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await dm.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yO(this,{idToken:e}),s=await iu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ds(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===f)&&(p!=null&&p.user)&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $w(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ds(this.app))return Promise.reject(hu(this));const t=e?dr(e):null;return t&&Ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ds(this.app)?Promise.reject(hu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ds(this.app)?Promise.reject(hu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(su(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RK(this),t=new OK(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gf("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await CK(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&su(e)||this._popupRedirectResolver;Ye(t,this,"argument-error"),this.redirectPersistenceManager=await dm.create(this,[su(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&uK(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function hh(r){return dr(r)}class nk{constructor(e){this.auth=e,this.observer=null,this.addObserver=CH(t=>this.observer=t)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MK(r){B_=r}function kO(r){return B_.loadJS(r)}function LK(){return B_.recaptchaEnterpriseScript}function UK(){return B_.gapiScript}function VK(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class zK{constructor(){this.enterprise=new FK}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FK{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const BK="recaptcha-enterprise",NO="NO_RECAPTCHA";class qK{constructor(e){this.type=BK,this.auth=hh(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,f)=>{wK(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const v=new bK(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(p=>{f(p)})})}function o(c,d,f){const p=window.grecaptcha;XC(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(NO)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zK().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(f=>{if(!t&&XC(window.grecaptcha))o(f,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=LK();p.length!==0&&(p+=f),kO(p).then(()=>{o(f,c,d)}).catch(v=>{d(v)})}}).catch(f=>{d(f)})})}}async function rk(r,e,t,s=!1,o=!1){const c=new qK(r);let d;if(o)d=NO;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,v=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function hE(r,e,t,s,o){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await rk(r,e,t,t==="getOobCode");return s(r,d)}else return s(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await rk(r,e,t,t==="getOobCode");return s(r,f)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(r,e){const t=lh(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Gv(c,e??{}))return o;Ba(o,"already-initialized")}return t.initialize({options:e})}function $K(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(su);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function GK(r,e,t){const s=hh(r);Ye(s._canInitEmulator,s,"emulator-config-failed"),Ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=IO(e),{host:d,port:f}=KK(e),p=f===null?"":`:${f}`;s.config.emulator={url:`${c}//${d}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),QK()}function IO(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function KK(r){const e=IO(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:ik(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:ik(d)}}}function ik(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function QK(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ru("not implemented")}_getIdTokenResponse(e){return ru("not implemented")}_linkToIdToken(e,t){return ru("not implemented")}_getReauthenticationResolver(e){return ru("not implemented")}}async function WK(r,e){return uh(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YK(r,e){return vb(r,"POST","/v1/accounts:signInWithPassword",ch(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XK(r,e){return vb(r,"POST","/v1/accounts:signInWithEmailLink",ch(r,e))}async function ZK(r,e){return vb(r,"POST","/v1/accounts:signInWithEmailLink",ch(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends o1{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Wv(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Wv(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hE(e,t,"signInWithPassword",YK);case"emailLink":return XK(e,{email:this._email,oobCode:this._password});default:Ba(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hE(e,s,"signUpPassword",WK);case"emailLink":return ZK(e,{idToken:t,email:this._email,oobCode:this._password});default:Ba(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fm(r,e){return vb(r,"POST","/v1/accounts:signInWithIdp",ch(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK="http://localhost";class Of extends o1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Of(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ba("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,c=t1(t,["providerId","signInMethod"]);if(!s||!o)return null;const d=new Of(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return fm(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,fm(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fm(e,t)}buildRequest(){const e={requestUri:JK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gb(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eQ(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tQ(r){const e=mv(pv(r)).link,t=e?mv(pv(e)).deep_link_id:null,s=mv(pv(r)).deep_link_id;return(s?mv(pv(s)).link:null)||s||t||e||r}class l1{constructor(e){var t,s,o,c,d,f;const p=mv(pv(e)),v=(t=p.apiKey)!==null&&t!==void 0?t:null,x=(s=p.oobCode)!==null&&s!==void 0?s:null,A=eQ((o=p.mode)!==null&&o!==void 0?o:null);Ye(v&&x&&A,"argument-error"),this.apiKey=v,this.operation=A,this.code=x,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=tQ(e);try{return new l1(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.providerId=qm.PROVIDER_ID}static credential(e,t){return Wv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=l1.parseLink(t);return Ye(s,"argument-error"),Wv._fromEmailAndCode(e,s.code,s.tenantId)}}qm.PROVIDER_ID="password";qm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb extends c1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends bb{constructor(){super("facebook.com")}static credential(e){return Of._fromParams({providerId:Iu.PROVIDER_ID,signInMethod:Iu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Iu.credentialFromTaggedObject(e)}static credentialFromError(e){return Iu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Iu.credential(e.oauthAccessToken)}catch{return null}}}Iu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Iu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends bb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Of._fromParams({providerId:Jc.PROVIDER_ID,signInMethod:Jc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jc.credentialFromTaggedObject(e)}static credentialFromError(e){return Jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Jc.credential(t,s)}catch{return null}}}Jc.GOOGLE_SIGN_IN_METHOD="google.com";Jc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends bb{constructor(){super("github.com")}static credential(e){return Of._fromParams({providerId:Ru.PROVIDER_ID,signInMethod:Ru.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ru.credentialFromTaggedObject(e)}static credentialFromError(e){return Ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ru.credential(e.oauthAccessToken)}catch{return null}}}Ru.GITHUB_SIGN_IN_METHOD="github.com";Ru.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends bb{constructor(){super("twitter.com")}static credential(e,t){return Of._fromParams({providerId:Du.PROVIDER_ID,signInMethod:Du.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Du.credentialFromTaggedObject(e)}static credentialFromError(e){return Du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Du.credential(t,s)}catch{return null}}}Du.TWITTER_SIGN_IN_METHOD="twitter.com";Du.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nQ(r,e){return vb(r,"POST","/v1/accounts:signUp",ch(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await iu._fromIdTokenResponse(e,s,o),d=sk(s);return new Pf({user:c,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=sk(s);return new Pf({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function sk(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw extends Ha{constructor(e,t,s,o){var c;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gw.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Gw(e,t,s,o)}}function RO(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gw._fromErrorAndOperation(r,c,e,s):c})}async function rQ(r,e,t=!1){const s=await Qv(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Pf._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iQ(r,e,t=!1){const{auth:s}=r;if(Ds(s.app))return Promise.reject(hu(s));const o="reauthenticate";try{const c=await Qv(r,RO(s,o,e,r),t);Ye(c.idToken,s,"internal-error");const d=s1(c.idToken);Ye(d,s,"internal-error");const{sub:f}=d;return Ye(r.uid===f,s,"user-mismatch"),Pf._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Ba(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(r,e,t=!1){if(Ds(r.app))return Promise.reject(hu(r));const s="signIn",o=await RO(r,s,e),c=await Pf._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(c.user),c}async function sQ(r,e){return DO(hh(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(r){const e=hh(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aQ(r,e,t){if(Ds(r.app))return Promise.reject(hu(r));const s=hh(r),d=await hE(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nQ).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&OO(r),p}),f=await Pf._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(f.user),f}function oQ(r,e,t){return Ds(r.app)?Promise.reject(hu(r)):sQ(dr(r),qm.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&OO(r),s})}function lQ(r,e,t,s){return dr(r).onIdTokenChanged(e,t,s)}function cQ(r,e,t){return dr(r).beforeAuthStateChanged(e,t)}function PO(r,e,t,s){return dr(r).onAuthStateChanged(e,t,s)}function uQ(r){return dr(r).signOut()}const Kw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kw,"1"),this.storage.removeItem(Kw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hQ=1e3,dQ=10;class LO extends MO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);NK()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,dQ):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},hQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LO.type="LOCAL";const fQ=LO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO extends MO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}UO.type="SESSION";const VO=UO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mQ(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new q_(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(d).map(async v=>v(t.origin,c)),p=await mQ(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}q_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((f,p)=>{const v=u1("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(A){const C=A;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(C.data.response);break;default:clearTimeout(x),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(){return window}function gQ(r){bl().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return typeof bl().WorkerGlobalScope<"u"&&typeof bl().importScripts=="function"}async function yQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vQ(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function bQ(){return zO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="firebaseLocalStorageDb",wQ=1,Qw="firebaseLocalStorage",BO="fbase_key";class wb{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function H_(r,e){return r.transaction([Qw],e?"readwrite":"readonly").objectStore(Qw)}function _Q(){const r=indexedDB.deleteDatabase(FO);return new wb(r).toPromise()}function dE(){const r=indexedDB.open(FO,wQ);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Qw,{keyPath:BO})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Qw)?e(s):(s.close(),await _Q(),e(await dE()))})})}async function ak(r,e,t){const s=H_(r,!0).put({[BO]:e,value:t});return new wb(s).toPromise()}async function xQ(r,e){const t=H_(r,!1).get(e),s=await new wb(t).toPromise();return s===void 0?null:s.value}function ok(r,e){const t=H_(r,!0).delete(e);return new wb(t).toPromise()}const TQ=800,EQ=3;class qO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>EQ)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=q_._getInstance(bQ()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yQ(),!this.activeServiceWorker)return;this.sender=new pQ(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dE();return await ak(e,Kw,"1"),await ok(e,Kw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ak(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>xQ(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ok(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=H_(o,!1).getAll();return new wb(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qO.type="LOCAL";const SQ=qO;new yb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(r,e){return e?su(e):(Ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends o1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AQ(r){return DO(r.auth,new h1(r),r.bypassAuthState)}function jQ(r){const{auth:e,user:t}=r;return Ye(t,e,"internal-error"),iQ(t,new h1(r),r.bypassAuthState)}async function CQ(r){const{auth:e,user:t}=r;return Ye(t,e,"internal-error"),rQ(t,new h1(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AQ;case"linkViaPopup":case"linkViaRedirect":return CQ;case"reauthViaPopup":case"reauthViaRedirect":return jQ;default:Ba(this.auth,"internal-error")}}resolve(e){xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ=new yb(2e3,1e4);async function NQ(r,e,t){if(Ds(r.app))return Promise.reject(rl(r,"operation-not-supported-in-this-environment"));const s=hh(r);hK(r,e,c1);const o=HO(s,t);return new vf(s,"signInViaPopup",e,o).executeNotNull()}class vf extends $O{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,vf.currentPopupAction&&vf.currentPopupAction.cancel(),vf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){xu(this.filter.length===1,"Popup operations only handle one event");const e=u1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kQ.get())};e()}}vf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ="pendingRedirect",ow=new Map;class RQ extends $O{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ow.get(this.auth._key());if(!e){try{const s=await DQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ow.set(this.auth._key(),e)}return this.bypassAuthState||ow.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DQ(r,e){const t=MQ(e),s=PQ(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function OQ(r,e){ow.set(r._key(),e)}function PQ(r){return su(r._redirectPersistence)}function MQ(r){return aw(IQ,r.config.apiKey,r.name)}async function LQ(r,e,t=!1){if(Ds(r.app))return Promise.reject(hu(r));const s=hh(r),o=HO(s,e),d=await new RQ(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ=10*60*1e3;class VQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zQ(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!GO(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(rl(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(lk(e))}saveEventToCache(e){this.cachedEventUids.add(lk(e)),this.lastProcessedEventTime=Date.now()}}function lk(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function GO({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zQ(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GO(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FQ(r,e={}){return uh(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qQ=/^https?/;async function HQ(r){if(r.config.emulator)return;const{authorizedDomains:e}=await FQ(r);for(const t of e)try{if($Q(t))return}catch{}Ba(r,"unauthorized-domain")}function $Q(r){const e=cE(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!qQ.test(t))return!1;if(BQ.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GQ=new yb(3e4,6e4);function ck(){const r=bl().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function KQ(r){return new Promise((e,t)=>{var s,o,c;function d(){ck(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ck(),t(rl(r,"network-request-failed"))},timeout:GQ.get()})}if(!((o=(s=bl().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=bl().gapi)===null||c===void 0)&&c.load)d();else{const f=VK("iframefcb");return bl()[f]=()=>{gapi.load?d():t(rl(r,"network-request-failed"))},kO(`${UK()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw lw=null,e})}let lw=null;function QQ(r){return lw=lw||KQ(r),lw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=new yb(5e3,15e3),YQ="__/auth/iframe",XQ="emulator/auth/iframe",ZQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eW(r){const e=r.config;Ye(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?i1(e,XQ):`https://${r.config.authDomain}/${YQ}`,s={apiKey:e.apiKey,appName:r.name,v:Kf},o=JQ.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${gb(s).slice(1)}`}async function tW(r){const e=await QQ(r),t=bl().gapi;return Ye(t,r,"internal-error"),e.open({where:document.body,url:eW(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZQ,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=rl(r,"network-request-failed"),f=bl().setTimeout(()=>{c(d)},WQ.get());function p(){bl().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rW=500,iW=600,sW="_blank",aW="http://localhost";class uk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oW(r,e,t,s=rW,o=iW){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},nW),{width:s.toString(),height:o.toString(),top:c,left:d}),v=Qi().toLowerCase();t&&(f=xO(v)?sW:t),wO(v)&&(e=e||aW,p.scrollbars="yes");const x=Object.entries(p).reduce((C,[U,M])=>`${C}${U}=${M},`,"");if(kK(v)&&f!=="_self")return lW(e||"",f),new uk(null);const A=window.open(e||"",f,x);Ye(A,r,"popup-blocked");try{A.focus()}catch{}return new uk(A)}function lW(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW="__/auth/handler",uW="emulator/auth/handler",hW=encodeURIComponent("fac");async function hk(r,e,t,s,o,c){Ye(r.config.authDomain,r,"auth-domain-config-required"),Ye(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Kf,eventId:o};if(e instanceof c1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",jH(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,A]of Object.entries({}))d[x]=A}if(e instanceof bb){const x=e.getScopes().filter(A=>A!=="");x.length>0&&(d.scopes=x.join(","))}r.tenantId&&(d.tid=r.tenantId);const f=d;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const p=await r._getAppCheckToken(),v=p?`#${hW}=${encodeURIComponent(p)}`:"";return`${dW(r)}?${gb(f).slice(1)}${v}`}function dW({config:r}){return r.emulator?i1(r,uW):`https://${r.authDomain}/${cW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="webStorageSupport";class fW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VO,this._completeRedirectFn=LQ,this._overrideRedirectResult=OQ}async _openPopup(e,t,s,o){var c;xu((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await hk(e,t,s,cE(),o);return oW(e,d,u1())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await hk(e,t,s,cE(),o);return gQ(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(xu(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await tW(e),s=new VQ(e);return t.register("authEvent",o=>(Ye(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pT,{type:pT},o=>{var c;const d=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[pT];d!==void 0&&t(!!d),Ba(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HQ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jO()||_O()||a1()}}const mW=fW;var dk="@firebase/auth",fk="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yW(r){ll(new Fa("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=s.options;Ye(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CO(r)},v=new PK(s,o,c,p);return $K(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ll(new Fa("auth-internal",e=>{const t=hh(e.getProvider("auth").getImmediate());return(s=>new pW(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(dk,fk,gW(r)),Ls(dk,fk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=5*60,bW=DD("authIdTokenMaxAge")||vW;let mk=null;const wW=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>bW)return;const o=t==null?void 0:t.token;mk!==o&&(mk=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function d1(r=V_()){const e=lh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=HK(r,{popupRedirectResolver:mW,persistence:[SQ,fQ,VO]}),s=DD("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=wW(c.toString());cQ(t,d,()=>d(t.currentUser)),lQ(t,f=>d(f))}}const o=ND("auth");return o&&GK(t,`http://${o}`),t}function _W(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}MK({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=rl("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",_W().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yW("Browser");const xW={apiKey:"AIzaSyD3pEM49vWCUqZxvE8W2KhDRc3niHfT7p8",authDomain:"psych-67c1c.firebaseapp.com",projectId:"psych-67c1c",storageBucket:"psych-67c1c.firebasestorage.app",messagingSenderId:"183648512326",appId:"1:183648512326:web:8e382ca479ea61342f9d47",measurementId:"G-9TRYDJJCDP"},KO=FD(xW);sK(KO);const QO=d1(KO),f1=ie.createContext({darkMode:!1,toggleDarkMode:()=>{}}),TW=({children:r})=>{const e=()=>{const c=localStorage.getItem("darkMode");return c!==null?c==="true":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches},[t,s]=ie.useState(e),o=()=>{s(c=>!c)};return ie.useEffect(()=>{localStorage.setItem("darkMode",t),t?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[t]),ie.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{localStorage.getItem("darkMode")===null&&s(c.matches)};return c.addEventListener("change",d),()=>c.removeEventListener("change",d)},[]),y.jsx(f1.Provider,{value:{darkMode:t,toggleDarkMode:o},children:r})};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WO=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=ie.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...f},p)=>ie.createElement("svg",{ref:p,...SW,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:WO("lucide",o),...f},[...d.map(([v,x])=>ie.createElement(v,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=(r,e)=>{const t=ie.forwardRef(({className:s,...o},c)=>ie.createElement(AW,{ref:c,iconNode:e,className:WO(`lucide-${EW(r)}`,s),...o}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],CW=Ma("Bell",jW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],NW=Ma("Calendar",kW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zo=Ma("ChevronRight",IW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],pk=Ma("CircleUser",RW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],OW=Ma("FileText",DW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],MW=Ma("LogOut",PW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],UW=Ma("Moon",LW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zW=Ma("Settings",VW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],BW=Ma("Shield",FW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],HW=Ma("SquareActivity",qW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],GW=Ma("User",$W);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],QW=Ma("Users",KW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gk=Ma("X",WW);var yk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hu,YO;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,j){function S(){}S.prototype=j.prototype,R.D=j.prototype,R.prototype=new S,R.prototype.constructor=R,R.C=function(N,O,z){for(var I=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)I[dt-2]=arguments[dt];return j.prototype[O].apply(N,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,j,S){S||(S=0);var N=Array(16);if(typeof j=="string")for(var O=0;16>O;++O)N[O]=j.charCodeAt(S++)|j.charCodeAt(S++)<<8|j.charCodeAt(S++)<<16|j.charCodeAt(S++)<<24;else for(O=0;16>O;++O)N[O]=j[S++]|j[S++]<<8|j[S++]<<16|j[S++]<<24;j=R.g[0],S=R.g[1],O=R.g[2];var z=R.g[3],I=j+(z^S&(O^z))+N[0]+3614090360&4294967295;j=S+(I<<7&4294967295|I>>>25),I=z+(O^j&(S^O))+N[1]+3905402710&4294967295,z=j+(I<<12&4294967295|I>>>20),I=O+(S^z&(j^S))+N[2]+606105819&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(j^O&(z^j))+N[3]+3250441966&4294967295,S=O+(I<<22&4294967295|I>>>10),I=j+(z^S&(O^z))+N[4]+4118548399&4294967295,j=S+(I<<7&4294967295|I>>>25),I=z+(O^j&(S^O))+N[5]+1200080426&4294967295,z=j+(I<<12&4294967295|I>>>20),I=O+(S^z&(j^S))+N[6]+2821735955&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(j^O&(z^j))+N[7]+4249261313&4294967295,S=O+(I<<22&4294967295|I>>>10),I=j+(z^S&(O^z))+N[8]+1770035416&4294967295,j=S+(I<<7&4294967295|I>>>25),I=z+(O^j&(S^O))+N[9]+2336552879&4294967295,z=j+(I<<12&4294967295|I>>>20),I=O+(S^z&(j^S))+N[10]+4294925233&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(j^O&(z^j))+N[11]+2304563134&4294967295,S=O+(I<<22&4294967295|I>>>10),I=j+(z^S&(O^z))+N[12]+1804603682&4294967295,j=S+(I<<7&4294967295|I>>>25),I=z+(O^j&(S^O))+N[13]+4254626195&4294967295,z=j+(I<<12&4294967295|I>>>20),I=O+(S^z&(j^S))+N[14]+2792965006&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(j^O&(z^j))+N[15]+1236535329&4294967295,S=O+(I<<22&4294967295|I>>>10),I=j+(O^z&(S^O))+N[1]+4129170786&4294967295,j=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(j^S))+N[6]+3225465664&4294967295,z=j+(I<<9&4294967295|I>>>23),I=O+(j^S&(z^j))+N[11]+643717713&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^j&(O^z))+N[0]+3921069994&4294967295,S=O+(I<<20&4294967295|I>>>12),I=j+(O^z&(S^O))+N[5]+3593408605&4294967295,j=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(j^S))+N[10]+38016083&4294967295,z=j+(I<<9&4294967295|I>>>23),I=O+(j^S&(z^j))+N[15]+3634488961&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^j&(O^z))+N[4]+3889429448&4294967295,S=O+(I<<20&4294967295|I>>>12),I=j+(O^z&(S^O))+N[9]+568446438&4294967295,j=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(j^S))+N[14]+3275163606&4294967295,z=j+(I<<9&4294967295|I>>>23),I=O+(j^S&(z^j))+N[3]+4107603335&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^j&(O^z))+N[8]+1163531501&4294967295,S=O+(I<<20&4294967295|I>>>12),I=j+(O^z&(S^O))+N[13]+2850285829&4294967295,j=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(j^S))+N[2]+4243563512&4294967295,z=j+(I<<9&4294967295|I>>>23),I=O+(j^S&(z^j))+N[7]+1735328473&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^j&(O^z))+N[12]+2368359562&4294967295,S=O+(I<<20&4294967295|I>>>12),I=j+(S^O^z)+N[5]+4294588738&4294967295,j=S+(I<<4&4294967295|I>>>28),I=z+(j^S^O)+N[8]+2272392833&4294967295,z=j+(I<<11&4294967295|I>>>21),I=O+(z^j^S)+N[11]+1839030562&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^j)+N[14]+4259657740&4294967295,S=O+(I<<23&4294967295|I>>>9),I=j+(S^O^z)+N[1]+2763975236&4294967295,j=S+(I<<4&4294967295|I>>>28),I=z+(j^S^O)+N[4]+1272893353&4294967295,z=j+(I<<11&4294967295|I>>>21),I=O+(z^j^S)+N[7]+4139469664&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^j)+N[10]+3200236656&4294967295,S=O+(I<<23&4294967295|I>>>9),I=j+(S^O^z)+N[13]+681279174&4294967295,j=S+(I<<4&4294967295|I>>>28),I=z+(j^S^O)+N[0]+3936430074&4294967295,z=j+(I<<11&4294967295|I>>>21),I=O+(z^j^S)+N[3]+3572445317&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^j)+N[6]+76029189&4294967295,S=O+(I<<23&4294967295|I>>>9),I=j+(S^O^z)+N[9]+3654602809&4294967295,j=S+(I<<4&4294967295|I>>>28),I=z+(j^S^O)+N[12]+3873151461&4294967295,z=j+(I<<11&4294967295|I>>>21),I=O+(z^j^S)+N[15]+530742520&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^j)+N[2]+3299628645&4294967295,S=O+(I<<23&4294967295|I>>>9),I=j+(O^(S|~z))+N[0]+4096336452&4294967295,j=S+(I<<6&4294967295|I>>>26),I=z+(S^(j|~O))+N[7]+1126891415&4294967295,z=j+(I<<10&4294967295|I>>>22),I=O+(j^(z|~S))+N[14]+2878612391&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~j))+N[5]+4237533241&4294967295,S=O+(I<<21&4294967295|I>>>11),I=j+(O^(S|~z))+N[12]+1700485571&4294967295,j=S+(I<<6&4294967295|I>>>26),I=z+(S^(j|~O))+N[3]+2399980690&4294967295,z=j+(I<<10&4294967295|I>>>22),I=O+(j^(z|~S))+N[10]+4293915773&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~j))+N[1]+2240044497&4294967295,S=O+(I<<21&4294967295|I>>>11),I=j+(O^(S|~z))+N[8]+1873313359&4294967295,j=S+(I<<6&4294967295|I>>>26),I=z+(S^(j|~O))+N[15]+4264355552&4294967295,z=j+(I<<10&4294967295|I>>>22),I=O+(j^(z|~S))+N[6]+2734768916&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~j))+N[13]+1309151649&4294967295,S=O+(I<<21&4294967295|I>>>11),I=j+(O^(S|~z))+N[4]+4149444226&4294967295,j=S+(I<<6&4294967295|I>>>26),I=z+(S^(j|~O))+N[11]+3174756917&4294967295,z=j+(I<<10&4294967295|I>>>22),I=O+(j^(z|~S))+N[2]+718787259&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~j))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+j&4294967295,R.g[1]=R.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+z&4294967295}s.prototype.u=function(R,j){j===void 0&&(j=R.length);for(var S=j-this.blockSize,N=this.B,O=this.h,z=0;z<j;){if(O==0)for(;z<=S;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<j;)if(N[O++]=R.charCodeAt(z++),O==this.blockSize){o(this,N),O=0;break}}else for(;z<j;)if(N[O++]=R[z++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=j},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var j=1;j<R.length-8;++j)R[j]=0;var S=8*this.o;for(j=R.length-8;j<R.length;++j)R[j]=S&255,S/=256;for(this.u(R),R=Array(16),j=S=0;4>j;++j)for(var N=0;32>N;N+=8)R[S++]=this.g[j]>>>N&255;return R};function c(R,j){var S=f;return Object.prototype.hasOwnProperty.call(S,R)?S[R]:S[R]=j(R)}function d(R,j){this.h=j;for(var S=[],N=!0,O=R.length-1;0<=O;O--){var z=R[O]|0;N&&z==j||(S[O]=z,N=!1)}this.g=S}var f={};function p(R){return-128<=R&&128>R?c(R,function(j){return new d([j|0],0>j?-1:0)}):new d([R|0],0>R?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return A;if(0>R)return q(v(-R));for(var j=[],S=1,N=0;R>=S;N++)j[N]=R/S|0,S*=4294967296;return new d(j,0)}function x(R,j){if(R.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(R.charAt(0)=="-")return q(x(R.substring(1),j));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(j,8)),N=A,O=0;O<R.length;O+=8){var z=Math.min(8,R.length-O),I=parseInt(R.substring(O,O+z),j);8>z?(z=v(Math.pow(j,z)),N=N.j(z).add(v(I))):(N=N.j(S),N=N.add(v(I)))}return N}var A=p(0),C=p(1),U=p(16777216);r=d.prototype,r.m=function(){if(K(this))return-q(this).m();for(var R=0,j=1,S=0;S<this.g.length;S++){var N=this.i(S);R+=(0<=N?N:4294967296+N)*j,j*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M(this))return"0";if(K(this))return"-"+q(this).toString(R);for(var j=v(Math.pow(R,6)),S=this,N="";;){var O=ae(S,j).g;S=G(S,O.j(j));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(R);if(S=O,M(S))return z+N;for(;6>z.length;)z="0"+z;N=z+N}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function M(R){if(R.h!=0)return!1;for(var j=0;j<R.g.length;j++)if(R.g[j]!=0)return!1;return!0}function K(R){return R.h==-1}r.l=function(R){return R=G(this,R),K(R)?-1:M(R)?0:1};function q(R){for(var j=R.g.length,S=[],N=0;N<j;N++)S[N]=~R.g[N];return new d(S,~R.h).add(C)}r.abs=function(){return K(this)?q(this):this},r.add=function(R){for(var j=Math.max(this.g.length,R.g.length),S=[],N=0,O=0;O<=j;O++){var z=N+(this.i(O)&65535)+(R.i(O)&65535),I=(z>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);N=I>>>16,z&=65535,I&=65535,S[O]=I<<16|z}return new d(S,S[S.length-1]&-2147483648?-1:0)};function G(R,j){return R.add(q(j))}r.j=function(R){if(M(this)||M(R))return A;if(K(this))return K(R)?q(this).j(q(R)):q(q(this).j(R));if(K(R))return q(this.j(q(R)));if(0>this.l(U)&&0>R.l(U))return v(this.m()*R.m());for(var j=this.g.length+R.g.length,S=[],N=0;N<2*j;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<R.g.length;O++){var z=this.i(N)>>>16,I=this.i(N)&65535,dt=R.i(O)>>>16,nt=R.i(O)&65535;S[2*N+2*O]+=I*nt,Z(S,2*N+2*O),S[2*N+2*O+1]+=z*nt,Z(S,2*N+2*O+1),S[2*N+2*O+1]+=I*dt,Z(S,2*N+2*O+1),S[2*N+2*O+2]+=z*dt,Z(S,2*N+2*O+2)}for(N=0;N<j;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=j;N<2*j;N++)S[N]=0;return new d(S,0)};function Z(R,j){for(;(R[j]&65535)!=R[j];)R[j+1]+=R[j]>>>16,R[j]&=65535,j++}function Y(R,j){this.g=R,this.h=j}function ae(R,j){if(M(j))throw Error("division by zero");if(M(R))return new Y(A,A);if(K(R))return j=ae(q(R),j),new Y(q(j.g),q(j.h));if(K(j))return j=ae(R,q(j)),new Y(q(j.g),j.h);if(30<R.g.length){if(K(R)||K(j))throw Error("slowDivide_ only works with positive integers.");for(var S=C,N=j;0>=N.l(R);)S=ce(S),N=ce(N);var O=de(S,1),z=de(N,1);for(N=de(N,2),S=de(S,2);!M(N);){var I=z.add(N);0>=I.l(R)&&(O=O.add(S),z=I),N=de(N,1),S=de(S,1)}return j=G(R,O.j(j)),new Y(O,j)}for(O=A;0<=R.l(j);){for(S=Math.max(1,Math.floor(R.m()/j.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),z=v(S),I=z.j(j);K(I)||0<I.l(R);)S-=N,z=v(S),I=z.j(j);M(z)&&(z=C),O=O.add(z),R=G(R,I)}return new Y(O,R)}r.A=function(R){return ae(this,R).h},r.and=function(R){for(var j=Math.max(this.g.length,R.g.length),S=[],N=0;N<j;N++)S[N]=this.i(N)&R.i(N);return new d(S,this.h&R.h)},r.or=function(R){for(var j=Math.max(this.g.length,R.g.length),S=[],N=0;N<j;N++)S[N]=this.i(N)|R.i(N);return new d(S,this.h|R.h)},r.xor=function(R){for(var j=Math.max(this.g.length,R.g.length),S=[],N=0;N<j;N++)S[N]=this.i(N)^R.i(N);return new d(S,this.h^R.h)};function ce(R){for(var j=R.g.length+1,S=[],N=0;N<j;N++)S[N]=R.i(N)<<1|R.i(N-1)>>>31;return new d(S,R.h)}function de(R,j){var S=j>>5;j%=32;for(var N=R.g.length-S,O=[],z=0;z<N;z++)O[z]=0<j?R.i(z+S)>>>j|R.i(z+S+1)<<32-j:R.i(z+S);return new d(O,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,YO=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=x,Hu=d}).apply(typeof yk<"u"?yk:typeof self<"u"?self:typeof window<"u"?window:{});var Lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XO,gv,ZO,cw,fE,JO,eP,tP;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,b,w){return u==Array.prototype||u==Object.prototype||(u[b]=w.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lb=="object"&&Lb];for(var b=0;b<u.length;++b){var w=u[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function o(u,b){if(b)e:{var w=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var F=u[E];if(!(F in w))break e;w=w[F]}u=u[u.length-1],E=w[u],b=b(E),b!=E&&b!=null&&e(w,u,{configurable:!0,writable:!0,value:b})}}function c(u,b){u instanceof String&&(u+="");var w=0,E=!1,F={next:function(){if(!E&&w<u.length){var $=w++;return{value:b($,u[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return c(this,function(b,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function p(u){var b=typeof u;return b=b!="object"?b:u?Array.isArray(u)?"array":b:"null",b=="array"||b=="object"&&typeof u.length=="number"}function v(u){var b=typeof u;return b=="object"&&u!=null||b=="function"}function x(u,b,w){return u.call.apply(u.bind,arguments)}function A(u,b,w){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,E),u.apply(b,F)}}return function(){return u.apply(b,arguments)}}function C(u,b,w){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:A,C.apply(null,arguments)}function U(u,b){var w=Array.prototype.slice.call(arguments,1);return function(){var E=w.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function M(u,b){function w(){}w.prototype=b.prototype,u.aa=b.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(E,F,$){for(var ne=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ne[Re-2]=arguments[Re];return b.prototype[F].apply(E,ne)}}function K(u){const b=u.length;if(0<b){const w=Array(b);for(let E=0;E<b;E++)w[E]=u[E];return w}return[]}function q(u,b){for(let w=1;w<arguments.length;w++){const E=arguments[w];if(p(E)){const F=u.length||0,$=E.length||0;u.length=F+$;for(let ne=0;ne<$;ne++)u[F+ne]=E[ne]}else u.push(E)}}class G{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function Z(u){return/^[\s\xa0]*$/.test(u)}function Y(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ae(u){return ae[" "](u),u}ae[" "]=function(){};var ce=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function de(u,b,w){for(const E in u)b.call(w,u[E],E,u)}function R(u,b){for(const w in u)b.call(void 0,u[w],w,u)}function j(u){const b={};for(const w in u)b[w]=u[w];return b}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,b){let w,E;for(let F=1;F<arguments.length;F++){E=arguments[F];for(w in E)u[w]=E[w];for(let $=0;$<S.length;$++)w=S[$],Object.prototype.hasOwnProperty.call(E,w)&&(u[w]=E[w])}}function O(u){var b=1;u=u.split(":");const w=[];for(;0<b&&u.length;)w.push(u.shift()),b--;return u.length&&w.push(u.join(":")),w}function z(u){f.setTimeout(()=>{throw u},0)}function I(){var u=_e;let b=null;return u.g&&(b=u.g,u.g=u.g.next,u.g||(u.h=null),b.next=null),b}class dt{constructor(){this.h=this.g=null}add(b,w){const E=nt.get();E.set(b,w),this.h?this.h.next=E:this.g=E,this.h=E}}var nt=new G(()=>new se,u=>u.reset());class se{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let be,te=!1,_e=new dt,D=()=>{const u=f.Promise.resolve(void 0);be=()=>{u.then(X)}};var X=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(w){z(w)}var b=nt;b.j(u),100>b.h&&(b.h++,u.next=b.g,b.g=u)}te=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(u,b){this.type=u,this.g=this.target=b,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,b=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};f.addEventListener("test",w,b),f.removeEventListener("test",w,b)}catch{}return u}();function Ee(u,b){if(oe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=b,b=u.relatedTarget){if(ce){e:{try{ae(b.nodeName);var F=!0;break e}catch{}F=!1}F||(b=null)}}else w=="mouseover"?b=u.fromElement:w=="mouseout"&&(b=u.toElement);this.relatedTarget=b,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ee.aa.h.call(this)}}M(Ee,oe);var Te={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function rt(u,b,w,E,F){this.listener=u,this.proxy=null,this.src=b,this.type=w,this.capture=!!E,this.ha=F,this.key=++Oe,this.da=this.fa=!1}function Fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qt(u){this.src=u,this.g={},this.h=0}Qt.prototype.add=function(u,b,w,E,F){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ne=fn(u,b,E,F);return-1<ne?(b=u[ne],w||(b.fa=!1)):(b=new rt(b,this.src,$,!!E,F),b.fa=w,u.push(b)),b};function wr(u,b){var w=b.type;if(w in u.g){var E=u.g[w],F=Array.prototype.indexOf.call(E,b,void 0),$;($=0<=F)&&Array.prototype.splice.call(E,F,1),$&&(Fe(b),u.g[w].length==0&&(delete u.g[w],u.h--))}}function fn(u,b,w,E){for(var F=0;F<u.length;++F){var $=u[F];if(!$.da&&$.listener==b&&$.capture==!!w&&$.ha==E)return F}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),ei={};function _r(u,b,w,E,F){if(Array.isArray(b)){for(var $=0;$<b.length;$++)_r(u,b[$],w,E,F);return null}return w=Nl(w),u&&u[pt]?u.K(b,w,v(E)?!!E.capture:!1,F):$a(u,b,w,!1,E,F)}function $a(u,b,w,E,F,$){if(!b)throw Error("Invalid event type");var ne=v(F)?!!F.capture:!!F,Re=Ga(u);if(Re||(u[Jr]=Re=new Qt(u)),w=Re.add(b,w,E,ne,$),w.proxy)return w;if(E=Fs(),w.proxy=E,E.src=u,E.listener=w,u.addEventListener)le||(F=ne),F===void 0&&(F=!1),u.addEventListener(b.toString(),E,F);else if(u.attachEvent)u.attachEvent(qs(b.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Fs(){function u(w){return b.call(u.src,u.listener,w)}const b=dh;return u}function Bs(u,b,w,E,F){if(Array.isArray(b))for(var $=0;$<b.length;$++)Bs(u,b[$],w,E,F);else E=v(E)?!!E.capture:!!E,w=Nl(w),u&&u[pt]?(u=u.i,b=String(b).toString(),b in u.g&&($=u.g[b],w=fn($,w,E,F),-1<w&&(Fe($[w]),Array.prototype.splice.call($,w,1),$.length==0&&(delete u.g[b],u.h--)))):u&&(u=Ga(u))&&(b=u.g[b.toString()],u=-1,b&&(u=fn(b,w,E,F)),(w=-1<u?b[u]:null)&&Wi(w))}function Wi(u){if(typeof u!="number"&&u&&!u.da){var b=u.src;if(b&&b[pt])wr(b.i,u);else{var w=u.type,E=u.proxy;b.removeEventListener?b.removeEventListener(w,E,u.capture):b.detachEvent?b.detachEvent(qs(w),E):b.addListener&&b.removeListener&&b.removeListener(E),(w=Ga(b))?(wr(w,u),w.h==0&&(w.src=null,b[Jr]=null)):Fe(u)}}}function qs(u){return u in ei?ei[u]:ei[u]="on"+u}function dh(u,b){if(u.da)u=!0;else{b=new Ee(b,this);var w=u.listener,E=u.ha||u.src;u.fa&&Wi(u),u=w.call(E,b)}return u}function Ga(u){return u=u[Jr],u instanceof Qt?u:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nl(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(b){return u.handleEvent(b)}),u[nn])}function _t(){ue.call(this),this.i=new Qt(this),this.M=this,this.F=null}M(_t,ue),_t.prototype[pt]=!0,_t.prototype.removeEventListener=function(u,b,w,E){Bs(this,u,b,w,E)};function At(u,b){var w,E=u.F;if(E)for(w=[];E;E=E.F)w.push(E);if(u=u.M,E=b.type||b,typeof b=="string")b=new oe(b,u);else if(b instanceof oe)b.target=b.target||u;else{var F=b;b=new oe(E,u),N(b,F)}if(F=!0,w)for(var $=w.length-1;0<=$;$--){var ne=b.g=w[$];F=xr(ne,E,!0,b)&&F}if(ne=b.g=u,F=xr(ne,E,!0,b)&&F,F=xr(ne,E,!1,b)&&F,w)for($=0;$<w.length;$++)ne=b.g=w[$],F=xr(ne,E,!1,b)&&F}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var u=this.i,b;for(b in u.g){for(var w=u.g[b],E=0;E<w.length;E++)Fe(w[E]);delete u.g[b],u.h--}}this.F=null},_t.prototype.K=function(u,b,w,E){return this.i.add(String(u),b,!1,w,E)},_t.prototype.L=function(u,b,w,E){return this.i.add(String(u),b,!0,w,E)};function xr(u,b,w,E){if(b=u.i.g[String(b)],!b)return!0;b=b.concat();for(var F=!0,$=0;$<b.length;++$){var ne=b[$];if(ne&&!ne.da&&ne.capture==w){var Re=ne.listener,Tt=ne.ha||ne.src;ne.fa&&wr(u.i,ne),F=Re.call(Tt,E)!==!1&&F}}return F&&!E.defaultPrevented}function Il(u,b,w){if(typeof u=="function")w&&(u=C(u,w));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:f.setTimeout(u,b||0)}function Ka(u){u.g=Il(()=>{u.g=null,u.i&&(u.i=!1,Ka(u))},u.l);const b=u.h;u.h=null,u.m.apply(null,b)}class fh extends ue{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ka(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(u){ue.call(this),this.h=u,this.g={}}M(Yi,ue);var ti=[];function Gt(u){de(u.g,function(b,w){this.g.hasOwnProperty(w)&&Wi(b)},u),u.g={}}Yi.prototype.N=function(){Yi.aa.N.call(this),Gt(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qa=f.JSON.stringify,Qn=f.JSON.parse,Wt=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Wa(){}Wa.prototype.h=null;function Rl(u){return u.h||(u.h=u.i())}function Dl(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){oe.call(this,"d")}M(ni,oe);function Mn(){oe.call(this,"c")}M(Mn,oe);var mn={},ri=null;function Hs(){return ri=ri||new _t}mn.La="serverreachability";function Ya(u){oe.call(this,mn.La,u)}M(Ya,oe);function ii(u){const b=Hs();At(b,new Ya(b))}mn.STAT_EVENT="statevent";function $s(u,b){oe.call(this,mn.STAT_EVENT,u),this.stat=b}M($s,oe);function ft(u){const b=Hs();At(b,new $s(b,u))}mn.Ma="timingevent";function Ol(u,b){oe.call(this,mn.Ma,u),this.size=b}M(Ol,oe);function si(u,b){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},b)}function ai(){this.g=!0}ai.prototype.xa=function(){this.g=!1};function Pl(u,b,w,E,F,$){u.info(function(){if(u.g)if($)for(var ne="",Re=$.split("&"),Tt=0;Tt<Re.length;Tt++){var De=Re[Tt].split("=");if(1<De.length){var kt=De[0];De=De[1];var Nt=kt.split("_");ne=2<=Nt.length&&Nt[1]=="type"?ne+(kt+"="+De+"&"):ne+(kt+"=redacted&")}}else ne=null;else ne=$;return"XMLHTTP REQ ("+E+") [attempt "+F+"]: "+b+`
`+w+`
`+ne})}function Ml(u,b,w,E,F,$,ne){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+F+"]: "+b+`
`+w+`
`+$+" "+ne})}function oi(u,b,w,E){u.info(function(){return"XMLHTTP TEXT ("+b+"): "+jt(u,w)+(E?" "+E:"")})}function Yn(u,b){u.info(function(){return"TIMEOUT: "+b})}ai.prototype.info=function(){};function jt(u,b){if(!u.g)return b;if(!b)return null;try{var w=JSON.parse(b);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var E=w[u];if(!(2>E.length)){var F=E[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var ne=1;ne<F.length;ne++)F[ne]=""}}}}return Qa(w)}catch{return b}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xi;function Gs(){}M(Gs,Wa),Gs.prototype.g=function(){return new XMLHttpRequest},Gs.prototype.i=function(){return{}},Xi=new Gs;function Xn(u,b,w,E){this.j=u,this.i=b,this.l=w,this.R=E||1,this.U=new Yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xa}function Xa(){this.i=null,this.g="",this.h=!1}var li={},Zi={};function Ln(u,b,w){u.L=1,u.v=ts(ct(b)),u.m=w,u.P=!0,Er(u,null)}function Er(u,b){u.F=Date.now(),Ze(u),u.A=ct(u.v);var w=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),jr(w.i,"t",E),u.C=0,w=u.j.J,u.h=new Xa,u.g=Yl(u.j,w?b:null,!u.m),0<u.O&&(u.M=new fh(C(u.Y,u,u.g),u.O)),b=u.U,w=u.g,E=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(ti[0]=F.toString()),F=ti);for(var $=0;$<F.length;$++){var ne=_r(w,F[$],E||b.handleEvent,!1,b.h||b);if(!ne)break;b.g[ne.key]=ne}b=u.H?j(u.H):{},u.m?(u.u||(u.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,b)):(u.u="GET",u.g.ea(u.A,u.u,null,b)),ii(),Pl(u.i,u.u,u.A,u.l,u.R,u.m)}Xn.prototype.ca=function(u){u=u.target;const b=this.M;b&&bn(u)==3?b.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Nt=bn(this.g);var b=this.g.Ba();const Ir=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Bl(this.g)))){this.J||Nt!=4||b==7||(b==8||0>=Ir?ii(3):ii(2)),Ks(this);var w=this.g.Z();this.X=w;t:if(ci(this)){var E=Bl(this.g);u="";var F=E.length,$=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),an(this);var ne="";break t}this.h.i=new f.TextDecoder}for(b=0;b<F;b++)this.h.h=!0,u+=this.h.i.decode(E[b],{stream:!($&&b==F-1)});E.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=w==200,Ml(this.i,this.u,this.A,this.l,this.R,Nt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,Tt=this.g;if((Re=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Re)){var De=Re;break t}}De=null}if(w=De)oi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,w);else{this.o=!1,this.s=3,ft(12),rn(this),an(this);break e}}if(this.P){w=!0;let Ut;for(;!this.J&&this.C<ne.length;)if(Ut=ui(this,ne),Ut==Zi){Nt==4&&(this.s=4,ft(14),w=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==li){this.s=4,ft(15),oi(this.i,this.l,ne,"[Invalid Chunk]"),w=!1;break}else oi(this.i,this.l,Ut,null),on(this,Ut);if(ci(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ne.length!=0||this.h.h||(this.s=1,ft(16),w=!1),this.o=this.o&&w,!w)oi(this.i,this.l,ne,"[Invalid Chunked Response]"),rn(this),an(this);else if(0<ne.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),ls(kt),kt.M=!0,ft(11))}}else oi(this.i,this.l,ne,null),on(this,ne);Nt==4&&rn(this),this.o&&!this.J&&(Nt==4?Kl(this.j,this):(this.o=!1,Ze(this)))}else bh(this.g),w==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),rn(this),an(this)}}}catch{}finally{}};function ci(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ui(u,b){var w=u.C,E=b.indexOf(`
`,w);return E==-1?Zi:(w=Number(b.substring(w,E)),isNaN(w)?li:(E+=1,E+w>b.length?Zi:(b=b.slice(E,E+w),u.C=E+w,b)))}Xn.prototype.cancel=function(){this.J=!0,rn(this)};function Ze(u){u.S=Date.now()+u.I,Za(u,u.I)}function Za(u,b){if(u.B!=null)throw Error("WatchDog timer not null");u.B=si(C(u.ba,u),b)}function Ks(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Yn(this.i,this.A),this.L!=2&&(ii(),ft(17)),rn(this),this.s=2,an(this)):Za(this,this.S-u)};function an(u){u.j.G==0||u.J||Kl(u.j,u)}function rn(u){Ks(u);var b=u.M;b&&typeof b.ma=="function"&&b.ma(),u.M=null,Gt(u.U),u.g&&(b=u.g,u.g=null,b.abort(),b.ma())}function on(u,b){try{var w=u.j;if(w.G!=0&&(w.g==u||hi(w.h,u))){if(!u.K&&hi(w.h,u)&&w.G==3){try{var E=w.Da.g.parse(b)}catch{E=null}if(Array.isArray(E)&&E.length==3){var F=E;if(F[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)ra(w),ta(w);else break e;co(w),ft(18)}}else w.za=F[1],0<w.za-w.T&&37500>F[2]&&w.F&&w.v==0&&!w.C&&(w.C=si(C(w.Za,w),6e3));if(1>=Ll(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Nr(w,11)}else if((u.K||w.g==u)&&ra(w),!Z(b))for(F=w.Da.g.parse(b),b=0;b<F.length;b++){let De=F[b];if(w.T=De[0],De=De[1],w.G==2)if(De[0]=="c"){w.K=De[1],w.ia=De[2];const kt=De[3];kt!=null&&(w.la=kt,w.j.info("VER="+w.la));const Nt=De[4];Nt!=null&&(w.Aa=Nt,w.j.info("SVER="+w.Aa));const Ir=De[5];Ir!=null&&typeof Ir=="number"&&0<Ir&&(E=1.5*Ir,w.L=E,w.j.info("backChannelRequestTimeoutMs_="+E)),E=w;const Ut=u.g;if(Ut){const ir=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ir){var $=E.h;$.g||ir.indexOf("spdy")==-1&&ir.indexOf("quic")==-1&&ir.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(di($,$.h),$.h=null))}if(E.D){const ho=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(E.ya=ho,Pe(E.I,E.D,ho))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),E=w;var ne=u;if(E.qa=Wl(E,E.J?E.ia:null,E.W),ne.K){pn(E.h,ne);var Re=ne,Tt=E.L;Tt&&(Re.I=Tt),Re.B&&(Ks(Re),Ze(Re)),E.g=ne}else $l(E);0<w.i.length&&na(w)}else De[0]!="stop"&&De[0]!="close"||Nr(w,7);else w.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Nr(w,7):oo(w):De[0]!="noop"&&w.l&&w.l.ta(De),w.v=0)}}ii(4)}catch{}}var mh=class{constructor(u,b){this.g=u,this.map=b}};function Ja(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ll(u){return u.h?1:u.g?u.g.size:0}function hi(u,b){return u.h?u.h==b:u.g?u.g.has(b):!1}function di(u,b){u.g?u.g.add(b):u.h=b}function pn(u,b){u.h&&u.h==b?u.h=null:u.g&&u.g.has(b)&&u.g.delete(b)}Ja.prototype.cancel=function(){if(this.i=Yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yt(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let b=u.i;for(const w of u.g.values())b=b.concat(w.D);return b}return K(u.i)}function Ul(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var b=[],w=u.length,E=0;E<w;E++)b.push(u[E]);return b}b=[],w=0;for(E in u)b[w++]=u[E];return b}function ph(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var b=[];u=u.length;for(var w=0;w<u;w++)b.push(w);return b}b=[],w=0;for(const E in u)b[w++]=E;return b}}}function Ji(u,b){if(u.forEach&&typeof u.forEach=="function")u.forEach(b,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,b,void 0);else for(var w=ph(u),E=Ul(u),F=E.length,$=0;$<F;$++)b.call(void 0,E[$],w&&w[$],u)}var to=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(u,b){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var E=u[w].indexOf("="),F=null;if(0<=E){var $=u[w].substring(0,E);F=u[w].substring(E+1)}else $=u[w];b($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Sr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Sr){this.h=u.h,fi(this,u.j),this.o=u.o,this.g=u.g,es(this,u.s),this.l=u.l;var b=u.i,w=new Zn;w.i=b.i,b.g&&(w.g=new Map(b.g),w.h=b.h),Ws(this,w),this.m=u.m}else u&&(b=String(u).match(to))?(this.h=!1,fi(this,b[1]||"",!0),this.o=mi(b[2]||""),this.g=mi(b[3]||"",!0),es(this,b[4]),this.l=mi(b[5]||"",!0),Ws(this,b[6]||"",!0),this.m=mi(b[7]||"")):(this.h=!1,this.i=new Zn(null,this.h))}Sr.prototype.toString=function(){var u=[],b=this.j;b&&u.push(gn(b,no,!0),":");var w=this.g;return(w||b=="file")&&(u.push("//"),(b=this.o)&&u.push(gn(b,no,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(gn(w,w.charAt(0)=="/"?ro:Vl,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",gn(w,vh)),u.join("")};function ct(u){return new Sr(u)}function fi(u,b,w){u.j=w?mi(b,!0):b,u.j&&(u.j=u.j.replace(/:$/,""))}function es(u,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);u.s=b}else u.s=null}function Ws(u,b,w){b instanceof Zn?(u.i=b,io(u.i,u.h)):(w||(b=gn(b,yh)),u.i=new Zn(b,u.h))}function Pe(u,b,w){u.i.set(b,w)}function ts(u){return Pe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mi(u,b){return u?b?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gn(u,b,w){return typeof u=="string"?(u=encodeURI(u).replace(b,gh),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var no=/[#\/\?@]/g,Vl=/[#\?:]/g,ro=/[#\?]/g,yh=/[#\?@]/g,vh=/#/g;function Zn(u,b){this.h=this.g=null,this.i=u||null,this.j=!!b}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qs(u.i,function(b,w){u.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}r=Zn.prototype,r.add=function(u,b){yn(this),this.i=null,u=Cr(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(b),this.h+=1,this};function Ys(u,b){yn(u),b=Cr(u,b),u.g.has(b)&&(u.i=null,u.h-=u.g.get(b).length,u.g.delete(b))}function Ar(u,b){return yn(u),b=Cr(u,b),u.g.has(b)}r.forEach=function(u,b){yn(this),this.g.forEach(function(w,E){w.forEach(function(F){u.call(b,F,E,this)},this)},this)},r.na=function(){yn(this);const u=Array.from(this.g.values()),b=Array.from(this.g.keys()),w=[];for(let E=0;E<b.length;E++){const F=u[E];for(let $=0;$<F.length;$++)w.push(b[E])}return w},r.V=function(u){yn(this);let b=[];if(typeof u=="string")Ar(this,u)&&(b=b.concat(this.g.get(Cr(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)b=b.concat(u[w])}return b},r.set=function(u,b){return yn(this),this.i=null,u=Cr(this,u),Ar(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[b]),this.h+=1,this},r.get=function(u,b){return u?(u=this.V(u),0<u.length?String(u[0]):b):b};function jr(u,b,w){Ys(u,b),0<w.length&&(u.i=null,u.g.set(Cr(u,b),K(w)),u.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],b=Array.from(this.g.keys());for(var w=0;w<b.length;w++){var E=b[w];const $=encodeURIComponent(String(E)),ne=this.V(E);for(E=0;E<ne.length;E++){var F=$;ne[E]!==""&&(F+="="+encodeURIComponent(String(ne[E]))),u.push(F)}}return this.i=u.join("&")};function Cr(u,b){return b=String(b),u.j&&(b=b.toLowerCase()),b}function io(u,b){b&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(w,E){var F=E.toLowerCase();E!=F&&(Ys(this,E),jr(this,F,w))},u)),u.j=b}function zl(u,b){const w=new ai;if(f.Image){const E=new Image;E.onload=U(vn,w,"TestLoadImage: loaded",!0,b,E),E.onerror=U(vn,w,"TestLoadImage: error",!1,b,E),E.onabort=U(vn,w,"TestLoadImage: abort",!1,b,E),E.ontimeout=U(vn,w,"TestLoadImage: timeout",!1,b,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else b(!1)}function ns(u,b){const w=new ai,E=new AbortController,F=setTimeout(()=>{E.abort(),vn(w,"TestPingServer: timeout",!1,b)},1e4);fetch(u,{signal:E.signal}).then($=>{clearTimeout(F),$.ok?vn(w,"TestPingServer: ok",!0,b):vn(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(F),vn(w,"TestPingServer: error",!1,b)})}function vn(u,b,w,E,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),E(w)}catch{}}function rs(){this.g=new Wt}function Jn(u,b,w){const E=w||"";try{Ji(u,function(F,$){let ne=F;v(F)&&(ne=Qa(F)),b.push(E+$+"="+encodeURIComponent(ne))})}catch(F){throw b.push(E+"type="+encodeURIComponent("_badmap")),F}}function pi(u){this.l=u.Ub||null,this.j=u.eb||!1}M(pi,Wa),pi.prototype.g=function(){return new kr(this.l,this.j)},pi.prototype.i=function(u){return function(){return u}}({});function kr(u,b){_t.call(this),this.D=u,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(kr,_t),r=kr.prototype,r.open=function(u,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=b,this.readyState=1,tr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(b.body=u),(this.D||f).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;so(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function so(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var b=u.value?u.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!u.done}))&&(this.response=this.responseText+=b)}u.done?er(this):tr(this),this.readyState==3&&so(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,er(this))},r.Qa=function(u){this.g&&(this.response=u,er(this))},r.ga=function(){this.g&&er(this)};function er(u){u.readyState=4,u.l=null,u.j=null,u.v=null,tr(u)}r.setRequestHeader=function(u,b){this.u.append(u,b)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=b.next();return u.join(`\r
`)};function tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ao(u){let b="";return de(u,function(w,E){b+=E,b+=":",b+=w,b+=`\r
`}),b}function Ct(u,b,w){e:{for(E in w){var E=!1;break e}E=!0}E||(w=ao(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):Pe(u,b,w))}function ze(u){_t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(ze,_t);var Xs=/^https?$/i,is=["POST","PUT"];r=ze.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,b,w,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);b=b?b.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xi.g(),this.v=this.o?Rl(this.o):Rl(Xi),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(b,String(u),!0),this.B=!1}catch($){Fl(this,$);return}if(u=w||"",w=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var F in E)w.set(F,E[F]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())w.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(w.keys()).find($=>$.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(is,b,void 0))||E||F||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ne]of w)this.g.setRequestHeader($,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Fl(this,$)}};function Fl(u,b){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=b,u.m=5,Zs(u),nr(u)}function Zs(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),nr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),ze.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(u){if(u.h&&typeof d<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Il(u.Ea,0,u);else if(At(u,"readystatechange"),bn(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var E;if(E=ne===0){var F=String(u.D).match(to)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),E=!Xs.test(F?F.toLowerCase():"")}w=E}if(w)At(u,"complete"),At(u,"success");else{u.m=6;try{var $=2<bn(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Zs(u)}}finally{nr(u)}}}}function nr(u,b){if(u.g){ss(u);const w=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,b||At(u,"ready");try{w.onreadystatechange=E}catch{}}}function ss(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var b=this.g.responseText;return u&&b.indexOf(u)==0&&(b=b.substring(u.length)),Qn(b)}};function Bl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bh(u){const b={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(Z(u[E]))continue;var w=O(u[E]);const F=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const $=b[F]||[];b[F]=$,$.push(w)}R(b,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(u,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||b}function ea(u){this.Aa=0,this.i=[],this.j=new ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,u),this.cb=as("retryDelaySeedMs",1e4,u),this.Wa=as("forwardChannelMaxRetries",2,u),this.wa=as("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ja(u&&u.concurrentRequestLimit),this.Da=new rs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ea.prototype,r.la=8,r.G=1,r.connect=function(u,b,w,E){ft(0),this.W=u,this.H=b||{},w&&E!==void 0&&(this.H.OSID=w,this.H.OAID=E),this.F=this.X,this.I=Wl(this,null,this.W),na(this)};function oo(u){if(ql(u),u.G==3){var b=u.U++,w=ct(u.I);if(Pe(w,"SID",u.K),Pe(w,"RID",b),Pe(w,"TYPE","terminate"),os(u,w),b=new Xn(u,u.j,b),b.L=2,b.v=ts(ct(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(b.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=b.v,w=!0),w||(b.g=Yl(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Ze(b)}Ql(u)}function ta(u){u.g&&(ls(u),u.g.cancel(),u.g=null)}function ql(u){ta(u),u.u&&(f.clearTimeout(u.u),u.u=null),ra(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function na(u){if(!eo(u.h)&&!u.s){u.s=!0;var b=u.Ga;be||D(),te||(be(),te=!0),_e.add(b,u),u.B=0}}function wh(u,b){return Ll(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=b.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=si(C(u.Ga,u,b),uo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Xn(this,this.j,u);let $=this.o;if(this.S&&($?($=j($),N($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var E=this.i[w];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(b+=E,4096<b){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Hl(this,F,b),w=ct(this.I),Pe(w,"RID",u),Pe(w,"CVER",22),this.D&&Pe(w,"X-HTTP-Session-Id",this.D),os(this,w),$&&(this.O?b="headers="+encodeURIComponent(String(ao($)))+"&"+b:this.m&&Ct(w,this.m,$)),di(this.h,F),this.Ua&&Pe(w,"TYPE","init"),this.P?(Pe(w,"$req",b),Pe(w,"SID","null"),F.T=!0,Ln(F,w,null)):Ln(F,w,b),this.G=2}}else this.G==3&&(u?lo(this,u):this.i.length==0||eo(this.h)||lo(this))};function lo(u,b){var w;b?w=b.l:w=u.U++;const E=ct(u.I);Pe(E,"SID",u.K),Pe(E,"RID",w),Pe(E,"AID",u.T),os(u,E),u.m&&u.o&&Ct(E,u.m,u.o),w=new Xn(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),b&&(u.i=b.D.concat(u.i)),b=Hl(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),di(u.h,w),Ln(w,E,b)}function os(u,b){u.H&&de(u.H,function(w,E){Pe(b,E,w)}),u.l&&Ji({},function(w,E){Pe(b,E,w)})}function Hl(u,b,w){w=Math.min(u.i.length,w);var E=u.l?C(u.l.Na,u.l,u):null;e:{var F=u.i;let $=-1;for(;;){const ne=["count="+w];$==-1?0<w?($=F[0].g,ne.push("ofs="+$)):$=0:ne.push("ofs="+$);let Re=!0;for(let Tt=0;Tt<w;Tt++){let De=F[Tt].g;const kt=F[Tt].map;if(De-=$,0>De)$=Math.max(0,F[Tt].g-100),Re=!1;else try{Jn(kt,ne,"req"+De+"_")}catch{E&&E(kt)}}if(Re){E=ne.join("&");break e}}}return u=u.i.splice(0,w),b.D=u,E}function $l(u){if(!u.g&&!u.u){u.Y=1;var b=u.Fa;be||D(),te||(be(),te=!0),_e.add(b,u),u.v=0}}function co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=si(C(u.Fa,u),uo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Gl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=si(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),ta(this),Gl(this))};function ls(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Gl(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var b=ct(u.qa);Pe(b,"RID","rpc"),Pe(b,"SID",u.K),Pe(b,"AID",u.T),Pe(b,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pe(b,"TO",u.ja),Pe(b,"TYPE","xmlhttp"),os(u,b),u.m&&u.o&&Ct(b,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=ts(ct(b)),w.m=null,w.P=!0,Er(w,u)}r.Za=function(){this.C!=null&&(this.C=null,ta(this),co(this),ft(19))};function ra(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Kl(u,b){var w=null;if(u.g==b){ra(u),ls(u),u.g=null;var E=2}else if(hi(u.h,b))w=b.D,pn(u.h,b),E=1;else return;if(u.G!=0){if(b.o)if(E==1){w=b.m?b.m.length:0,b=Date.now()-b.F;var F=u.B;E=Hs(),At(E,new Ol(E,w)),na(u)}else $l(u);else if(F=b.s,F==3||F==0&&0<b.X||!(E==1&&wh(u,b)||E==2&&co(u)))switch(w&&0<w.length&&(b=u.h,b.i=b.i.concat(w)),F){case 1:Nr(u,5);break;case 4:Nr(u,10);break;case 3:Nr(u,6);break;default:Nr(u,2)}}}function uo(u,b){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*b}function Nr(u,b){if(u.j.info("Error code "+b),b==2){var w=C(u.fb,u),E=u.Xa;const F=!E;E=new Sr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||fi(E,"https"),ts(E),F?zl(E.toString(),w):ns(E.toString(),w)}else ft(2);u.G=0,u.l&&u.l.sa(b),Ql(u),ql(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Ql(u){if(u.G=0,u.ka=[],u.l){const b=Yt(u.h);(b.length!=0||u.i.length!=0)&&(q(u.ka,b),q(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Wl(u,b,w){var E=w instanceof Sr?ct(w):new Sr(w);if(E.g!="")b&&(E.g=b+"."+E.g),es(E,E.s);else{var F=f.location;E=F.protocol,b=b?b+"."+F.hostname:F.hostname,F=+F.port;var $=new Sr(null);E&&fi($,E),b&&($.g=b),F&&es($,F),w&&($.l=w),E=$}return w=u.D,b=u.ya,w&&b&&Pe(E,w,b),Pe(E,"VER",u.la),os(u,E),E}function Yl(u,b,w){if(b&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=u.Ca&&!u.pa?new ze(new pi({eb:w})):new ze(u.pa),b.Ha(u.J),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xl(){}r=Xl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ia(){}ia.prototype.g=function(u,b){return new Xt(u,b)};function Xt(u,b){_t.call(this),this.g=new ea(b),this.l=u,this.h=b&&b.messageUrlParams||null,u=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(u?u["X-WebChannel-Content-Type"]=b.messageContentType:u={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(u?u["X-WebChannel-Client-Profile"]=b.va:u={"X-WebChannel-Client-Profile":b.va}),this.g.S=u,(u=b&&b.Sb)&&!Z(u)&&(this.g.m=u),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!Z(b)&&(this.g.D=b,u=this.h,u!==null&&b in u&&(u=this.h,b in u&&delete u[b])),this.j=new rr(this)}M(Xt,_t),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){oo(this.g)},Xt.prototype.o=function(u){var b=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=Qa(u),u=w);b.i.push(new mh(b.Ya++,u)),b.G==3&&na(b)},Xt.prototype.N=function(){this.g.l=null,delete this.j,oo(this.g),delete this.g,Xt.aa.N.call(this)};function Zl(u){ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var b=u.__sm__;if(b){e:{for(const w in b){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,b=b!==null&&u in b?b[u]:void 0),this.data=b}else this.data=u}M(Zl,ni);function Jl(){Mn.call(this),this.status=1}M(Jl,Mn);function rr(u){this.g=u}M(rr,Xl),rr.prototype.ua=function(){At(this.g,"a")},rr.prototype.ta=function(u){At(this.g,new Zl(u))},rr.prototype.sa=function(u){At(this.g,new Jl)},rr.prototype.ra=function(){At(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,tP=function(){return new ia},eP=function(){return Hs()},JO=mn,fE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,cw=xt,Tr.COMPLETE="complete",ZO=Tr,Dl.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,gv=Dl,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,XO=ze}).apply(typeof Lb<"u"?Lb:typeof self<"u"?self:typeof window<"u"?window:{});const vk="@firebase/firestore",bk="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid"),Hi.MOCK_USER=new Hi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new U_("@firebase/firestore");function rm(){return Mf.logLevel}function Ie(r,...e){if(Mf.logLevel<=Pt.DEBUG){const t=e.map(m1);Mf.debug(`Firestore (${Hm}): ${r}`,...t)}}function Tu(r,...e){if(Mf.logLevel<=Pt.ERROR){const t=e.map(m1);Mf.error(`Firestore (${Hm}): ${r}`,...t)}}function xm(r,...e){if(Mf.logLevel<=Pt.WARN){const t=e.map(m1);Mf.warn(`Firestore (${Hm}): ${r}`,...t)}}function m1(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(r="Unexpected state"){const e=`FIRESTORE (${Hm}) INTERNAL ASSERTION FAILED: `+r;throw Tu(e),new Error(e)}function tn(r,e){r||Xe()}function ht(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Ha{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Hi.UNAUTHENTICATED))}shutdown(){}}class XW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ZW{constructor(e){this.t=e,this.currentUser=Hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tn(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let c=new du;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new du,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new du)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tn(typeof s.accessToken=="string"),new nP(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string"),new Hi(e)}}class JW{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Hi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eY{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new JW(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tY{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ds(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){tn(this.o===void 0);const s=c=>{c.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,Ie("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new wk(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tn(typeof t.token=="string"),this.R=t.token,new wk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nY(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function qt(r,e){return r<e?-1:r>e?1:0}function Tm(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=-62135596800,xk=1e6;class Wr{static now(){return Wr.fromMillis(Date.now())}static fromDate(e){return Wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*xk);return new Wr(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_k)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xk}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_k;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{static fromTimestamp(e){return new lt(e)}static min(){return new lt(new Wr(0,0))}static max(){return new lt(new Wr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="__name__";class fl{constructor(e,t,s){t===void 0?t=0:t>e.length&&Xe(),s===void 0?s=e.length-t:s>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return fl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=fl.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=fl.isNumericId(e),o=fl.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?fl.extractNumericId(e).compare(fl.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hu.fromString(e.substring(4,e.length-2))}}class Dn extends fl{construct(e,t,s){return new Dn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ve(ve.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Dn(t)}static emptyPath(){return new Dn([])}}const rY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Li extends fl{construct(e,t,s){return new Li(e,t,s)}static isValidIdentifier(e){return rY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tk}static keyField(){return new Li([Tk])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Ve(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ve(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ve(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(d=!d,o++):f!=="."||d?(s+=f,o++):(c(),o++)}if(c(),d)throw new Ve(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Li(t)}static emptyPath(){return new Li([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Dn.fromString(e))}static fromName(e){return new Ge(Dn.fromString(e).popFirst(5))}static empty(){return new Ge(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Dn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=-1;function iY(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=lt.fromTimestamp(s===1e9?new Wr(t+1,0):new Wr(t,s));return new Zu(o,Ge.empty(),e)}function sY(r){return new Zu(r.readTime,r.key,Yv)}class Zu{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Zu(lt.min(),Ge.empty(),Yv)}static max(){return new Zu(lt.max(),Ge.empty(),Yv)}}function aY(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ge.comparator(r.documentKey,e.documentKey),t!==0?t:qt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(r){if(r.code!==ve.FAILED_PRECONDITION||r.message!==oY)throw r;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,s)=>{t(e)})}static reject(e){return new ge((t,s)=>{s(e)})}static waitFor(e){return new ge((t,s)=>{let o=0,c=0,d=!1;e.forEach(f=>{++o,f.next(()=>{++c,d&&c===o&&t()},p=>s(p))}),d=!0,c===o&&t()})}static or(e){let t=ge.resolve(!1);for(const s of e)t=t.next(o=>o?ge.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,c)=>{s.push(t.call(this,o,c))}),this.waitFor(s)}static mapArray(e,t){return new ge((s,o)=>{const c=e.length,d=new Array(c);let f=0;for(let p=0;p<c;p++){const v=p;t(e[v]).next(x=>{d[v]=x,++f,f===c&&s(d)},x=>o(x))}})}static doWhile(e,t){return new ge((s,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):s()};c()})}}function cY(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gm(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$_.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=-1;function G_(r){return r==null}function Ww(r){return r===0&&1/r==-1/0}function uY(r){return typeof r=="number"&&Number.isInteger(r)&&!Ww(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="";function hY(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Ek(e)),e=dY(r.get(t),e);return Ek(e)}function dY(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":t+="";break;case iP:t+="";break;default:t+=c}}return t}function Ek(r){return r+iP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Qf(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function sP(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,t){this.comparator=e,this.root=t||Mi.EMPTY}insert(e,t){return new Hn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new Hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ub(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ub(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ub(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ub(this.root,e,this.comparator,!0)}}class Ub{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??Mi.RED,this.left=o??Mi.EMPTY,this.right=c??Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new Mi(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Mi.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1;Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,t,s,o,c){return this}insert(e,t,s){return new Mi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.comparator=e,this.data=new Hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ak(this.data.getIterator())}getIteratorFrom(e){return new Ak(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yr(this.comparator);return t.data=e,t}}class Ak{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.fields=e,e.sort(Li.comparator)}static empty(){return new el([])}unionWith(e){let t=new Yr(Li.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new el(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tm(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new aP("Invalid base64 string: "+c):c}}(e);return new Ui(t)}static fromUint8Array(e){const t=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Ui(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const fY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ju(r){if(tn(!!r),typeof r=="string"){let e=0;const t=fY.exec(r);if(tn(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ur(r.seconds),nanos:ur(r.nanos)}}function ur(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function eh(r){return typeof r=="string"?Ui.fromBase64String(r):Ui.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="server_timestamp",lP="__type__",cP="__previous_value__",uP="__local_write_time__";function g1(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[lP])===null||t===void 0?void 0:t.stringValue)===oP}function K_(r){const e=r.mapValue.fields[cP];return g1(e)?K_(e):e}function Xv(r){const e=Ju(r.mapValue.fields[uP].timestampValue);return new Wr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e,t,s,o,c,d,f,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=v}}const Yw="(default)";class Zv{constructor(e,t){this.projectId=e,this.database=t||Yw}static empty(){return new Zv("","")}get isDefaultDatabase(){return this.database===Yw}isEqual(e){return e instanceof Zv&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="__type__",pY="__max__",Vb={mapValue:{}},dP="__vector__",Xw="value";function th(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?g1(r)?4:yY(r)?9007199254740991:gY(r)?10:11:Xe()}function Tl(r,e){if(r===e)return!0;const t=th(r);if(t!==th(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xv(r).isEqual(Xv(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ju(o.timestampValue),f=Ju(c.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return eh(o.bytesValue).isEqual(eh(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return ur(o.geoPointValue.latitude)===ur(c.geoPointValue.latitude)&&ur(o.geoPointValue.longitude)===ur(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ur(o.integerValue)===ur(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ur(o.doubleValue),f=ur(c.doubleValue);return d===f?Ww(d)===Ww(f):isNaN(d)&&isNaN(f)}return!1}(r,e);case 9:return Tm(r.arrayValue.values||[],e.arrayValue.values||[],Tl);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},f=c.mapValue.fields||{};if(Sk(d)!==Sk(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(f[p]===void 0||!Tl(d[p],f[p])))return!1;return!0}(r,e);default:return Xe()}}function Jv(r,e){return(r.values||[]).find(t=>Tl(t,e))!==void 0}function Em(r,e){if(r===e)return 0;const t=th(r),s=th(e);if(t!==s)return qt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(r.booleanValue,e.booleanValue);case 2:return function(c,d){const f=ur(c.integerValue||c.doubleValue),p=ur(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return jk(r.timestampValue,e.timestampValue);case 4:return jk(Xv(r),Xv(e));case 5:return qt(r.stringValue,e.stringValue);case 6:return function(c,d){const f=eh(c),p=eh(d);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const f=c.split("/"),p=d.split("/");for(let v=0;v<f.length&&v<p.length;v++){const x=qt(f[v],p[v]);if(x!==0)return x}return qt(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const f=qt(ur(c.latitude),ur(d.latitude));return f!==0?f:qt(ur(c.longitude),ur(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ck(r.arrayValue,e.arrayValue);case 10:return function(c,d){var f,p,v,x;const A=c.fields||{},C=d.fields||{},U=(f=A[Xw])===null||f===void 0?void 0:f.arrayValue,M=(p=C[Xw])===null||p===void 0?void 0:p.arrayValue,K=qt(((v=U==null?void 0:U.values)===null||v===void 0?void 0:v.length)||0,((x=M==null?void 0:M.values)===null||x===void 0?void 0:x.length)||0);return K!==0?K:Ck(U,M)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===Vb.mapValue&&d===Vb.mapValue)return 0;if(c===Vb.mapValue)return 1;if(d===Vb.mapValue)return-1;const f=c.fields||{},p=Object.keys(f),v=d.fields||{},x=Object.keys(v);p.sort(),x.sort();for(let A=0;A<p.length&&A<x.length;++A){const C=qt(p[A],x[A]);if(C!==0)return C;const U=Em(f[p[A]],v[x[A]]);if(U!==0)return U}return qt(p.length,x.length)}(r.mapValue,e.mapValue);default:throw Xe()}}function jk(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qt(r,e);const t=Ju(r),s=Ju(e),o=qt(t.seconds,s.seconds);return o!==0?o:qt(t.nanos,s.nanos)}function Ck(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Em(t[o],s[o]);if(c)return c}return qt(t.length,s.length)}function Sm(r){return mE(r)}function mE(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Ju(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return eh(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=mE(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${mE(t.fields[d])}`;return o+"}"}(r.mapValue):Xe()}function uw(r){switch(th(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=K_(r);return e?16+uw(e):16;case 5:return 2*r.stringValue.length;case 6:return eh(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+uw(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Qf(s.fields,(c,d)=>{o+=c.length+uw(d)}),o}(r.mapValue);default:throw Xe()}}function kk(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function pE(r){return!!r&&"integerValue"in r}function y1(r){return!!r&&"arrayValue"in r}function Nk(r){return!!r&&"nullValue"in r}function Ik(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hw(r){return!!r&&"mapValue"in r}function gY(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[hP])===null||t===void 0?void 0:t.stringValue)===dP}function kv(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Qf(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=kv(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kv(r.arrayValue.values[t]);return e}return Object.assign({},r)}function yY(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===pY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.value=e}static empty(){return new Ua({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!hw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kv(t)}setAll(e){let t=Li.emptyPath(),s={},o=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}d?s[f.lastSegment()]=kv(d):o.push(f.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());hw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];hw(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Qf(t,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new Ua(kv(this.value))}}function fP(r){const e=[];return Qf(r.fields,(t,s)=>{const o=new Li([t]);if(hw(s)){const c=fP(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new el(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,s,o,c,d,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=f}static newInvalidDocument(e){return new $i(e,0,lt.min(),lt.min(),lt.min(),Ua.empty(),0)}static newFoundDocument(e,t,s,o){return new $i(e,1,t,lt.min(),s,o,0)}static newNoDocument(e,t){return new $i(e,2,t,lt.min(),lt.min(),Ua.empty(),0)}static newUnknownDocument(e,t){return new $i(e,3,t,lt.min(),lt.min(),Ua.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ua.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ua.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,t){this.position=e,this.inclusive=t}}function Rk(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=Ge.comparator(Ge.fromName(d.referenceValue),t.key):s=Em(d,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Dk(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Tl(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t="asc"){this.field=e,this.dir=t}}function vY(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{}class yr extends mP{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new wY(e,t,s):t==="array-contains"?new TY(e,s):t==="in"?new EY(e,s):t==="not-in"?new SY(e,s):t==="array-contains-any"?new AY(e,s):new yr(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new _Y(e,s):new xY(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Em(t,this.value)):t!==null&&th(this.value)===th(t)&&this.matchesComparison(Em(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cl extends mP{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new cl(e,t)}matches(e){return pP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function pP(r){return r.op==="and"}function gP(r){return bY(r)&&pP(r)}function bY(r){for(const e of r.filters)if(e instanceof cl)return!1;return!0}function gE(r){if(r instanceof yr)return r.field.canonicalString()+r.op.toString()+Sm(r.value);if(gP(r))return r.filters.map(e=>gE(e)).join(",");{const e=r.filters.map(t=>gE(t)).join(",");return`${r.op}(${e})`}}function yP(r,e){return r instanceof yr?function(s,o){return o instanceof yr&&s.op===o.op&&s.field.isEqual(o.field)&&Tl(s.value,o.value)}(r,e):r instanceof cl?function(s,o){return o instanceof cl&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,f)=>c&&yP(d,o.filters[f]),!0):!1}(r,e):void Xe()}function vP(r){return r instanceof yr?function(t){return`${t.field.canonicalString()} ${t.op} ${Sm(t.value)}`}(r):r instanceof cl?function(t){return t.op.toString()+" {"+t.getFilters().map(vP).join(" ,")+"}"}(r):"Filter"}class wY extends yr{constructor(e,t,s){super(e,t,s),this.key=Ge.fromName(s.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class _Y extends yr{constructor(e,t){super(e,"in",t),this.keys=bP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xY extends yr{constructor(e,t){super(e,"not-in",t),this.keys=bP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bP(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ge.fromName(s.referenceValue))}class TY extends yr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return y1(t)&&Jv(t.arrayValue,this.value)}}class EY extends yr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Jv(this.value.arrayValue,t)}}class SY extends yr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Jv(this.value.arrayValue,t)}}class AY extends yr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!y1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Jv(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e,t=null,s=[],o=[],c=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=f,this.le=null}}function Ok(r,e=null,t=[],s=[],o=null,c=null,d=null){return new jY(r,e,t,s,o,c,d)}function v1(r){const e=ht(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>gE(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),G_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Sm(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Sm(s)).join(",")),e.le=t}return e.le}function b1(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!vY(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!yP(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Dk(r.startAt,e.startAt)&&Dk(r.endAt,e.endAt)}function yE(r){return Ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t=null,s=[],o=[],c=null,d="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CY(r,e,t,s,o,c,d,f){return new _b(r,e,t,s,o,c,d,f)}function w1(r){return new _b(r)}function Pk(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wP(r){return r.collectionGroup!==null}function Nv(r){const e=ht(r);if(e.he===null){e.he=[];const t=new Set;for(const c of e.explicitOrderBy)e.he.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new Yr(Li.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.he.push(new Jw(c,s))}),t.has(Li.keyField().canonicalString())||e.he.push(new Jw(Li.keyField(),s))}return e.he}function wl(r){const e=ht(r);return e.Pe||(e.Pe=kY(e,Nv(r))),e.Pe}function kY(r,e){if(r.limitType==="F")return Ok(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Jw(o.field,c)});const t=r.endAt?new Zw(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Zw(r.startAt.position,r.startAt.inclusive):null;return Ok(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function vE(r,e){const t=r.filters.concat([e]);return new _b(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function bE(r,e,t){return new _b(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Q_(r,e){return b1(wl(r),wl(e))&&r.limitType===e.limitType}function _P(r){return`${v1(wl(r))}|lt:${r.limitType}`}function im(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>vP(o)).join(", ")}]`),G_(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Sm(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Sm(o)).join(",")),`Target(${s})`}(wl(r))}; limitType=${r.limitType})`}function W_(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of Nv(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,f,p){const v=Rk(d,f,p);return d.inclusive?v<=0:v<0}(s.startAt,Nv(s),o)||s.endAt&&!function(d,f,p){const v=Rk(d,f,p);return d.inclusive?v>=0:v>0}(s.endAt,Nv(s),o))}(r,e)}function NY(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xP(r){return(e,t)=>{let s=!1;for(const o of Nv(r)){const c=IY(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function IY(r,e,t){const s=r.field.isKeyField()?Ge.comparator(e.key,t.key):function(c,d,f){const p=d.data.field(c),v=f.data.field(c);return p!==null&&v!==null?Em(p,v):Xe()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qf(this.inner,(t,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return sP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY=new Hn(Ge.comparator);function Eu(){return RY}const TP=new Hn(Ge.comparator);function yv(...r){let e=TP;for(const t of r)e=e.insert(t.key,t);return e}function EP(r){let e=TP;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function bf(){return Iv()}function SP(){return Iv()}function Iv(){return new Wf(r=>r.toString(),(r,e)=>r.isEqual(e))}const DY=new Hn(Ge.comparator),OY=new Yr(Ge.comparator);function Lt(...r){let e=OY;for(const t of r)e=e.add(t);return e}const PY=new Yr(qt);function MY(){return PY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ww(e)?"-0":e}}function AP(r){return{integerValue:""+r}}function LY(r,e){return uY(e)?AP(e):_1(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this._=void 0}}function UY(r,e,t){return r instanceof e_?function(o,c){const d={fields:{[lP]:{stringValue:oP},[uP]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&g1(c)&&(c=K_(c)),c&&(d.fields[cP]=c),{mapValue:d}}(t,e):r instanceof eb?CP(r,e):r instanceof tb?kP(r,e):function(o,c){const d=jP(o,c),f=Mk(d)+Mk(o.Ie);return pE(d)&&pE(o.Ie)?AP(f):_1(o.serializer,f)}(r,e)}function VY(r,e,t){return r instanceof eb?CP(r,e):r instanceof tb?kP(r,e):t}function jP(r,e){return r instanceof t_?function(s){return pE(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class e_ extends Y_{}class eb extends Y_{constructor(e){super(),this.elements=e}}function CP(r,e){const t=NP(e);for(const s of r.elements)t.some(o=>Tl(o,s))||t.push(s);return{arrayValue:{values:t}}}class tb extends Y_{constructor(e){super(),this.elements=e}}function kP(r,e){let t=NP(e);for(const s of r.elements)t=t.filter(o=>!Tl(o,s));return{arrayValue:{values:t}}}class t_ extends Y_{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Mk(r){return ur(r.integerValue||r.doubleValue)}function NP(r){return y1(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function zY(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof eb&&o instanceof eb||s instanceof tb&&o instanceof tb?Tm(s.elements,o.elements,Tl):s instanceof t_&&o instanceof t_?Tl(s.Ie,o.Ie):s instanceof e_&&o instanceof e_}(r.transform,e.transform)}class FY{constructor(e,t){this.version=e,this.transformResults=t}}class fu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fu}static exists(e){return new fu(void 0,e)}static updateTime(e){return new fu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dw(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class X_{}function IP(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new DP(r.key,fu.none()):new xb(r.key,r.data,fu.none());{const t=r.data,s=Ua.empty();let o=new Yr(Li.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Yf(r.key,s,new el(o.toArray()),fu.none())}}function BY(r,e,t){r instanceof xb?function(o,c,d){const f=o.value.clone(),p=Uk(o.fieldTransforms,c,d.transformResults);f.setAll(p),c.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Yf?function(o,c,d){if(!dw(o.precondition,c))return void c.convertToUnknownDocument(d.version);const f=Uk(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(RP(o)),p.setAll(f),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,t):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Rv(r,e,t,s){return r instanceof xb?function(c,d,f,p){if(!dw(c.precondition,d))return f;const v=c.value.clone(),x=Vk(c.fieldTransforms,p,d);return v.setAll(x),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,e,t,s):r instanceof Yf?function(c,d,f,p){if(!dw(c.precondition,d))return f;const v=Vk(c.fieldTransforms,p,d),x=d.data;return x.setAll(RP(c)),x.setAll(v),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(r,e,t,s):function(c,d,f){return dw(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f}(r,e,t)}function qY(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=jP(s.transform,o||null);c!=null&&(t===null&&(t=Ua.empty()),t.set(s.field,c))}return t||null}function Lk(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Tm(s,o,(c,d)=>zY(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xb extends X_{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yf extends X_{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function RP(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Uk(r,e,t){const s=new Map;tn(r.length===t.length);for(let o=0;o<t.length;o++){const c=r[o],d=c.transform,f=e.data.field(c.field);s.set(c.field,VY(d,f,t[o]))}return s}function Vk(r,e,t){const s=new Map;for(const o of r){const c=o.transform,d=t.data.field(o.field);s.set(o.field,UY(c,d,e))}return s}class DP extends X_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HY extends X_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&BY(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Rv(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Rv(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=SP();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let f=this.applyToLocalView(d,c.mutatedFields);f=t.has(o.key)?null:f;const p=IP(d,f);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(lt.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lt())}isEqual(e){return this.batchId===e.batchId&&Tm(this.mutations,e.mutations,(t,s)=>Lk(t,s))&&Tm(this.baseMutations,e.baseMutations,(t,s)=>Lk(t,s))}}class x1{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){tn(e.mutations.length===s.length);let o=function(){return DY}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new x1(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr,$t;function QY(r){switch(r){case ve.OK:return Xe();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Xe()}}function OP(r){if(r===void 0)return Tu("GRPC error has no .code"),ve.UNKNOWN;switch(r){case pr.OK:return ve.OK;case pr.CANCELLED:return ve.CANCELLED;case pr.UNKNOWN:return ve.UNKNOWN;case pr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case pr.INTERNAL:return ve.INTERNAL;case pr.UNAVAILABLE:return ve.UNAVAILABLE;case pr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case pr.NOT_FOUND:return ve.NOT_FOUND;case pr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case pr.ABORTED:return ve.ABORTED;case pr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case pr.DATA_LOSS:return ve.DATA_LOSS;default:return Xe()}}($t=pr||(pr={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY=new Hu([4294967295,4294967295],0);function zk(r){const e=WY().encode(r),t=new YO;return t.update(e),new Uint8Array(t.digest())}function Fk(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Hu([t,s],0),new Hu([o,c],0)]}class T1{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new vv(`Invalid padding: ${t}`);if(s<0)throw new vv(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vv(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new vv(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Hu.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Hu.fromNumber(s)));return o.compare(YY)===1&&(o=new Hu([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=zk(e),[s,o]=Fk(t);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new T1(c,o,t);return s.forEach(f=>d.insert(f)),d}insert(e){if(this.Ee===0)return;const t=zk(e),[s,o]=Fk(t);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class vv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Tb.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Z_(lt.min(),o,new Hn(qt),Eu(),Lt())}}class Tb{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Tb(s,t,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class PP{constructor(e,t){this.targetId=e,this.ge=t}}class MP{constructor(e,t,s=Ui.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Bk{constructor(){this.pe=0,this.ye=qk(),this.we=Ui.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Lt(),t=Lt(),s=Lt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Xe()}}),new Tb(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=qk()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,tn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class XY{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Eu(),this.$e=zb(),this.Ke=zb(),this.Ue=new Hn(qt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const c=o.target;if(yE(c))if(s===0){const d=new Ge(c.path);this.ze(t,d,$i.newNoDocument(d,lt.min()))}else tn(s===1);else{const d=this.et(t);if(d!==s){const f=this.tt(e),p=f?this.nt(f,e,d):1;if(p!==0){this.Ye(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,v)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let d,f;try{d=eh(s).toUint8Array()}catch(p){if(p instanceof aP)return xm("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new T1(d,o,c)}catch(p){return xm(p instanceof vv?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(c=>{const d=this.ke.it(),f=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,c,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((c,d)=>{const f=this.Xe(d);if(f){if(c.current&&yE(f.target)){const p=new Ge(f.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,$i.newNoDocument(p,e))}c.ve&&(t.set(d,c.Fe()),c.Me())}});let s=Lt();this.Ke.forEach((c,d)=>{let f=!0;d.forEachWhile(p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new Z_(e,t,this.Ue,this.Qe,s);return this.Qe=Eu(),this.$e=zb(),this.Ke=zb(),this.Ue=new Hn(qt),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Bk,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Yr(qt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Yr(qt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Bk),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function zb(){return new Hn(Ge.comparator)}function qk(){return new Hn(Ge.comparator)}const ZY={asc:"ASCENDING",desc:"DESCENDING"},JY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eX={and:"AND",or:"OR"};class tX{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wE(r,e){return r.useProto3Json||G_(e)?e:{value:e}}function n_(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LP(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nX(r,e){return n_(r,e.toTimestamp())}function _l(r){return tn(!!r),lt.fromTimestamp(function(t){const s=Ju(t);return new Wr(s.seconds,s.nanos)}(r))}function E1(r,e){return _E(r,e).canonicalString()}function _E(r,e){const t=function(o){return new Dn(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function UP(r){const e=Dn.fromString(r);return tn(qP(e)),e}function xE(r,e){return E1(r.databaseId,e.path)}function gT(r,e){const t=UP(e);if(t.get(1)!==r.databaseId.projectId)throw new Ve(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ve(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ge(zP(t))}function VP(r,e){return E1(r.databaseId,e)}function rX(r){const e=UP(r);return e.length===4?Dn.emptyPath():zP(e)}function TE(r){return new Dn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zP(r){return tn(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Hk(r,e,t){return{name:xE(r,e),fields:t.value.mapValue.fields}}function iX(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(v,x){return v.useProto3Json?(tn(x===void 0||typeof x=="string"),Ui.fromBase64String(x||"")):(tn(x===void 0||x instanceof Buffer||x instanceof Uint8Array),Ui.fromUint8Array(x||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(v){const x=v.code===void 0?ve.UNKNOWN:OP(v.code);return new Ve(x,v.message||"")}(d);t=new MP(s,o,c,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gT(r,s.document.name),c=_l(s.document.updateTime),d=s.document.createTime?_l(s.document.createTime):lt.min(),f=new Ua({mapValue:{fields:s.document.fields}}),p=$i.newFoundDocument(o,c,d,f),v=s.targetIds||[],x=s.removedTargetIds||[];t=new fw(v,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gT(r,s.document),c=s.readTime?_l(s.readTime):lt.min(),d=$i.newNoDocument(o,c),f=s.removedTargetIds||[];t=new fw([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gT(r,s.document),c=s.removedTargetIds||[];t=new fw([],c,o,null)}else{if(!("filter"in e))return Xe();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new KY(o,c),f=s.targetId;t=new PP(f,d)}}return t}function sX(r,e){let t;if(e instanceof xb)t={update:Hk(r,e.key,e.value)};else if(e instanceof DP)t={delete:xE(r,e.key)};else if(e instanceof Yf)t={update:Hk(r,e.key,e.data),updateMask:mX(e.fieldMask)};else{if(!(e instanceof HY))return Xe();t={verify:xE(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const f=d.transform;if(f instanceof e_)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof eb)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof tb)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof t_)return{fieldPath:d.field.canonicalString(),increment:f.Ie};throw Xe()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:nX(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Xe()}(r,e.precondition)),t}function aX(r,e){return r&&r.length>0?(tn(e!==void 0),r.map(t=>function(o,c){let d=o.updateTime?_l(o.updateTime):_l(c);return d.isEqual(lt.min())&&(d=_l(c)),new FY(d,o.transformResults||[])}(t,e))):[]}function oX(r,e){return{documents:[VP(r,e.path)]}}function lX(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=VP(r,o);const c=function(v){if(v.length!==0)return BP(cl.create(v,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(x=>function(C){return{field:sm(C.field),direction:hX(C.dir)}}(x))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=wE(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:t,parent:o}}function cX(r){let e=rX(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){tn(s===1);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=function(A){const C=FP(A);return C instanceof cl&&gP(C)?C.getFilters():[C]}(t.where));let d=[];t.orderBy&&(d=function(A){return A.map(C=>function(M){return new Jw(am(M.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(C))}(t.orderBy));let f=null;t.limit&&(f=function(A){let C;return C=typeof A=="object"?A.value:A,G_(C)?null:C}(t.limit));let p=null;t.startAt&&(p=function(A){const C=!!A.before,U=A.values||[];return new Zw(U,C)}(t.startAt));let v=null;return t.endAt&&(v=function(A){const C=!A.before,U=A.values||[];return new Zw(U,C)}(t.endAt)),CY(e,o,d,c,f,"F",p,v)}function uX(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FP(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=am(t.unaryFilter.field);return yr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=am(t.unaryFilter.field);return yr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=am(t.unaryFilter.field);return yr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=am(t.unaryFilter.field);return yr.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(r):r.fieldFilter!==void 0?function(t){return yr.create(am(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return cl.create(t.compositeFilter.filters.map(s=>FP(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Xe()}}(t.compositeFilter.op))}(r):Xe()}function hX(r){return ZY[r]}function dX(r){return JY[r]}function fX(r){return eX[r]}function sm(r){return{fieldPath:r.canonicalString()}}function am(r){return Li.fromServerFormat(r.fieldPath)}function BP(r){return r instanceof yr?function(t){if(t.op==="=="){if(Ik(t.value))return{unaryFilter:{field:sm(t.field),op:"IS_NAN"}};if(Nk(t.value))return{unaryFilter:{field:sm(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ik(t.value))return{unaryFilter:{field:sm(t.field),op:"IS_NOT_NAN"}};if(Nk(t.value))return{unaryFilter:{field:sm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sm(t.field),op:dX(t.op),value:t.value}}}(r):r instanceof cl?function(t){const s=t.getFilters().map(o=>BP(o));return s.length===1?s[0]:{compositeFilter:{op:fX(t.op),filters:s}}}(r):Xe()}function mX(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qP(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t,s,o,c=lt.min(),d=lt.min(),f=Ui.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Mu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e){this.Tt=e}}function gX(r){const e=cX({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(){this.Tn=new vX}addToCollectionParentIndex(e,t){return this.Tn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(Zu.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(Zu.min())}updateCollectionGroup(e,t,s){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class vX{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Yr(Dn.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Yr(Dn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HP=41943040;class Is{static withCacheSize(e){return new Is(e,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is.DEFAULT_COLLECTION_PERCENTILE=10,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Is.DEFAULT=new Is(HP,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Is.DISABLED=new Is(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Am(0)}static Un(){return new Am(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="LruGarbageCollector",bX=1048576;function Kk([r,e],[t,s]){const o=qt(r,t);return o===0?qt(e,s):o}class wX{constructor(e){this.Hn=e,this.buffer=new Yr(Kk),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Kk(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _X{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ie(Gk,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gm(t)?Ie(Gk,"Ignoring IndexedDB error during garbage collection: ",t):await $m(t)}await this.er(3e5)})}}class xX{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ge.resolve($_.ae);const s=new wX(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve($k)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$k):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,c,d,f,p,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,f=Date.now(),this.removeTargets(e,s,t))).next(A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(v=Date.now(),rm()<=Pt.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(f-d)+`ms
	Removed ${c} targets in `+(p-f)+`ms
	Removed ${A} documents in `+(v-p)+`ms
Total Duration: ${v-x}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A})))}}function TX(r,e){return new xX(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(){this.changes=new Wf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ge.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Rv(s.mutation,o,el.empty(),Wr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Lt()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Lt()){const o=bf();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(c=>{let d=yv();return c.forEach((f,p)=>{d=d.insert(f,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const s=bf();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Lt()))}populateOverlays(e,t,s){const o=[];return s.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,s,o){let c=Eu();const d=Iv(),f=function(){return Iv()}();return t.forEach((p,v)=>{const x=s.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof Yf)?c=c.insert(v.key,v):x!==void 0?(d.set(v.key,x.mutation.getFieldMask()),Rv(x.mutation,v,x.mutation.getFieldMask(),Wr.now())):d.set(v.key,el.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((v,x)=>d.set(v,x)),t.forEach((v,x)=>{var A;return f.set(v,new SX(x,(A=d.get(v))!==null&&A!==void 0?A:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Iv();let o=new Hn((d,f)=>d-f),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(p=>{const v=t.get(p);if(v===null)return;let x=s.get(p)||el.empty();x=f.applyToLocalView(v,x),s.set(p,x);const A=(o.get(f.batchId)||Lt()).add(p);o=o.insert(f.batchId,A)})}).next(()=>{const d=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),v=p.key,x=p.value,A=SP();x.forEach(C=>{if(!c.has(C)){const U=IP(t.get(C),s.get(C));U!==null&&A.set(C,U),c=c.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,A))}return ge.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(d){return Ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):ge.resolve(bf());let f=Yv,p=c;return d.next(v=>ge.forEach(v,(x,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),c.get(x)?ge.resolve():this.remoteDocumentCache.getEntry(e,x).next(C=>{p=p.insert(x,C)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,p,v,Lt())).next(x=>({batchId:f,changes:EP(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(s=>{let o=yv();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let d=yv();return this.indexManager.getCollectionParents(e,c).next(f=>ge.forEach(f,p=>{const v=function(A,C){return new _b(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(x=>{x.forEach((A,C)=>{d=d.insert(A,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o))).next(d=>{c.forEach((p,v)=>{const x=v.getKey();d.get(x)===null&&(d=d.insert(x,$i.newInvalidDocument(x)))});let f=yv();return d.forEach((p,v)=>{const x=c.get(p);x!==void 0&&Rv(x.mutation,v,el.empty(),Wr.now()),W_(t,v)&&(f=f.insert(p,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ge.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:_l(o.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:gX(o.bundledQuery),readTime:_l(o.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(){this.overlays=new Hn(Ge.comparator),this.Rr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const s=bf();return ge.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,c)=>{this.Et(e,t,c)}),ge.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),ge.resolve()}getOverlaysForCollection(e,t,s){const o=bf(),c=t.length+1,d=new Ge(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new Hn((v,x)=>v-x);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let x=c.get(v.largestBatchId);x===null&&(x=bf(),c=c.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const f=bf(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,x)=>f.set(v,x)),!(f.size()>=o)););return ge.resolve(f)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new GY(t,s));let c=this.Rr.get(t);c===void 0&&(c=Lt(),this.Rr.set(t,c)),this.Rr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(){this.sessionToken=Ui.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.Vr=new Yr(Zr.mr),this.gr=new Yr(Zr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Zr(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Zr(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new Ge(new Dn([])),s=new Zr(t,e),o=new Zr(t,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ge(new Dn([])),s=new Zr(t,e),o=new Zr(t,e+1);let c=Lt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new Zr(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Zr{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ge.comparator(e.key,t.key)||qt(e.Cr,t.Cr)}static pr(e,t){return qt(e.Cr,t.Cr)||Ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Yr(Zr.mr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $Y(c,t,s,o);this.mutationQueue.push(d);for(const f of o)this.Mr=this.Mr.add(new Zr(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(d)}lookupMutationBatch(e,t){return ge.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),c=o<0?0:o;return ge.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?p1:this.Fr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Zr(t,0),o=new Zr(t,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const f=this.Or(d.Cr);c.push(f)}),ge.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Yr(qt);return t.forEach(o=>{const c=new Zr(o,0),d=new Zr(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],f=>{s=s.add(f.Cr)})}),ge.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Ge.isDocumentKey(c)||(c=c.child(""));const d=new Zr(new Ge(c),0);let f=new Yr(qt);return this.Mr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(p.Cr)),!0)},d),ge.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){tn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ge.forEach(t.mutations,o=>{const c=new Zr(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Zr(t,0),o=this.Mr.firstAfterOrEqual(s);return ge.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(e){this.kr=e,this.docs=function(){return new Hn(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ge.resolve(s?s.document.mutableCopy():$i.newInvalidDocument(t))}getEntries(e,t){let s=Eu();return t.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():$i.newInvalidDocument(o))}),ge.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Eu();const d=t.path,f=new Ge(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:v,value:{document:x}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||aY(sY(x),s)<=0||(o.has(x.key)||W_(t,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ge.resolve(c)}getAllFromCollectionGroup(e,t,s,o){Xe()}qr(e,t){return ge.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new RX(this)}getSize(e){return ge.resolve(this.size)}}class RX extends EX{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ge.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX{constructor(e){this.persistence=e,this.Qr=new Wf(t=>v1(t),b1),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new S1,this.targetCount=0,this.Ur=Am.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),ge.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Am(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.zn(t),ge.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.Qr.forEach((d,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ge.waitFor(c).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return ge.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),ge.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ge.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return ge.resolve(s)}containsKey(e,t){return ge.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new $_(0),this.zr=!1,this.zr=!0,this.jr=new kX,this.referenceDelegate=e(this),this.Hr=new DX(this),this.indexManager=new yX,this.remoteDocumentCache=function(o){return new IX(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new pX(t),this.Yr=new jX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CX,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new NX(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){Ie("MemoryPersistence","Starting transaction:",e);const o=new OX(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,t){return ge.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class OX extends lY{constructor(e){super(),this.currentSequenceNumber=e}}class A1{constructor(e){this.persistence=e,this.ti=new S1,this.ni=null}static ri(e){return new A1(e)}get ii(){if(this.ni)return this.ni;throw Xe()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),ge.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ii,s=>{const o=Ge.fromPath(s);return this.si(e,o).next(c=>{c||t.removeEntry(o,lt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ge.or([()=>ge.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class r_{constructor(e,t){this.persistence=e,this.oi=new Wf(s=>hY(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=TX(this,t)}static ri(e,t){return new r_(e,t)}Zr(){}Xr(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return ge.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?ge.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,t).next(f=>{f||(s++,c.removeEntry(d,lt.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uw(e.data.value)),t}ar(e,t,s){return ge.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ge.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Lt(),o=Lt();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new j1(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return xH()?8:cY(Qi())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.rs(e,t).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,t,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new PX;return this._s(e,t,d).next(f=>{if(c.result=f,this.Xi)return this.us(e,t,d,f.size)})}).next(()=>c.result)}us(e,t,s,o){return s.documentReadCount<this.es?(rm()<=Pt.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",im(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ge.resolve()):(rm()<=Pt.DEBUG&&Ie("QueryEngine","Query:",im(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(rm()<=Pt.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",im(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wl(t))):ge.resolve())}rs(e,t){if(Pk(t))return ge.resolve(null);let s=wl(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=bE(t,null,"F"),s=wl(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Lt(...c);return this.ns.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const v=this.cs(t,f);return this.ls(t,v,d,p.readTime)?this.rs(e,bE(t,null,"F")):this.hs(e,v,t,p)}))})))}ss(e,t,s,o){return Pk(t)||o.isEqual(lt.min())?ge.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(t,c);return this.ls(t,d,s,o)?ge.resolve(null):(rm()<=Pt.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),im(t)),this.hs(e,d,t,iY(o,Yv)).next(f=>f))})}cs(e,t){let s=new Yr(xP(e));return t.forEach((o,c)=>{W_(e,c)&&(s=s.add(c))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,t,s){return rm()<=Pt.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",im(t)),this.ns.getDocumentsMatchingQuery(e,t,Zu.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="LocalStore",LX=3e8;class UX{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Hn(qt),this.Is=new Wf(c=>v1(c),b1),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AX(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function VX(r,e,t,s){return new UX(r,e,t,s)}async function GP(r,e){const t=ht(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],f=[];let p=Lt();for(const v of o){d.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}for(const v of c){f.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}return t.localDocuments.getDocuments(s,p).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:f}))})})}function zX(r,e){const t=ht(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,v,x){const A=v.batch,C=A.keys();let U=ge.resolve();return C.forEach(M=>{U=U.next(()=>x.getEntry(p,M)).next(K=>{const q=v.docVersions.get(M);tn(q!==null),K.version.compareTo(q)<0&&(A.applyToRemoteDocument(K,v),K.isValidDocument()&&(K.setReadTime(v.commitVersion),x.addEntry(K)))})}),U.next(()=>f.mutationQueue.removeMutationBatch(p,A))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let p=Lt();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(p=p.add(f.batch.mutations[v].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function KP(r){const e=ht(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function FX(r,e){const t=ht(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((x,A)=>{const C=o.get(A);if(!C)return;f.push(t.Hr.removeMatchingKeys(c,x.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(c,x.addedDocuments,A)));let U=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?U=U.withResumeToken(Ui.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):x.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(x.resumeToken,s)),o=o.insert(A,U),function(K,q,G){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=LX?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(C,U,x)&&f.push(t.Hr.updateTargetData(c,U))});let p=Eu(),v=Lt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(c,x))}),f.push(BX(c,d,e.documentUpdates).next(x=>{p=x.Vs,v=x.fs})),!s.isEqual(lt.min())){const x=t.Hr.getLastRemoteSnapshotVersion(c).next(A=>t.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));f.push(x)}return ge.waitFor(f).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(t.Ts=o,c))}function BX(r,e,t){let s=Lt(),o=Lt();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=Eu();return t.forEach((f,p)=>{const v=c.get(f);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(lt.min())?(e.removeEntry(f,p.readTime),d=d.insert(f,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),d=d.insert(f,p)):Ie(C1,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function qX(r,e){const t=ht(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=p1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function HX(r,e){const t=ht(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(c=>c?(o=c,ge.resolve(o)):t.Hr.allocateTargetId(s).next(d=>(o=new Mu(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function EE(r,e,t){const s=ht(r),o=s.Ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Gm(d))throw d;Ie(C1,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Qk(r,e,t){const s=ht(r);let o=lt.min(),c=Lt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,x){const A=ht(p),C=A.Is.get(x);return C!==void 0?ge.resolve(A.Ts.get(C)):A.Hr.getTargetData(v,x)}(s,d,wl(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,f.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,t?o:lt.min(),t?c:Lt())).next(f=>($X(s,NY(e),f),{documents:f,gs:c})))}function $X(r,e,t){let s=r.Es.get(e)||lt.min();t.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class Wk{constructor(){this.activeTargetIds=MY()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GX{constructor(){this.ho=new Wk,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Wk,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="ConnectivityMonitor";class Xk{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ie(Yk,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ie(Yk,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fb=null;function SE(){return Fb===null?Fb=function(){return 268435456+Math.round(2147483648*Math.random())}():Fb++,"0x"+Fb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="RestConnection",QX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WX{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Yw?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,c){const d=SE(),f=this.bo(e,t.toUriEncodedString());Ie(yT,`Sending RPC '${e}' ${d}:`,f,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,f,p,s).then(v=>(Ie(yT,`Received RPC '${e}' ${d}: `,v),v),v=>{throw xm(yT,`RPC '${e}' ${d} failed with error: `,v,"url: ",f,"request:",s),v})}Co(e,t,s,o,c,d){return this.So(e,t,s,o,c)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hm}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,t){const s=QX[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="WebChannelConnection";class XX extends WX{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const c=SE();return new Promise((d,f)=>{const p=new XO;p.setWithCredentials(!0),p.listenOnce(ZO.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case cw.NO_ERROR:const x=p.getResponseJson();Ie(Bi,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),d(x);break;case cw.TIMEOUT:Ie(Bi,`RPC '${e}' ${c} timed out`),f(new Ve(ve.DEADLINE_EXCEEDED,"Request time out"));break;case cw.HTTP_ERROR:const A=p.getStatus();if(Ie(Bi,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C==null?void 0:C.error;if(U&&U.status&&U.message){const M=function(q){const G=q.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(G)>=0?G:ve.UNKNOWN}(U.status);f(new Ve(M,U.message))}else f(new Ve(ve.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ve(ve.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ie(Bi,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);Ie(Bi,`RPC '${e}' ${c} sending request:`,o),p.send(t,"POST",v,s,15)})}Wo(e,t,s){const o=SE(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tP(),f=eP(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const x=c.join("");Ie(Bi,`Creating RPC '${e}' stream ${o}: ${x}`,p);const A=d.createWebChannel(x,p);let C=!1,U=!1;const M=new YX({Fo:q=>{U?Ie(Bi,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(C||(Ie(Bi,`Opening RPC '${e}' stream ${o} transport.`),A.open(),C=!0),Ie(Bi,`RPC '${e}' stream ${o} sending:`,q),A.send(q))},Mo:()=>A.close()}),K=(q,G,Z)=>{q.listen(G,Y=>{try{Z(Y)}catch(ae){setTimeout(()=>{throw ae},0)}})};return K(A,gv.EventType.OPEN,()=>{U||(Ie(Bi,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),K(A,gv.EventType.CLOSE,()=>{U||(U=!0,Ie(Bi,`RPC '${e}' stream ${o} transport closed`),M.Ko())}),K(A,gv.EventType.ERROR,q=>{U||(U=!0,xm(Bi,`RPC '${e}' stream ${o} transport errored:`,q),M.Ko(new Ve(ve.UNAVAILABLE,"The operation could not be completed")))}),K(A,gv.EventType.MESSAGE,q=>{var G;if(!U){const Z=q.data[0];tn(!!Z);const Y=Z,ae=(Y==null?void 0:Y.error)||((G=Y[0])===null||G===void 0?void 0:G.error);if(ae){Ie(Bi,`RPC '${e}' stream ${o} received error:`,ae);const ce=ae.status;let de=function(S){const N=pr[S];if(N!==void 0)return OP(N)}(ce),R=ae.message;de===void 0&&(de=ve.INTERNAL,R="Unknown error status: "+ce+" with message "+ae.message),U=!0,M.Ko(new Ve(de,R)),A.close()}else Ie(Bi,`RPC '${e}' stream ${o} received:`,Z),M.Uo(Z)}}),K(f,JO.STAT_EVENT,q=>{q.stat===fE.PROXY?Ie(Bi,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===fE.NOPROXY&&Ie(Bi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function vT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r){return new tX(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&Ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="PersistentStream";class WP{constructor(e,t,s,o,c,d,f,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new QP(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(Tu(t.toString()),Tu("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new Ve(ve.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ie(Zk,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ie(Zk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZX extends WP{constructor(e,t,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=iX(this.serializer,e),s=function(c){if(!("targetChange"in c))return lt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?lt.min():d.readTime?_l(d.readTime):lt.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=TE(this.serializer),t.addTarget=function(c,d){let f;const p=d.target;if(f=yE(p)?{documents:oX(c,p)}:{query:lX(c,p).ht},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=LP(c,d.resumeToken);const v=wE(c,d.expectedCount);v!==null&&(f.expectedCount=v)}else if(d.snapshotVersion.compareTo(lt.min())>0){f.readTime=n_(c,d.snapshotVersion.toTimestamp());const v=wE(c,d.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const s=uX(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=TE(this.serializer),t.removeTarget=e,this.I_(t)}}class JX extends WP{constructor(e,t,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return tn(!!e.streamToken),this.lastStreamToken=e.streamToken,tn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=aX(e.writeResults,e.commitTime),s=_l(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=TE(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>sX(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{}class tZ extends eZ{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ve(ve.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,_E(t,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ve(ve.UNKNOWN,c.toString())})}Co(e,t,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.Co(e,_E(t,s),o,d,f,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ve(ve.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nZ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Tu(t),this.N_=!1):Ie("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="RemoteStore";class rZ{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Xf(this)&&(Ie(Lf,"Restarting streams for network reachability change."),await async function(p){const v=ht(p);v.W_.add(4),await Eb(v),v.j_.set("Unknown"),v.W_.delete(4),await e0(v)}(this))})}),this.j_=new nZ(s,o)}}async function e0(r){if(Xf(r))for(const e of r.G_)await e(!0)}async function Eb(r){for(const e of r.G_)await e(!1)}function YP(r,e){const t=ht(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),R1(t)?I1(t):Km(t).c_()&&N1(t,e))}function k1(r,e){const t=ht(r),s=Km(t);t.U_.delete(e),s.c_()&&XP(t,e),t.U_.size===0&&(s.c_()?s.P_():Xf(t)&&t.j_.set("Unknown"))}function N1(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Km(r).y_(e)}function XP(r,e){r.H_.Ne(e),Km(r).w_(e)}function I1(r){r.H_=new XY({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Km(r).start(),r.j_.B_()}function R1(r){return Xf(r)&&!Km(r).u_()&&r.U_.size>0}function Xf(r){return ht(r).W_.size===0}function ZP(r){r.H_=void 0}async function iZ(r){r.j_.set("Online")}async function sZ(r){r.U_.forEach((e,t)=>{N1(r,e)})}async function aZ(r,e){ZP(r),R1(r)?(r.j_.q_(e),I1(r)):r.j_.set("Unknown")}async function oZ(r,e,t){if(r.j_.set("Online"),e instanceof MP&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const f of c.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,d),o.U_.delete(f),o.H_.removeTarget(f))}(r,e)}catch(s){Ie(Lf,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await i_(r,s)}else if(e instanceof fw?r.H_.We(e):e instanceof PP?r.H_.Ze(e):r.H_.je(e),!t.isEqual(lt.min()))try{const s=await KP(r.localStore);t.compareTo(s)>=0&&await function(c,d){const f=c.H_.ot(d);return f.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const x=c.U_.get(v);x&&c.U_.set(v,x.withResumeToken(p.resumeToken,d))}}),f.targetMismatches.forEach((p,v)=>{const x=c.U_.get(p);if(!x)return;c.U_.set(p,x.withResumeToken(Ui.EMPTY_BYTE_STRING,x.snapshotVersion)),XP(c,p);const A=new Mu(x.target,p,v,x.sequenceNumber);N1(c,A)}),c.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){Ie(Lf,"Failed to raise snapshot:",s),await i_(r,s)}}async function i_(r,e,t){if(!Gm(e))throw e;r.W_.add(1),await Eb(r),r.j_.set("Offline"),t||(t=()=>KP(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ie(Lf,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await e0(r)})}function JP(r,e){return e().catch(t=>i_(r,t,e))}async function t0(r){const e=ht(r),t=nh(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:p1;for(;lZ(e);)try{const o=await qX(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,cZ(e,o)}catch(o){await i_(e,o)}e4(e)&&t4(e)}function lZ(r){return Xf(r)&&r.K_.length<10}function cZ(r,e){r.K_.push(e);const t=nh(r);t.c_()&&t.S_&&t.b_(e.mutations)}function e4(r){return Xf(r)&&!nh(r).u_()&&r.K_.length>0}function t4(r){nh(r).start()}async function uZ(r){nh(r).C_()}async function hZ(r){const e=nh(r);for(const t of r.K_)e.b_(t.mutations)}async function dZ(r,e,t){const s=r.K_.shift(),o=x1.from(s,e,t);await JP(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await t0(r)}async function fZ(r,e){e&&nh(r).S_&&await async function(s,o){if(function(d){return QY(d)&&d!==ve.ABORTED}(o.code)){const c=s.K_.shift();nh(s).h_(),await JP(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await t0(s)}}(r,e),e4(r)&&t4(r)}async function Jk(r,e){const t=ht(r);t.asyncQueue.verifyOperationInProgress(),Ie(Lf,"RemoteStore received new credentials");const s=Xf(t);t.W_.add(3),await Eb(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await e0(t)}async function mZ(r,e){const t=ht(r);e?(t.W_.delete(2),await e0(t)):e||(t.W_.add(2),await Eb(t),t.j_.set("Unknown"))}function Km(r){return r.J_||(r.J_=function(t,s,o){const c=ht(t);return c.M_(),new ZX(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:iZ.bind(null,r),No:sZ.bind(null,r),Lo:aZ.bind(null,r),p_:oZ.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),R1(r)?I1(r):r.j_.set("Unknown")):(await r.J_.stop(),ZP(r))})),r.J_}function nh(r){return r.Y_||(r.Y_=function(t,s,o){const c=ht(t);return c.M_(),new JX(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:uZ.bind(null,r),Lo:fZ.bind(null,r),D_:hZ.bind(null,r),v_:dZ.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await t0(r)):(await r.Y_.stop(),r.K_.length>0&&(Ie(Lf,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new du,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const d=Date.now()+s,f=new D1(e,t,d,o,c);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O1(r,e){if(Tu("AsyncQueue",`${e}: ${r}`),Gm(r))return new Ve(ve.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{static emptySet(e){return new mm(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ge.comparator(t.key,s.key):(t,s)=>Ge.comparator(t.key,s.key),this.keyedMap=yv(),this.sortedSet=new Hn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new mm;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.Z_=new Hn(Ge.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class jm{constructor(e,t,s,o,c,d,f,p,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,c){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new jm(e,t,mm.emptySet(t),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Q_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class gZ{constructor(){this.queries=tN(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=ht(t),c=o.queries;o.queries=tN(),c.forEach((d,f)=>{for(const p of f.ta)p.onError(s)})})(this,new Ve(ve.ABORTED,"Firestore shutting down"))}}function tN(){return new Wf(r=>_P(r),Q_)}async function n4(r,e){const t=ht(r);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new pZ,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await t.onListen(o,!0);break;case 1:c.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const f=O1(d,`Initialization of query '${im(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,c),c.ta.push(e),e.sa(t.onlineState),c.ea&&e.oa(c.ea)&&P1(t)}async function r4(r,e){const t=ht(r),s=e.query;let o=3;const c=t.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function yZ(r,e){const t=ht(r);let s=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const f of d.ta)f.oa(o)&&(s=!0);d.ea=o}}s&&P1(t)}function vZ(r,e,t){const s=ht(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(t);s.queries.delete(e)}function P1(r){r.ia.forEach(e=>{e.next()})}var AE,nN;(nN=AE||(AE={}))._a="default",nN.Cache="cache";class i4{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new jm(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=jm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==AE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.key=e}}class a4{constructor(e){this.key=e}}class bZ{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Lt(),this.mutatedKeys=Lt(),this.ya=xP(e),this.wa=new mm(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new eN,o=t?t.wa:this.wa;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,A)=>{const C=o.get(x),U=W_(this.query,A)?A:null,M=!!C&&this.mutatedKeys.has(C.key),K=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let q=!1;C&&U?C.data.isEqual(U.data)?M!==K&&(s.track({type:3,doc:U}),q=!0):this.va(C,U)||(s.track({type:2,doc:U}),q=!0,(p&&this.ya(U,p)>0||v&&this.ya(U,v)<0)&&(f=!0)):!C&&U?(s.track({type:0,doc:U}),q=!0):C&&!U&&(s.track({type:1,doc:C}),q=!0,(p||v)&&(f=!0)),q&&(U?(d=d.add(U),c=K?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{wa:d,Da:s,ls:f,mutatedKeys:c}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((x,A)=>function(U,M){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return K(U)-K(M)}(x.type,A.type)||this.ya(x.doc,A.doc)),this.Ca(s),o=o!=null&&o;const f=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,v=p!==this.ga;return this.ga=p,d.length!==0||v?{snapshot:new jm(this.query,e.wa,c,d,e.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new eN,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Lt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new a4(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new s4(s))}),t}Oa(e){this.fa=e.gs,this.pa=Lt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return jm.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const M1="SyncEngine";class wZ{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class _Z{constructor(e){this.key=e,this.Ba=!1}}class xZ{constructor(e,t,s,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Wf(f=>_P(f),Q_),this.qa=new Map,this.Qa=new Set,this.$a=new Hn(Ge.comparator),this.Ka=new Map,this.Ua=new S1,this.Wa={},this.Ga=new Map,this.za=Am.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function TZ(r,e,t=!0){const s=d4(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await o4(s,e,t,!0),o}async function EZ(r,e){const t=d4(r);await o4(t,e,!0,!1)}async function o4(r,e,t,s){const o=await HX(r.localStore,wl(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,t);let f;return s&&(f=await SZ(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&t&&YP(r.remoteStore,o),f}async function SZ(r,e,t,s,o){r.Ha=(A,C,U)=>async function(K,q,G,Z){let Y=q.view.ba(G);Y.ls&&(Y=await Qk(K.localStore,q.query,!1).then(({documents:R})=>q.view.ba(R,Y)));const ae=Z&&Z.targetChanges.get(q.targetId),ce=Z&&Z.targetMismatches.get(q.targetId)!=null,de=q.view.applyChanges(Y,K.isPrimaryClient,ae,ce);return iN(K,q.targetId,de.Ma),de.snapshot}(r,A,C,U);const c=await Qk(r.localStore,e,!0),d=new bZ(e,c.gs),f=d.ba(c.documents),p=Tb.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),v=d.applyChanges(f,r.isPrimaryClient,p);iN(r,t,v.Ma);const x=new wZ(e,t,d);return r.ka.set(e,x),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),v.snapshot}async function AZ(r,e,t){const s=ht(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!Q_(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await EE(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&k1(s.remoteStore,o.targetId),jE(s,o.targetId)}).catch($m)):(jE(s,o.targetId),await EE(s.localStore,o.targetId,!0))}async function jZ(r,e){const t=ht(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),k1(t.remoteStore,s.targetId))}async function CZ(r,e,t){const s=PZ(r);try{const o=await function(d,f){const p=ht(d),v=Wr.now(),x=f.reduce((U,M)=>U.add(M.key),Lt());let A,C;return p.persistence.runTransaction("Locally write mutations","readwrite",U=>{let M=Eu(),K=Lt();return p.ds.getEntries(U,x).next(q=>{M=q,M.forEach((G,Z)=>{Z.isValidDocument()||(K=K.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(U,M)).next(q=>{A=q;const G=[];for(const Z of f){const Y=qY(Z,A.get(Z.key).overlayedDocument);Y!=null&&G.push(new Yf(Z.key,Y,fP(Y.value.mapValue),fu.exists(!0)))}return p.mutationQueue.addMutationBatch(U,v,G,f)}).next(q=>{C=q;const G=q.applyToLocalDocumentSet(A,K);return p.documentOverlayCache.saveOverlays(U,q.batchId,G)})}).then(()=>({batchId:C.batchId,changes:EP(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,f,p){let v=d.Wa[d.currentUser.toKey()];v||(v=new Hn(qt)),v=v.insert(f,p),d.Wa[d.currentUser.toKey()]=v}(s,o.batchId,t),await Sb(s,o.changes),await t0(s.remoteStore)}catch(o){const c=O1(o,"Failed to persist write");t.reject(c)}}async function l4(r,e){const t=ht(r);try{const s=await FX(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.Ka.get(c);d&&(tn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?tn(d.Ba):o.removedDocuments.size>0&&(tn(d.Ba),d.Ba=!1))}),await Sb(t,s,e)}catch(s){await $m(s)}}function rN(r,e,t){const s=ht(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((c,d)=>{const f=d.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(d,f){const p=ht(d);p.onlineState=f;let v=!1;p.queries.forEach((x,A)=>{for(const C of A.ta)C.sa(f)&&(v=!0)}),v&&P1(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kZ(r,e,t){const s=ht(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),c=o&&o.key;if(c){let d=new Hn(Ge.comparator);d=d.insert(c,$i.newNoDocument(c,lt.min()));const f=Lt().add(c),p=new Z_(lt.min(),new Map,new Hn(qt),d,f);await l4(s,p),s.$a=s.$a.remove(c),s.Ka.delete(e),L1(s)}else await EE(s.localStore,e,!1).then(()=>jE(s,e,t)).catch($m)}async function NZ(r,e){const t=ht(r),s=e.batch.batchId;try{const o=await zX(t.localStore,e);u4(t,s,null),c4(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Sb(t,o)}catch(o){await $m(o)}}async function IZ(r,e,t){const s=ht(r);try{const o=await function(d,f){const p=ht(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let x;return p.mutationQueue.lookupMutationBatch(v,f).next(A=>(tn(A!==null),x=A.keys(),p.mutationQueue.removeMutationBatch(v,A))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,x,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x)).next(()=>p.localDocuments.getDocuments(v,x))})}(s.localStore,e);u4(s,e,t),c4(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Sb(s,o)}catch(o){await $m(o)}}function c4(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function u4(r,e,t){const s=ht(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function jE(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||h4(r,s)})}function h4(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(k1(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),L1(r))}function iN(r,e,t){for(const s of t)s instanceof s4?(r.Ua.addReference(s.key,e),RZ(r,s)):s instanceof a4?(Ie(M1,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||h4(r,s.key)):Xe()}function RZ(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(Ie(M1,"New document in limbo: "+t),r.Qa.add(s),L1(r))}function L1(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Ge(Dn.fromString(e)),s=r.za.next();r.Ka.set(s,new _Z(t)),r.$a=r.$a.insert(t,s),YP(r.remoteStore,new Mu(wl(w1(t.path)),s,"TargetPurposeLimboResolution",$_.ae))}}async function Sb(r,e,t){const s=ht(r),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((f,p)=>{d.push(s.Ha(p,e,t).then(v=>{var x;if((v||t)&&s.isPrimaryClient){const A=v?!v.fromCache:(x=t==null?void 0:t.targetChanges.get(p.targetId))===null||x===void 0?void 0:x.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(v){o.push(v);const A=j1.Yi(p.targetId,v);c.push(A)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,v){const x=ht(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ge.forEach(v,C=>ge.forEach(C.Hi,U=>x.persistence.referenceDelegate.addReference(A,C.targetId,U)).next(()=>ge.forEach(C.Ji,U=>x.persistence.referenceDelegate.removeReference(A,C.targetId,U)))))}catch(A){if(!Gm(A))throw A;Ie(C1,"Failed to update sequence numbers: "+A)}for(const A of v){const C=A.targetId;if(!A.fromCache){const U=x.Ts.get(C),M=U.snapshotVersion,K=U.withLastLimboFreeSnapshotVersion(M);x.Ts=x.Ts.insert(C,K)}}}(s.localStore,c))}async function DZ(r,e){const t=ht(r);if(!t.currentUser.isEqual(e)){Ie(M1,"User change. New user:",e.toKey());const s=await GP(t.localStore,e);t.currentUser=e,function(c,d){c.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Ve(ve.CANCELLED,d))})}),c.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Sb(t,s.Rs)}}function OZ(r,e){const t=ht(r),s=t.Ka.get(e);if(s&&s.Ba)return Lt().add(s.key);{let o=Lt();const c=t.qa.get(e);if(!c)return o;for(const d of c){const f=t.ka.get(d);o=o.unionWith(f.view.Sa)}return o}}function d4(r){const e=ht(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=l4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kZ.bind(null,e),e.La.p_=yZ.bind(null,e.eventManager),e.La.Ja=vZ.bind(null,e.eventManager),e}function PZ(r){const e=ht(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IZ.bind(null,e),e}class s_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=J_(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return VX(this.persistence,new MX,e.initialUser,this.serializer)}Xa(e){return new $P(A1.ri,this.serializer)}Za(e){return new GX}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}s_.provider={build:()=>new s_};class MZ extends s_{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){tn(this.persistence.referenceDelegate instanceof r_);const s=this.persistence.referenceDelegate.garbageCollector;return new _X(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Is.withCacheSize(this.cacheSizeBytes):Is.DEFAULT;return new $P(s=>r_.ri(s,t),this.serializer)}}class CE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rN(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DZ.bind(null,this.syncEngine),await mZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gZ}()}createDatastore(e){const t=J_(e.databaseInfo.databaseId),s=function(c){return new XX(c)}(e.databaseInfo);return function(c,d,f,p){return new tZ(c,d,f,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,c,d,f){return new rZ(s,o,c,d,f)}(this.localStore,this.datastore,e.asyncQueue,t=>rN(this.syncEngine,t,0),function(){return Xk.D()?new Xk:new KX}())}createSyncEngine(e,t){return function(o,c,d,f,p,v,x){const A=new xZ(o,c,d,f,p,v);return x&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=ht(o);Ie(Lf,"RemoteStore shutting down."),c.W_.add(5),await Eb(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}CE.provider={build:()=>new CE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Tu("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="FirestoreClient";class LZ{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Hi.UNAUTHENTICATED,this.clientId=rP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{Ie(rh,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(Ie(rh,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new du;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=O1(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function bT(r,e){r.asyncQueue.verifyOperationInProgress(),Ie(rh,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await GP(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function sN(r,e){r.asyncQueue.verifyOperationInProgress();const t=await UZ(r);Ie(rh,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Jk(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Jk(e.remoteStore,o)),r._onlineComponents=e}async function UZ(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ie(rh,"Using user provided OfflineComponentProvider");try{await bT(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ve.FAILED_PRECONDITION||o.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;xm("Error using user provided cache. Falling back to memory cache: "+t),await bT(r,new s_)}}else Ie(rh,"Using default OfflineComponentProvider"),await bT(r,new MZ(void 0));return r._offlineComponents}async function m4(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ie(rh,"Using user provided OnlineComponentProvider"),await sN(r,r._uninitializedComponentsProvider._online)):(Ie(rh,"Using default OnlineComponentProvider"),await sN(r,new CE))),r._onlineComponents}function VZ(r){return m4(r).then(e=>e.syncEngine)}async function p4(r){const e=await m4(r),t=e.eventManager;return t.onListen=TZ.bind(null,e.syncEngine),t.onUnlisten=AZ.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=EZ.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jZ.bind(null,e.syncEngine),t}function zZ(r,e,t={}){const s=new du;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,f,p,v){const x=new f4({next:C=>{x.su(),d.enqueueAndForget(()=>r4(c,A));const U=C.docs.has(f);!U&&C.fromCache?v.reject(new Ve(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&C.fromCache&&p&&p.source==="server"?v.reject(new Ve(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),A=new i4(w1(f.path),x,{includeMetadataChanges:!0,Ta:!0});return n4(c,A)}(await p4(r),r.asyncQueue,e,t,s)),s.promise}function FZ(r,e,t={}){const s=new du;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,f,p,v){const x=new f4({next:C=>{x.su(),d.enqueueAndForget(()=>r4(c,A)),C.fromCache&&p.source==="server"?v.reject(new Ve(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),A=new i4(f,x,{includeMetadataChanges:!0,Ta:!0});return n4(c,A)}(await p4(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(r,e,t){if(!t)throw new Ve(ve.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function BZ(r,e,t,s){if(e===!0&&s===!0)throw new Ve(ve.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function oN(r){if(!Ge.isDocumentKey(r))throw new Ve(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lN(r){if(Ge.isDocumentKey(r))throw new Ve(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function n0(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Xe()}function Uf(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ve(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=n0(r);throw new Ve(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="firestore.googleapis.com",cN=!0;class uN{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v4,this.ssl=cN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:cN;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bX)throw new Ve(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g4((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Ve(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ve(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ve(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class r0{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uN({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uN(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YW;switch(s.type){case"firstParty":return new eY(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ve(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=aN.get(t);s&&(Ie("ComponentProvider","Removing Datastore"),aN.delete(t),s.terminate())}(this),Promise.resolve()}}function qZ(r,e,t,s={}){var o;const c=(r=Uf(r,r0))._getSettings(),d=`${e}:${t}`;if(c.host!==v4&&c.host!==d&&xm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let f,p;if(typeof s.mockUserToken=="string")f=s.mockUserToken,p=Hi.MOCK_USER;else{f=OD(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new Ve(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Hi(v)}r._authCredentials=new XW(new nP(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qm(this.firestore,e,this._query)}}class Vs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vs(this.firestore,e,this._key)}}class $u extends Qm{constructor(e,t,s){super(e,t,w1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vs(this.firestore,null,new Ge(e))}withConverter(e){return new $u(this.firestore,e,this._path)}}function HZ(r,e,...t){if(r=dr(r),y4("collection","path",e),r instanceof r0){const s=Dn.fromString(e,...t);return lN(s),new $u(r,null,s)}{if(!(r instanceof Vs||r instanceof $u))throw new Ve(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Dn.fromString(e,...t));return lN(s),new $u(r.firestore,null,s)}}function wT(r,e,...t){if(r=dr(r),arguments.length===1&&(e=rP.newId()),y4("doc","path",e),r instanceof r0){const s=Dn.fromString(e,...t);return oN(s),new Vs(r,null,new Ge(s))}{if(!(r instanceof Vs||r instanceof $u))throw new Ve(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Dn.fromString(e,...t));return oN(s),new Vs(r.firestore,r instanceof $u?r.converter:null,new Ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="AsyncQueue";class dN{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new QP(this,"async_queue_retry"),this.Su=()=>{const s=vT();s&&Ie(hN,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=vT();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=vT();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new du;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Gm(e))throw e;Ie(hN,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),f}(s);throw Tu("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=D1.createAndSchedule(this,e,t,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&Xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class i0 extends r0{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new dN,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dN(e),this._firestoreClient=void 0,await e}}}function $Z(r,e){const t=V_(),s=Yw,o=lh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=ID("firestore");c&&qZ(o,...c)}return o}function U1(r){if(r._terminated)throw new Ve(ve.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GZ(r),r._firestoreClient}function GZ(r){var e,t,s;const o=r._freezeSettings(),c=function(f,p,v,x){return new mY(f,p,v,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,g4(x.experimentalLongPollingOptions),x.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new LZ(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cm(Ui.fromBase64String(e))}catch(t){throw new Ve(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cm(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ve(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ=/^__.*__$/;class QZ{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Yf(e,this.data,this.fieldMask,t,this.fieldTransforms):new xb(e,this.data,t,this.fieldTransforms)}}function w4(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class B1{constructor(e,t,s,o,c,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new B1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return a_(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(w4(this.Lu)&&KZ.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class WZ{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||J_(e)}ju(e,t,s,o=!1){return new B1({Lu:e,methodName:t,zu:s,path:Li.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _4(r){const e=r._freezeSettings(),t=J_(r._databaseId);return new WZ(r._databaseId,!!e.ignoreUndefinedProperties,t)}function YZ(r,e,t,s,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,e,t,o);E4("Data must be an object, but it was:",d,s);const f=x4(s,d);let p,v;if(c.merge)p=new el(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const A of c.mergeFields){const C=ZZ(e,A,t);if(!d.contains(C))throw new Ve(ve.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);eJ(x,C)||x.push(C)}p=new el(x),v=d.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,v=d.fieldTransforms;return new QZ(new Ua(f),p,v)}function XZ(r,e,t,s=!1){return q1(t,r.ju(s?4:3,e))}function q1(r,e){if(T4(r=dr(r)))return E4("Unsupported field value:",e,r),x4(r,e);if(r instanceof b4)return function(s,o){if(!w4(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const f of s){let p=q1(f,o.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=dr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LY(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Wr.fromDate(s);return{timestampValue:n_(o.serializer,c)}}if(s instanceof Wr){const c=new Wr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:n_(o.serializer,c)}}if(s instanceof z1)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cm)return{bytesValue:LP(o.serializer,s._byteString)};if(s instanceof Vs){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:E1(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof F1)return function(d,f){return{mapValue:{fields:{[hP]:{stringValue:dP},[Xw]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw f.Wu("VectorValues must only contain numeric values.");return _1(f.serializer,v)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${n0(s)}`)}(r,e)}function x4(r,e){const t={};return sP(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qf(r,(s,o)=>{const c=q1(o,e.qu(s));c!=null&&(t[s]=c)}),{mapValue:{fields:t}}}function T4(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Wr||r instanceof z1||r instanceof Cm||r instanceof Vs||r instanceof b4||r instanceof F1)}function E4(r,e,t){if(!T4(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=n0(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function ZZ(r,e,t){if((e=dr(e))instanceof V1)return e._internalPath;if(typeof e=="string")return S4(r,e);throw a_("Field path arguments must be of type string or ",r,!1,void 0,t)}const JZ=new RegExp("[~\\*/\\[\\]]");function S4(r,e,t){if(e.search(JZ)>=0)throw a_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new V1(...e.split("."))._internalPath}catch{throw a_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function a_(r,e,t,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new Ve(ve.INVALID_ARGUMENT,f+r+p)}function eJ(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Vs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(H1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tJ extends A4{data(){return super.data()}}function H1(r,e){return typeof e=="string"?S4(r,e):e instanceof V1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ve(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $1{}class rJ extends $1{}function iJ(r,e,...t){let s=[];e instanceof $1&&s.push(e),s=s.concat(t),function(c){const d=c.filter(p=>p instanceof G1).length,f=c.filter(p=>p instanceof s0).length;if(d>1||d>0&&f>0)throw new Ve(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class s0 extends rJ{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new s0(e,t,s)}_apply(e){const t=this._parse(e);return j4(e._query,t),new Qm(e.firestore,e.converter,vE(e._query,t))}_parse(e){const t=_4(e.firestore);return function(c,d,f,p,v,x,A){let C;if(v.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ve(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){pN(A,x);const M=[];for(const K of A)M.push(mN(p,c,K));C={arrayValue:{values:M}}}else C=mN(p,c,A)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||pN(A,x),C=XZ(f,d,A,x==="in"||x==="not-in");return yr.create(v,x,C)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fN(r,e,t){const s=e,o=H1("where",r);return s0._create(o,s,t)}class G1 extends $1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new G1(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:cl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let d=o;const f=c.getFlattenedFilters();for(const p of f)j4(d,p),d=vE(d,p)}(e._query,t),new Qm(e.firestore,e.converter,vE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mN(r,e,t){if(typeof(t=dr(t))=="string"){if(t==="")throw new Ve(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wP(e)&&t.indexOf("/")!==-1)throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Dn.fromString(t));if(!Ge.isDocumentKey(s))throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return kk(r,new Ge(s))}if(t instanceof Vs)return kk(r,t._key);throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${n0(t)}.`)}function pN(r,e){if(!Array.isArray(r)||r.length===0)throw new Ve(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j4(r,e){const t=function(o,c){for(const d of o)for(const f of d.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ve(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ve(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sJ{convertValue(e,t="none"){switch(th(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Qf(e,(o,c)=>{s[o]=this.convertValue(c,t)}),s}convertVectorValue(e){var t,s,o;const c=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Xw].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ur(d.doubleValue));return new F1(c)}convertGeoPoint(e){return new z1(ur(e.latitude),ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=K_(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Xv(e));default:return null}}convertTimestamp(e){const t=Ju(e);return new Wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Dn.fromString(e);tn(qP(s));const o=new Zv(s.get(1),s.get(3)),c=new Ge(s.popFirst(5));return o.isEqual(t)||Tu(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C4 extends A4{constructor(e,t,s,o,c,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(H1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class mw extends C4{data(e={}){return super.data(e)}}class oJ{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new bv(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new mw(this._firestore,this._userDataWriter,s.key,s,new bv(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(f=>{const p=new mw(o._firestore,o._userDataWriter,f.doc.key,f.doc,new bv(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>c||f.type!==3).map(f=>{const p=new mw(o._firestore,o._userDataWriter,f.doc.key,f.doc,new bv(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,x=-1;return f.type!==0&&(v=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),x=d.indexOf(f.doc.key)),{type:lJ(f.type),doc:p,oldIndex:v,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lJ(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(r){r=Uf(r,Vs);const e=Uf(r.firestore,i0);return zZ(U1(e),r._key).then(t=>hJ(e,r,t))}class k4 extends sJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vs(this.firestore,null,t)}}function cJ(r){r=Uf(r,Qm);const e=Uf(r.firestore,i0),t=U1(e),s=new k4(e);return nJ(r._query),FZ(t,r._query).then(o=>new oJ(e,s,r,o))}function yN(r,e,t){r=Uf(r,Vs);const s=Uf(r.firestore,i0),o=aJ(r.converter,e,t);return uJ(s,[YZ(_4(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,fu.none())])}function uJ(r,e){return function(s,o){const c=new du;return s.asyncQueue.enqueueAndForget(async()=>CZ(await VZ(s),o,c)),c.promise}(U1(r),e)}function hJ(r,e,t){const s=t.docs.get(e._key),o=new k4(r);return new C4(r,o,e._key,s,new bv(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Hm=o})(Kf),ll(new Fa("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),f=new i0(new ZW(s.getProvider("auth-internal")),new tY(d,s.getProvider("app-check-internal")),function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Ve(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zv(v.options.projectId,x)}(d,o),d);return c=Object.assign({useFetchStreams:t},c),f._setSettings(c),f},"PUBLIC").setMultipleInstances(!0)),Ls(vk,bk,e),Ls(vk,bk,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="firebasestorage.googleapis.com",I4="storageBucket",dJ=2*60*1e3,fJ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends Ha{constructor(e,t,s=0){super(_T(e),`Firebase Storage: ${t} (${_T(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _T(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gn||(Gn={}));function _T(r){return"storage/"+r}function K1(){const r="An unknown error occurred, please check the error payload for server response.";return new Kn(Gn.UNKNOWN,r)}function mJ(r){return new Kn(Gn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function pJ(r){return new Kn(Gn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gJ(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kn(Gn.UNAUTHENTICATED,r)}function yJ(){return new Kn(Gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vJ(r){return new Kn(Gn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function bJ(){return new Kn(Gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wJ(){return new Kn(Gn.CANCELED,"User canceled the upload/download.")}function _J(r){return new Kn(Gn.INVALID_URL,"Invalid URL '"+r+"'.")}function xJ(r){return new Kn(Gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function TJ(){return new Kn(Gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+I4+"' property when initializing the app?")}function EJ(){return new Kn(Gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function SJ(){return new Kn(Gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AJ(r){return new Kn(Gn.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function kE(r){return new Kn(Gn.INVALID_ARGUMENT,r)}function R4(){return new Kn(Gn.APP_DELETED,"The Firebase app was deleted.")}function jJ(r){return new Kn(Gn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dv(r,e){return new Kn(Gn.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function ov(r){throw new Kn(Gn.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Ra.makeFromUrl(e,t)}catch{return new Ra(e,"")}if(s.path==="")return s;throw xJ(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const d="(/(.*))?$",f=new RegExp("^gs://"+o+d,"i"),p={bucket:1,path:3};function v(ae){ae.path_=decodeURIComponent(ae.path)}const x="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",U=new RegExp(`^https?://${A}/${x}/b/${o}/o${C}`,"i"),M={bucket:1,path:3},K=t===N4?"(?:storage.googleapis.com|storage.cloud.google.com)":t,q="([^?#]*)",G=new RegExp(`^https?://${K}/${o}/${q}`,"i"),Y=[{regex:f,indices:p,postModify:c},{regex:U,indices:M,postModify:v},{regex:G,indices:{bucket:1,path:2},postModify:v}];for(let ae=0;ae<Y.length;ae++){const ce=Y[ae],de=ce.regex.exec(e);if(de){const R=de[ce.indices.bucket];let j=de[ce.indices.path];j||(j=""),s=new Ra(R,j),ce.postModify(s);break}}if(s==null)throw _J(e);return s}}class CJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(r,e,t){let s=1,o=null,c=null,d=!1,f=0;function p(){return f===2}let v=!1;function x(...q){v||(v=!0,e.apply(null,q))}function A(q){o=setTimeout(()=>{o=null,r(U,p())},q)}function C(){c&&clearTimeout(c)}function U(q,...G){if(v){C();return}if(q){C(),x.call(null,q,...G);return}if(p()||d){C(),x.call(null,q,...G);return}s<64&&(s*=2);let Y;f===1?(f=2,Y=0):Y=(s+Math.random())*1e3,A(Y)}let M=!1;function K(q){M||(M=!0,C(),!v&&(o!==null?(q||(f=2),clearTimeout(o),A(0)):q||(f=1)))}return A(0),c=setTimeout(()=>{d=!0,K(!0)},t),K}function NJ(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(r){return r!==void 0}function RJ(r){return typeof r=="object"&&!Array.isArray(r)}function Q1(r){return typeof r=="string"||r instanceof String}function vN(r){return W1()&&r instanceof Blob}function W1(){return typeof Blob<"u"}function bN(r,e,t,s){if(s<e)throw kE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw kE(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function D4(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Tf;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Tf||(Tf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DJ(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(e,t,s,o,c,d,f,p,v,x,A,C=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=A,this.retry=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,M)=>{this.resolve_=U,this.reject_=M,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Bb(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=f=>{const p=f.loaded,v=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,v)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const f=c.getErrorCode()===Tf.NO_ERROR,p=c.getStatus();if(!f||DJ(p,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===Tf.ABORT;s(!1,new Bb(!1,null,x));return}const v=this.successCodes_.indexOf(p)!==-1;s(!0,new Bb(v,c))})},t=(s,o)=>{const c=this.resolve_,d=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());IJ(p)?c(p):c()}catch(p){d(p)}else if(f!==null){const p=K1();p.serverResponse=f.getErrorText(),this.errorCallback_?d(this.errorCallback_(f,p)):d(p)}else if(o.canceled){const p=this.appDelete_?R4():wJ();d(p)}else{const p=bJ();d(p)}};this.canceled_?t(!1,new Bb(!1,null,!0)):this.backoffId_=kJ(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bb{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function PJ(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function MJ(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LJ(r,e){e&&(r["X-Firebase-GMPID"]=e)}function UJ(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function VJ(r,e,t,s,o,c,d=!0){const f=D4(r.urlParams),p=r.url+f,v=Object.assign({},r.headers);return LJ(v,e),PJ(v,t),MJ(v,c),UJ(v,s),new OJ(p,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FJ(...r){const e=zJ();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(W1())return new Blob(r);throw new Kn(Gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function BJ(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(r){if(typeof atob>"u")throw AJ("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xT{constructor(e,t){this.data=e,this.contentType=t||null}}function HJ(r,e){switch(r){case pl.RAW:return new xT(O4(e));case pl.BASE64:case pl.BASE64URL:return new xT(P4(r,e));case pl.DATA_URL:return new xT(GJ(e),KJ(e))}throw K1()}function O4(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=s,d=r.charCodeAt(++t);s=65536|(c&1023)<<10|d&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function $J(r){let e;try{e=decodeURIComponent(r)}catch{throw Dv(pl.DATA_URL,"Malformed data URL.")}return O4(e)}function P4(r,e){switch(r){case pl.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw Dv(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case pl.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw Dv(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=qJ(e)}catch(o){throw o.message.includes("polyfill")?o:Dv(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class M4{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Dv(pl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=QJ(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function GJ(r){const e=new M4(r);return e.base64?P4(pl.BASE64,e.rest):$J(e.rest)}function KJ(r){return new M4(r).contentType}function QJ(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){let s=0,o="";vN(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(vN(this.data_)){const s=this.data_,o=BJ(s,e,t);return o===null?null:new Ou(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Ou(s,!0)}}static getBlob(...e){if(W1()){const t=e.map(s=>s instanceof Ou?s.data_:s);return new Ou(FJ.apply(null,t))}else{const t=e.map(d=>Q1(d)?HJ(pl.RAW,d).data:d.data_);let s=0;t.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let c=0;return t.forEach(d=>{for(let f=0;f<d.length;f++)o[c++]=d[f]}),new Ou(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(r){let e;try{e=JSON.parse(r)}catch{return null}return RJ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WJ(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function YJ(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function U4(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XJ(r,e){return e}class Cs{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||XJ}}let qb=null;function ZJ(r){return!Q1(r)||r.length<2?r:U4(r)}function V4(){if(qb)return qb;const r=[];r.push(new Cs("bucket")),r.push(new Cs("generation")),r.push(new Cs("metageneration")),r.push(new Cs("name","fullPath",!0));function e(c,d){return ZJ(d)}const t=new Cs("name");t.xform=e,r.push(t);function s(c,d){return d!==void 0?Number(d):d}const o=new Cs("size");return o.xform=s,r.push(o),r.push(new Cs("timeCreated")),r.push(new Cs("updated")),r.push(new Cs("md5Hash",null,!0)),r.push(new Cs("cacheControl",null,!0)),r.push(new Cs("contentDisposition",null,!0)),r.push(new Cs("contentEncoding",null,!0)),r.push(new Cs("contentLanguage",null,!0)),r.push(new Cs("contentType",null,!0)),r.push(new Cs("metadata","customMetadata",!0)),qb=r,qb}function JJ(r,e){function t(){const s=r.bucket,o=r.fullPath,c=new Ra(s,o);return e._makeStorageReference(c)}Object.defineProperty(r,"ref",{get:t})}function eee(r,e,t){const s={};s.type="file";const o=t.length;for(let c=0;c<o;c++){const d=t[c];s[d.local]=d.xform(s,e[d.server])}return JJ(s,r),s}function z4(r,e,t){const s=L4(e);return s===null?null:eee(r,s,t)}function tee(r,e,t,s){const o=L4(e);if(o===null||!Q1(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(v=>{const x=r.bucket,A=r.fullPath,C="/b/"+d(x)+"/o/"+d(A),U=Y1(C,t,s),M=D4({alt:"media",token:v});return U+M})[0]}function nee(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(t[c.server]=r[c.local])}return JSON.stringify(t)}class F4{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(r){if(!r)throw K1()}function ree(r,e){function t(s,o){const c=z4(r,o,e);return B4(c!==null),c}return t}function iee(r,e){function t(s,o){const c=z4(r,o,e);return B4(c!==null),tee(c,o,r.host,r._protocol)}return t}function q4(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=yJ():o=gJ():t.getStatus()===402?o=pJ(r.bucket):t.getStatus()===403?o=vJ(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function see(r){const e=q4(r);function t(s,o){let c=e(s,o);return s.getStatus()===404&&(c=mJ(r.path)),c.serverResponse=o.serverResponse,c}return t}function aee(r,e,t){const s=e.fullServerUrl(),o=Y1(s,r.host,r._protocol),c="GET",d=r.maxOperationRetryTime,f=new F4(o,c,iee(r,t),d);return f.errorHandler=see(e),f}function oee(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function lee(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=oee(null,e)),s}function cee(r,e,t,s,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function f(){let Y="";for(let ae=0;ae<2;ae++)Y=Y+Math.random().toString().slice(2);return Y}const p=f();d["Content-Type"]="multipart/related; boundary="+p;const v=lee(e,s,o),x=nee(v,t),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+p+`\r
Content-Type: `+v.contentType+`\r
\r
`,C=`\r
--`+p+"--",U=Ou.getBlob(A,s,C);if(U===null)throw EJ();const M={name:v.fullPath},K=Y1(c,r.host,r._protocol),q="POST",G=r.maxUploadRetryTime,Z=new F4(K,q,ree(r,t),G);return Z.urlParams=M,Z.headers=d,Z.body=U.uploadData(),Z.errorHandler=q4(e),Z}class uee{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw ov("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ov("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ov("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ov("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ov("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hee extends uee{initXhr(){this.xhr_.responseType="text"}}function H4(){return new hee}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t){this._service=e,t instanceof Ra?this._location=t:this._location=Ra.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Vf(e,t)}get root(){const e=new Ra(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return U4(this._location.path)}get storage(){return this._service}get parent(){const e=WJ(this._location.path);if(e===null)return null;const t=new Ra(this._location.bucket,e);return new Vf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw jJ(e)}}function dee(r,e,t){r._throwIfRoot("uploadBytes");const s=cee(r.storage,r._location,V4(),new Ou(e,!0),t);return r.storage.makeRequestWithTokens(s,H4).then(o=>({metadata:o,ref:r}))}function fee(r){r._throwIfRoot("getDownloadURL");const e=aee(r.storage,r._location,V4());return r.storage.makeRequestWithTokens(e,H4).then(t=>{if(t===null)throw SJ();return t})}function mee(r,e){const t=YJ(r._location.path,e),s=new Ra(r._location.bucket,t);return new Vf(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pee(r){return/^[A-Za-z]+:\/\//.test(r)}function gee(r,e){return new Vf(r,e)}function $4(r,e){if(r instanceof X1){const t=r;if(t._bucket==null)throw TJ();const s=new Vf(t,t._bucket);return e!=null?$4(s,e):s}else return e!==void 0?mee(r,e):r}function yee(r,e){if(e&&pee(e)){if(r instanceof X1)return gee(r,e);throw kE("To use ref(service, url), the first argument must be a Storage instance.")}else return $4(r,e)}function wN(r,e){const t=e==null?void 0:e[I4];return t==null?null:Ra.makeFromBucketSpec(t,r)}function vee(r,e,t,s={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:OD(o,r.app.options.projectId))}class X1{constructor(e,t,s,o,c){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=N4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dJ,this._maxUploadRetryTime=fJ,this._requests=new Set,o!=null?this._bucket=Ra.makeFromBucketSpec(o,this._host):this._bucket=wN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ra.makeFromBucketSpec(this._url,e):this._bucket=wN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vf(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new CJ(R4());{const d=VJ(e,this._appId,s,o,t,this._firebaseVersion,c);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const _N="@firebase/storage",xN="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="storage";function bee(r,e,t){return r=dr(r),dee(r,e,t)}function wee(r){return r=dr(r),fee(r)}function _ee(r,e){return r=dr(r),yee(r,e)}function xee(r=V_(),e){r=dr(r);const s=lh(r,G4).getImmediate({identifier:e}),o=ID("storage");return o&&Tee(s,...o),s}function Tee(r,e,t,s={}){vee(r,e,t,s)}function Eee(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new X1(t,s,o,e,Kf)}function See(){ll(new Fa(G4,Eee,"PUBLIC").setMultipleInstances(!0)),Ls(_N,xN,""),Ls(_N,xN,"esm2017")}See();function K4({onClose:r,onThemeToggle:e,isDarkMode:t}){const[s,o]=ie.useState("main"),[c,d]=ie.useState(null),[f,p]=ie.useState(!0),[v,x]=ie.useState({fullName:"",phoneNumber:"",bio:""}),[A,C]=ie.useState([]),[U,M]=ie.useState(null),[K,q]=ie.useState(!1),[G,Z]=ie.useState(""),Y=d1(),ae=$Z(),ce=xee(),de="/assets/images/default-avatar.jpg";ie.useEffect(()=>{(async()=>{if(!Y.currentUser){Z("No authenticated user found."),p(!1);return}try{p(!0);const _e=wT(ae,"users",Y.currentUser.uid),D=await gN(_e);if(D.exists()){const X=D.data();console.log("User Data from Firestore:",X),console.log("User Display Name from Auth:",Y.currentUser.displayName),d({name:X.fullName||Y.currentUser.displayName||"User",email:Y.currentUser.email,image:X.profileImage||Y.currentUser.photoURL||de,memberSince:X.memberSince?new Date(X.memberSince.toDate()).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"New Member",plan:X.subscriptionPlan||"Free",streak:X.streak||0,phoneNumber:X.phoneNumber||"",bio:X.bio||"",nextSession:X.nextSession?new Date(X.nextSession.toDate()).toLocaleString("en-US",{weekday:"long",hour:"numeric",minute:"numeric",hour12:!0}):"No upcoming sessions"}),x({fullName:X.fullName||Y.currentUser.displayName||"",phoneNumber:X.phoneNumber||"",bio:X.bio||""})}else{const X={fullName:Y.currentUser.displayName||"",email:Y.currentUser.email,profileImage:Y.currentUser.photoURL||de,memberSince:new Date,subscriptionPlan:"Free",streak:0};await yN(_e,X),d({name:X.fullName||"User",email:X.email,image:X.profileImage,memberSince:"New Member",plan:"Free",streak:0,nextSession:"No upcoming sessions"}),x({fullName:X.fullName||"",phoneNumber:"",bio:""})}R()}catch(_e){console.error("Error fetching user data:",_e),Z(`Error loading profile: ${_e.message}`)}finally{p(!1)}})()},[Y.currentUser,ae]);const R=async()=>{if(Y.currentUser)try{const te=HZ(ae,"notifications"),_e=iJ(te,fN("userId","==",Y.currentUser.uid),fN("read","==",!1)),D=await cJ(_e),X=[];D.forEach(ue=>{X.push({id:ue.id,...ue.data()})}),C(X)}catch(te){console.error("Error fetching notifications:",te)}},j=async()=>{try{await uQ(Y),r()}catch(te){console.error("Error signing out:",te),Z(`Error signing out: ${te.message}`)}},S=te=>{te==="My Profile"||te==="Settings"?o(te.toLowerCase().replace(" ","-")):te==="Notifications"?N():r()},N=async()=>{if(A.length!==0)try{const te=ae.batch();A.forEach(_e=>{const D=wT(ae,"notifications",_e.id);te.update(D,{read:!0})}),await te.commit(),C([])}catch(te){console.error("Error marking notifications as read:",te)}},O=te=>{const{name:_e,value:D}=te.target;x(X=>({...X,[_e]:D}))},z=te=>{te.target.files[0]&&M(te.target.files[0])},I=async()=>{if(Z(""),!Y.currentUser){Z("No authenticated user found. Please sign in again.");return}try{const te=wT(ae,"users",Y.currentUser.uid),_e=await gN(te),X={..._e.exists()?_e.data():{},fullName:v.fullName,phoneNumber:v.phoneNumber,bio:v.bio,lastUpdated:new Date};if(U){q(!0);try{const ue=_ee(ce,`profile-images/${Y.currentUser.uid}`);await bee(ue,U);const oe=await wee(ue);oe&&(X.profileImage=oe)}catch(ue){console.error("Error uploading image:",ue)}finally{q(!1)}}console.log("Updating with data:",X),await yN(te,X,{merge:!0}),d(ue=>({...ue,name:v.fullName,image:X.profileImage||ue.image,phoneNumber:v.phoneNumber,bio:v.bio})),alert("Profile updated successfully!"),o("main")}catch(te){console.error("Error updating profile:",te),Z(`Update failed: ${te.message}`),alert(`Failed to update profile: ${te.message}`)}},dt=()=>{const te=c==null?void 0:c.image;return te&&te!==de?y.jsx("img",{src:te,alt:c==null?void 0:c.name,className:"profile-image"}):y.jsx(pk,{size:64,className:"default-profile-icon"})};if(f)return y.jsx("div",{className:"profile-popup-overlay",children:y.jsx("div",{className:"profile-popup",children:y.jsxs("div",{className:"loading-spinner",children:[y.jsx("div",{className:"spinner"}),y.jsx("p",{children:"Loading your profile..."})]})})});if(G&&!c)return y.jsx("div",{className:"profile-popup-overlay",children:y.jsxs("div",{className:"profile-popup",children:[y.jsx("button",{className:"close-button",onClick:r,children:y.jsx(gk,{size:20})}),y.jsxs("div",{className:"error-message",children:[y.jsx("p",{children:G}),y.jsx("button",{onClick:r,children:"Close"})]})]})});const nt=()=>y.jsxs(y.Fragment,{children:[G&&y.jsx("div",{className:"error-banner",children:G}),y.jsxs("div",{className:"profile-header",children:[y.jsxs("div",{className:"profile-image-container",children:[dt(),A.length>0&&y.jsx("div",{className:"notification-badge",children:A.length})]}),y.jsxs("div",{className:"profile-info",children:[y.jsx("h3",{children:c==null?void 0:c.name}),y.jsx("p",{className:"email",children:c==null?void 0:c.email}),y.jsxs("p",{className:"member-info",children:["Member since ",c==null?void 0:c.memberSince," • ",c==null?void 0:c.plan]})]})]}),y.jsxs("div",{className:"streak-panel",children:[y.jsxs("div",{className:"streak-count",children:[y.jsx("span",{className:"number",children:c==null?void 0:c.streak}),y.jsx("span",{className:"label",children:"Day Streak"})]}),y.jsxs("div",{className:"next-session",children:[y.jsx("span",{className:"label",children:"Next Session"}),y.jsx("span",{className:"session-time",children:c==null?void 0:c.nextSession})]})]}),y.jsx("div",{className:"divider"}),y.jsxs("div",{className:"profile-menu",children:[y.jsxs("div",{className:"menu-item",onClick:()=>S("My Profile"),children:[y.jsx(GW,{size:18}),y.jsx("span",{children:"My Profile"}),y.jsx(Zo,{size:16,className:"chevron"})]}),y.jsxs("div",{className:"menu-item",onClick:()=>S("My Community"),children:[y.jsx(QW,{size:18}),y.jsx("span",{children:"My Community"}),y.jsx(Zo,{size:16,className:"chevron"})]}),y.jsxs("div",{className:"menu-item",onClick:()=>S("My Wellness Journey"),children:[y.jsx(HW,{size:18}),y.jsx("span",{children:"My Wellness Journey"}),y.jsx(Zo,{size:16,className:"chevron"})]}),y.jsxs("div",{className:"menu-item",onClick:()=>S("My Sessions"),children:[y.jsx(NW,{size:18}),y.jsx("span",{children:"My Sessions"}),y.jsx(Zo,{size:16,className:"chevron"})]}),y.jsxs("div",{className:"menu-item",onClick:()=>S("My Reports"),children:[y.jsx(OW,{size:18}),y.jsx("span",{children:"My Reports"}),y.jsx(Zo,{size:16,className:"chevron"})]}),y.jsxs("div",{className:"menu-item",onClick:()=>S("Notifications"),children:[y.jsx(CW,{size:18}),y.jsx("span",{children:"Notifications"}),A.length>0&&y.jsx("div",{className:"menu-notification-badge",children:A.length})]}),y.jsxs("div",{className:"menu-item",onClick:()=>S("Settings"),children:[y.jsx(zW,{size:18}),y.jsx("span",{children:"Settings"}),y.jsx(Zo,{size:16,className:"chevron"})]})]}),y.jsx("div",{className:"divider"}),y.jsx("div",{className:"preference-toggles",children:y.jsxs("div",{className:"toggle-item",onClick:e,children:[y.jsx(UW,{size:18}),y.jsx("span",{children:"Dark Mode"}),y.jsxs("div",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",id:"theme-toggle",className:"toggle-input",checked:t,onChange:e}),y.jsx("label",{htmlFor:"theme-toggle",className:"toggle-label"})]})]})}),y.jsx("div",{className:"divider"}),y.jsxs("div",{className:"footer-menu",children:[y.jsxs("div",{className:"menu-item",onClick:()=>S("Privacy Policy"),children:[y.jsx(BW,{size:18}),y.jsx("span",{children:"Privacy Policy"})]}),y.jsxs("div",{className:"menu-item logout",onClick:j,children:[y.jsx(MW,{size:18}),y.jsx("span",{children:"Logout"})]})]})]}),se=()=>y.jsxs(y.Fragment,{children:[G&&y.jsx("div",{className:"error-banner",children:G}),y.jsxs("div",{className:"section-header",children:[y.jsx("button",{className:"back-button",onClick:()=>o("main"),children:y.jsx(Zo,{size:18,className:"back-icon"})}),y.jsx("h3",{children:"My Profile"})]}),y.jsxs("div",{className:"profile-edit-form",children:[y.jsxs("div",{className:"profile-image-editor",children:[c!=null&&c.image&&c.image!==de?y.jsx("img",{src:c.image,alt:c==null?void 0:c.name,className:"profile-image large"}):y.jsx(pk,{size:120,className:"default-profile-icon large"}),y.jsx("input",{type:"file",id:"profile-image-upload",accept:"image/*",className:"file-input",onChange:z,style:{display:"none"}}),y.jsx("label",{htmlFor:"profile-image-upload",className:"edit-image-button",children:K?"Uploading...":"Change Photo"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Full Name"}),y.jsx("input",{type:"text",name:"fullName",value:v.fullName,onChange:O,className:"form-input"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Email"}),y.jsx("input",{type:"email",value:c==null?void 0:c.email,className:"form-input",disabled:!0}),y.jsx("p",{className:"form-helper",children:"Email cannot be changed"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Phone Number"}),y.jsx("input",{type:"tel",name:"phoneNumber",value:v.phoneNumber,onChange:O,placeholder:"Add phone number",className:"form-input"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Bio"}),y.jsx("textarea",{name:"bio",value:v.bio,onChange:O,placeholder:"Tell us about yourself",className:"form-textarea",rows:4})]}),y.jsx("button",{className:"save-button",onClick:I,children:K?"Uploading...":"Save Changes"})]})]}),be=()=>y.jsxs(y.Fragment,{children:[G&&y.jsx("div",{className:"error-banner",children:G}),y.jsxs("div",{className:"section-header",children:[y.jsx("button",{className:"back-button",onClick:()=>o("main"),children:y.jsx(Zo,{size:18,className:"back-icon"})}),y.jsx("h3",{children:"Settings"})]}),y.jsxs("div",{className:"settings-list",children:[y.jsx("h4",{children:"Account Settings"}),y.jsxs("div",{className:"settings-group",children:[y.jsxs("div",{className:"settings-item",children:[y.jsx("span",{children:"Subscription Plan"}),y.jsx("span",{className:"settings-value",children:c==null?void 0:c.plan}),y.jsx(Zo,{size:16,className:"chevron"})]}),y.jsxs("div",{className:"settings-item",children:[y.jsx("span",{children:"Change Password"}),y.jsx(Zo,{size:16,className:"chevron"})]}),y.jsxs("div",{className:"settings-item",children:[y.jsx("span",{children:"Billing Information"}),y.jsx(Zo,{size:16,className:"chevron"})]})]}),y.jsx("h4",{children:"Notifications"}),y.jsxs("div",{className:"settings-group",children:[y.jsxs("div",{className:"toggle-item",children:[y.jsx("span",{children:"Push Notifications"}),y.jsxs("div",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",id:"push-toggle",className:"toggle-input",defaultChecked:!0}),y.jsx("label",{htmlFor:"push-toggle",className:"toggle-label"})]})]}),y.jsxs("div",{className:"toggle-item",children:[y.jsx("span",{children:"Email Notifications"}),y.jsxs("div",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",id:"email-toggle",className:"toggle-input",defaultChecked:!0}),y.jsx("label",{htmlFor:"email-toggle",className:"toggle-label"})]})]}),y.jsxs("div",{className:"toggle-item",children:[y.jsx("span",{children:"Session Reminders"}),y.jsxs("div",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",id:"reminder-toggle",className:"toggle-input",defaultChecked:!0}),y.jsx("label",{htmlFor:"reminder-toggle",className:"toggle-label"})]})]})]}),y.jsx("h4",{children:"Privacy"}),y.jsxs("div",{className:"settings-group",children:[y.jsxs("div",{className:"toggle-item",children:[y.jsx("span",{children:"Show Online Status"}),y.jsxs("div",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",id:"online-toggle",className:"toggle-input"}),y.jsx("label",{htmlFor:"online-toggle",className:"toggle-label"})]})]}),y.jsxs("div",{className:"toggle-item",children:[y.jsx("span",{children:"Share Activity with Community"}),y.jsxs("div",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",id:"activity-toggle",className:"toggle-input"}),y.jsx("label",{htmlFor:"activity-toggle",className:"toggle-label"})]})]})]})]})]});return y.jsx("div",{className:"profile-popup-overlay",onClick:r,children:y.jsxs("div",{className:"profile-popup",onClick:te=>te.stopPropagation(),children:[y.jsx("button",{className:"close-button",onClick:r,children:y.jsx(gk,{size:20})}),s==="main"&&nt(),s==="my-profile"&&se(),s==="settings"&&be()]})})}function Wm(){const[r,e]=ie.useState(!1),t=()=>{e(!r)};return y.jsxs("header",{className:"header",children:[y.jsx("div",{className:"logo",children:"MindEase"}),y.jsx("nav",{className:"nav",children:y.jsxs("ul",{children:[y.jsx("li",{children:y.jsx(In,{to:"/",children:"Home"})}),y.jsx("li",{children:y.jsx(In,{to:"/about",children:"About"})}),y.jsx("li",{children:y.jsx(In,{to:"/screening",children:"Screening"})}),y.jsx("li",{children:y.jsx(In,{to:"/resources",children:"Resources"})}),y.jsx("li",{children:y.jsx(In,{to:"/community",children:"Community"})}),y.jsx("li",{children:y.jsx(In,{to:"/contact",children:"Contact"})})]})}),y.jsx("div",{className:"profile-icon",onClick:t,style:{cursor:"pointer"},children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"40",height:"40",fill:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"8",r:"4"}),y.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]})}),r&&y.jsx(K4,{onClose:t})]})}var Q4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},TN=xf.createContext&&xf.createContext(Q4),Aee=["attr","size","title"];function jee(r,e){if(r==null)return{};var t=Cee(r,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function Cee(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function o_(){return o_=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},o_.apply(this,arguments)}function EN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function l_(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(t),!0).forEach(function(s){kee(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):EN(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function kee(r,e,t){return e=Nee(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Nee(r){var e=Iee(r,"string");return typeof e=="symbol"?e:e+""}function Iee(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function W4(r){return r&&r.map((e,t)=>xf.createElement(e.tag,l_({key:t},e.attr),W4(e.child)))}function a0(r){return e=>xf.createElement(Ree,o_({attr:l_({},r.attr)},e),W4(r.child))}function Ree(r){var e=t=>{var{attr:s,size:o,title:c}=r,d=jee(r,Aee),f=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),xf.createElement("svg",o_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:p,style:l_(l_({color:r.color||t.color},t.style),r.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),c&&xf.createElement("title",null,c),r.children)};return TN!==void 0?xf.createElement(TN.Consumer,null,t=>e(t)):e(Q4)}function Dee(r){return a0({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}function Oee(r){return a0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function Pee(r){return a0({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(r)}function Mee(r){return a0({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(r)}function Ym(){return y.jsxs("footer",{className:"footer",children:[y.jsxs("div",{className:"footer-content",children:[y.jsxs("div",{className:"footer-section",children:[y.jsx("h3",{className:"footer-heading",children:"Quick Links"}),y.jsxs("ul",{className:"footer-links",children:[y.jsx("li",{children:y.jsx(In,{to:"/privacy",children:"Privacy Policy"})}),y.jsx("li",{children:y.jsx(In,{to:"/terms",children:"Terms of Service"})}),y.jsx("li",{children:y.jsx(In,{to:"/contact",children:"Contact Us"})})]})]}),y.jsxs("div",{className:"footer-section",children:[y.jsx("h3",{className:"footer-heading",children:"Follow Us"}),y.jsxs("div",{className:"social-media",children:[y.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:y.jsx(Dee,{className:"icon"})}),y.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:y.jsx(Pee,{className:"icon"})}),y.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:y.jsx(Oee,{className:"icon"})})]})]}),y.jsxs("div",{className:"footer-section",children:[y.jsx("h3",{className:"footer-heading",children:"Newsletter"}),y.jsx("p",{className:"newsletter-description",children:"Stay updated with the latest news and updates."}),y.jsxs("div",{className:"newsletter-input",children:[y.jsx(Mee,{className:"newsletter-icon"}),y.jsx("input",{type:"email",placeholder:"Enter your email"}),y.jsx("button",{className:"newsletter-button",children:"Subscribe"})]})]})]}),y.jsx("div",{className:"footer-bottom",children:y.jsx("p",{children:"© 2023 MindEase. All rights reserved."})})]})}function Lee(){return y.jsxs("div",{className:"App",children:[y.jsx(Wm,{}),y.jsx("section",{className:"hero",style:{backgroundImage:"url('/assets/images/calming2.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:y.jsxs("div",{className:"hero-content",children:[y.jsx("h1",{children:"Welcome to MindEase"}),y.jsx("p",{children:"Your safe space for understanding and managing mental health."}),y.jsxs("div",{className:"cta-buttons",children:[y.jsx(In,{to:"/screening",children:y.jsx("button",{className:"primary-cta",children:"Take a Screening Test"})}),y.jsx(In,{to:"/community",children:y.jsx("button",{className:"secondary-cta",children:"Join the Community"})})]})]})}),y.jsxs("section",{className:"features",children:[y.jsx("h2",{children:"How We Can Help"}),y.jsxs("div",{className:"feature-cards",children:[y.jsxs("div",{className:"card",children:[y.jsx("div",{className:"card-icon",children:"🧠"}),y.jsx("h3",{children:"Screening Tools"}),y.jsx("p",{children:"Accessible, scientifically-validated assessments."})]}),y.jsxs("div",{className:"card",children:[y.jsx("div",{className:"card-icon",children:"🤝"}),y.jsx("h3",{children:"Personalized Resources"}),y.jsx("p",{children:"Connect with specialists tailored to your needs."})]}),y.jsxs("div",{className:"card",children:[y.jsx("div",{className:"card-icon",children:"💬"}),y.jsx("h3",{children:"Community Support"}),y.jsx("p",{children:"Join moderated peer support groups."})]}),y.jsxs("div",{className:"card",children:[y.jsx("div",{className:"card-icon",children:"📊"}),y.jsx("h3",{children:"Progress Tracking"}),y.jsx("p",{children:"Monitor your mental health journey."})]})]})]}),y.jsxs("section",{className:"about",children:[y.jsxs("div",{className:"about-content",children:[y.jsx("h2",{children:"About MindEase"}),y.jsx("p",{children:"We are dedicated to providing comprehensive support for mental health conditions. Our platform combines cutting-edge technology with compassionate care to help you thrive."}),y.jsx(In,{to:"/about",className:"about-link",children:"Learn More →"})]}),y.jsx("div",{className:"about-image",children:y.jsx("img",{src:"https://via.placeholder.com/400",alt:"About illustration"})})]}),y.jsxs("section",{className:"disorders",children:[y.jsx("h2",{children:"Explore Mental Health Conditions"}),y.jsxs("div",{className:"disorder-grid",children:[y.jsxs(In,{to:"/ocd",className:"disorder-card",children:[y.jsx("h3",{children:"OCD"}),y.jsx("p",{children:"Obsessive-Compulsive Disorder"})]}),y.jsxs(In,{to:"/adhd",className:"disorder-card",children:[y.jsx("h3",{children:"ADHD"}),y.jsx("p",{children:"Attention-Deficit/Hyperactivity Disorder"})]}),y.jsxs(In,{to:"/depression",className:"disorder-card",children:[y.jsx("h3",{children:"Depression"}),y.jsx("p",{children:"Major Depressive Disorder"})]}),y.jsxs(In,{to:"/anxiety",className:"disorder-card",children:[y.jsx("h3",{children:"Anxiety"}),y.jsx("p",{children:"Generalized Anxiety Disorder"})]}),y.jsxs(In,{to:"/bipolar",className:"disorder-card",children:[y.jsx("h3",{children:"Bipolar Disorder"}),y.jsx("p",{children:"Bipolar I and II Disorders"})]}),y.jsxs(In,{to:"/ptsd",className:"disorder-card",children:[y.jsx("h3",{children:"PTSD"}),y.jsx("p",{children:"Post-Traumatic Stress Disorder"})]})]})]}),y.jsxs("section",{className:"testimonials",children:[y.jsx("h2",{children:"What Our Users Say"}),y.jsxs("div",{className:"testimonial-cards",children:[y.jsxs("div",{className:"testimonial",children:[y.jsx("p",{children:'"MindEase helped me understand my condition and find the right support. I feel less alone now."'}),y.jsx("p",{children:"- Sarah, 28"})]}),y.jsxs("div",{className:"testimonial",children:[y.jsx("p",{children:'"The community here is amazing. I finally feel heard and supported."'}),y.jsx("p",{children:"- John, 34"})]})]})]}),y.jsx(Ym,{})]})}const SN=({initialMode:r="login"})=>{const[e,t]=ie.useState(r==="login"),[s,o]=ie.useState(!1),[c,d]=ie.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",agreeToTerms:!1,securityQuestion:"",securityAnswer:""}),[f,p]=ie.useState({}),[v,x]=ie.useState(!1),A=d1(),C=ie.useRef(null),U=ie.useRef(null),M=ie.useRef(null),K=kl(),q=Cl();ie.useEffect(()=>{t(r==="login"),C.current&&C.current.focus();const R=j=>{if(M.current){const S=j.clientX/window.innerWidth,N=j.clientY/window.innerHeight;M.current.style.setProperty("--mouse-x",S),M.current.style.setProperty("--mouse-y",N)}};return document.addEventListener("mousemove",R),()=>{document.removeEventListener("mousemove",R)}},[r]);const G=()=>{const R={};return c.email?/\S+@\S+\.\S+/.test(c.email)||(R.email="Email is invalid"):R.email="Email is required",c.password?c.password.length<8&&(R.password="Password must be at least 8 characters"):R.password="Password is required",e||(c.password!==c.confirmPassword&&(R.confirmPassword="Passwords do not match"),c.firstName||(R.firstName="First name is required"),c.lastName||(R.lastName="Last name is required"),c.agreeToTerms||(R.agreeToTerms="You must agree to the terms and conditions"),c.securityQuestion||(R.securityQuestion="Please select a security question"),c.securityAnswer||(R.securityAnswer="Security answer is required")),p(R),Object.keys(R).length===0},Z=R=>{const{name:j,value:S,type:N,checked:O}=R.target;d({...c,[j]:N==="checkbox"?O:S}),f[j]&&p({...f,[j]:null})},Y=async R=>{var j,S;if(R.preventDefault(),!!G()){x(!0);try{if(e){console.log("Attempting sign-in..."),await oQ(A,c.email,c.password),console.log("Sign-in successful");const N=((S=(j=q.state)==null?void 0:j.from)==null?void 0:S.pathname)||"/home";K(N)}else await aQ(A,c.email,c.password),o(!0)}catch(N){console.error("Sign-in error:",N),p({general:N.message})}finally{x(!1)}}},ae=async()=>{var j,S;x(!0);const R=new Jc;try{await NQ(A,R);const N=((S=(j=q.state)==null?void 0:j.from)==null?void 0:S.pathname)||"/home";K(N)}catch(N){p({general:N.message})}finally{x(!1)}},ce=()=>{o(!1),K(e?"/register":"/")},de=()=>{const R=c.password;if(!R)return 0;let j=0;return R.length>=8&&(j+=1),/[A-Z]/.test(R)&&(j+=1),/[a-z]/.test(R)&&(j+=1),/[0-9]/.test(R)&&(j+=1),/[^A-Za-z0-9]/.test(R)&&(j+=1),j};return y.jsxs("div",{className:"auth-container",ref:M,children:[y.jsxs("div",{className:"auth-background",children:[y.jsx("div",{className:"gradient-orb orb1"}),y.jsx("div",{className:"gradient-orb orb2"}),y.jsx("div",{className:"gradient-orb orb3"}),y.jsx("div",{className:"network-grid"})]}),y.jsxs("div",{className:"auth-card fade-in",children:[y.jsxs("div",{className:"auth-header",children:[y.jsxs("div",{className:"logo",children:[y.jsx("span",{className:"logo-icon"}),y.jsx("h1",{children:"MindfulPath"})]}),y.jsx("h2",{children:e?"Welcome Back":"Create Your Account"}),y.jsx("p",{className:"subtitle",children:e?"Your journey to better mental health continues here":"Join our community for personalized mental health support"})]}),f.general&&y.jsx("div",{className:"auth-message error",children:f.general}),!e&&s?y.jsxs("div",{className:"registration-success",style:{textAlign:"center",padding:"20px"},children:[y.jsx("p",{style:{marginBottom:"20px"},children:"Registration Successful!"}),y.jsx("button",{type:"button",className:"submit-button",onClick:()=>K("/"),children:"Back to Login"})]}):y.jsxs("div",{className:"auth-form-container",style:{maxHeight:"70vh",overflowY:"auto"},children:[y.jsxs("form",{onSubmit:Y,className:"auth-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:"Email"}),y.jsxs("div",{className:"input-container",children:[y.jsx("input",{type:"email",id:"email",name:"email",ref:C,value:c.email,onChange:Z,className:f.email?"error":"",placeholder:"your.email@example.com"}),y.jsx("span",{className:"input-icon email-icon"})]}),f.email&&y.jsx("span",{className:"error-message",children:f.email})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsxs("div",{className:"input-container",children:[y.jsx("input",{type:"password",id:"password",name:"password",ref:U,value:c.password,onChange:Z,className:f.password?"error":"",placeholder:"••••••••"}),y.jsx("span",{className:"input-icon password-icon"})]}),f.password&&y.jsx("span",{className:"error-message",children:f.password}),!e&&c.password&&y.jsxs("div",{className:"password-strength",children:[y.jsx("div",{className:"strength-meter",children:[...Array(5)].map((R,j)=>y.jsx("div",{className:`strength-segment ${j<de()?"active":""}`,"data-strength":j+1},j))}),y.jsxs("span",{className:"strength-text",children:[de()===0&&"Very Weak",de()===1&&"Weak",de()===2&&"Fair",de()===3&&"Good",de()===4&&"Strong",de()===5&&"Very Strong"]})]})]}),!e&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),y.jsxs("div",{className:"input-container",children:[y.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:Z,className:f.confirmPassword?"error":"",placeholder:"••••••••"}),y.jsx("span",{className:"input-icon password-confirm-icon"})]}),f.confirmPassword&&y.jsx("span",{className:"error-message",children:f.confirmPassword})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group half",children:[y.jsx("label",{htmlFor:"firstName",children:"First Name"}),y.jsx("div",{className:"input-container",children:y.jsx("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:Z,className:f.firstName?"error":"",placeholder:"John"})}),f.firstName&&y.jsx("span",{className:"error-message",children:f.firstName})]}),y.jsxs("div",{className:"form-group half",children:[y.jsx("label",{htmlFor:"lastName",children:"Last Name"}),y.jsx("div",{className:"input-container",children:y.jsx("input",{type:"text",id:"lastName",name:"lastName",value:c.lastName,onChange:Z,className:f.lastName?"error":"",placeholder:"Doe"})}),f.lastName&&y.jsx("span",{className:"error-message",children:f.lastName})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"securityQuestion",children:"Security Question"}),y.jsxs("div",{className:"input-container",children:[y.jsxs("select",{id:"securityQuestion",name:"securityQuestion",value:c.securityQuestion,onChange:Z,className:f.securityQuestion?"error":"",children:[y.jsx("option",{value:"",children:"Select a security question"}),y.jsx("option",{value:"firstPet",children:"What was the name of your first pet?"}),y.jsx("option",{value:"mothersMaiden",children:"What is your mother's maiden name?"}),y.jsx("option",{value:"birthCity",children:"In what city were you born?"}),y.jsx("option",{value:"elementarySchool",children:"What elementary school did you attend?"}),y.jsx("option",{value:"firstCar",children:"What was the make of your first car?"})]}),y.jsx("span",{className:"input-icon security-icon"})]}),f.securityQuestion&&y.jsx("span",{className:"error-message",children:f.securityQuestion})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"securityAnswer",children:"Security Answer"}),y.jsx("div",{className:"input-container",children:y.jsx("input",{type:"text",id:"securityAnswer",name:"securityAnswer",value:c.securityAnswer,onChange:Z,className:f.securityAnswer?"error":"",placeholder:"Your answer"})}),f.securityAnswer&&y.jsx("span",{className:"error-message",children:f.securityAnswer})]}),y.jsxs("div",{className:"form-group checkbox-group",children:[y.jsxs("label",{className:"checkbox-container",children:[y.jsx("input",{type:"checkbox",name:"agreeToTerms",checked:c.agreeToTerms,onChange:Z}),y.jsx("span",{className:"checkmark"}),y.jsxs("span",{className:"checkbox-label",children:["I agree to the ",y.jsx("a",{href:"#terms",className:"text-link",children:"Terms of Service"})," and ",y.jsx("a",{href:"#privacy",className:"text-link",children:"Privacy Policy"})]})]}),f.agreeToTerms&&y.jsx("span",{className:"error-message",children:f.agreeToTerms})]})]}),e&&y.jsx("div",{className:"forgot-password",children:y.jsx("a",{href:"#reset",className:"text-link",children:"Forgot your password?"})}),y.jsx("button",{type:"submit",className:`submit-button ${v?"loading":""}`,disabled:v,children:v?y.jsx("span",{className:"loader"}):e?"Sign In":"Create Account"})]}),y.jsx("button",{type:"button",className:"submit-button google-button",onClick:ae,disabled:v,style:{marginTop:"15px",background:"linear-gradient(45deg, var(--primary-color), var(--secondary-color))"},children:"Continue with Google"})]}),y.jsx("div",{className:"auth-footer",children:y.jsxs("p",{children:[e?"Don't have an account?":"Already have an account?",y.jsx("button",{type:"button",onClick:ce,className:"mode-switch",children:e?"Sign Up":"Sign In"})]})}),y.jsx("div",{className:"neural-decoration top-right"}),y.jsx("div",{className:"neural-decoration bottom-left"})]})]})},Uee=()=>(ie.useEffect(()=>{AN(()=>import("./AccessibilityScripts-C7d4pvkK.js"),[]).then(r=>{r.default()})},[]),y.jsx("div",{children:y.jsx("h1",{children:"Accessibility Features"})}));function Qr({children:r}){const[e,t]=ie.useState(!0),[s,o]=ie.useState(!1),c=Cl();return ie.useEffect(()=>{const d=PO(QO,f=>{o(!!f),t(!1)});return()=>d()},[]),e?y.jsx("div",{children:"Loading..."}):s?r:y.jsx(_D,{to:"/login",state:{from:c},replace:!0})}function Vee(){return y.jsxs("div",{className:"about",children:[y.jsx(Wm,{}),y.jsxs("section",{className:"section",children:[y.jsx("h2",{children:"About MindEase"}),y.jsx("div",{className:"content-container",children:y.jsx("p",{className:"main-description",children:"MindEase is a digital platform designed to provide comprehensive support for individuals dealing with mental health conditions. Our mission is to make mental health care accessible, personalized, and stigma-free."})})]}),y.jsxs("section",{className:"section",children:[y.jsx("h2",{children:"Our Services"}),y.jsxs("div",{className:"content-container",children:[y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"Personalized Assessments"}),y.jsx("p",{children:"Take our evidence-based screening tools to receive insights tailored to your unique mental health profile."})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"Resource Library"}),y.jsx("p",{children:"Access our extensive collection of articles, videos, and exercises created by mental health professionals."})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"Guided Programs"}),y.jsx("p",{children:"Follow structured, self-paced programs designed to help you develop coping skills for anxiety, depression, and stress."})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"Progress Tracking"}),y.jsx("p",{children:"Monitor your mental wellbeing over time with our intuitive tracking tools that help identify patterns and improvements."})]})]})]}),y.jsxs("section",{className:"section",children:[y.jsx("h2",{children:"Our Team"}),y.jsxs("div",{className:"content-container",children:[y.jsxs("div",{className:"card team-card",children:[y.jsx("img",{src:"/assets/images/person1.jpeg",alt:"Dr. Jane Mwangi"}),y.jsx("h3",{children:"Dr. Jane Mwangi"}),y.jsx("p",{children:"Clinical Psychologist & Founder"})]}),y.jsxs("div",{className:"card team-card",children:[y.jsx("img",{src:"/assets/images/person2.jpeg",alt:"Aaron Omondi"}),y.jsx("h3",{children:"Aaron Omondi"}),y.jsx("p",{children:"Chief Technology Officer"})]}),y.jsxs("div",{className:"card team-card",children:[y.jsx("img",{src:"/assets/images/person3.jpeg",alt:"Lilian Mueni"}),y.jsx("h3",{children:"Lilian Mueni"}),y.jsx("p",{children:"Head of Research"})]})]})]}),y.jsxs("section",{className:"section",children:[y.jsx("h2",{children:"Our Approach"}),y.jsx("div",{className:"content-container",children:y.jsxs("div",{className:"approach-content",children:[y.jsx("p",{children:"At MindEase, we combine cutting-edge technology with evidence-based psychological practices. Our platform uses advanced algorithms to provide recommendations specifically tailored to your needs, preferences, and progress."}),y.jsx("p",{children:"All content on MindEase is developed and reviewed by licensed mental health professionals to ensure accuracy and effectiveness. We regularly update our resources to reflect the latest research in psychology and mental health care."}),y.jsx("a",{href:"/screening",className:"cta-button",children:"Get Started Today"})]})})]}),y.jsx(Ym,{})]})}function zee(){const r=kl(),e=t=>{switch(t){case"OCD Screening":r("/ocd-screening");break;case"ADHD Screening":r("/adhd-screening");break;case"Anxiety Screening":r("/anxiety-screening");break;case"Depression Screening":r("/depression-screening");break;case"Bipolar Disorder Screening":r("/bipolar-screening");break;case"PTSD Screening":r("/ptsd-screening");break;default:alert(`Starting ${t}...`)}};return y.jsxs("div",{className:"screening",children:[y.jsx(Wm,{}),y.jsxs("section",{className:"screening-intro",children:[y.jsx("h1",{children:"Screening Tools"}),y.jsx("p",{children:"Take a scientifically-validated assessment to better understand your mental health. Our tools are designed to help you identify potential conditions and connect you with the right resources. Early detection and understanding of mental health conditions can lead to more effective treatment and improved quality of life. Whether you're experiencing symptoms or simply want to learn more about your mental well-being, these assessments are a great first step toward gaining clarity and finding support."})]}),y.jsxs("section",{className:"screening-tests",children:[y.jsx("h2",{children:"Available Tests"}),y.jsxs("div",{className:"test-cards",children:[y.jsxs("div",{className:"test-card",children:[y.jsx("h3",{children:"OCD Screening"}),y.jsx("p",{children:"A quick assessment for Obsessive-Compulsive Disorder, designed to help you understand if you may be experiencing symptoms of OCD."}),y.jsx("button",{onClick:()=>e("OCD Screening"),children:"Start Test"})]}),y.jsxs("div",{className:"test-card",children:[y.jsx("h3",{children:"ADHD Screening"}),y.jsx("p",{children:"Evaluate symptoms of Attention-Deficit/Hyperactivity Disorder and determine if you may benefit from further evaluation."}),y.jsx("button",{onClick:()=>e("ADHD Screening"),children:"Start Test"})]}),y.jsxs("div",{className:"test-card",children:[y.jsx("h3",{children:"Anxiety Screening"}),y.jsx("p",{children:"Assess symptoms of Generalized Anxiety Disorder and gain insight into your anxiety levels."}),y.jsx("button",{onClick:()=>e("Anxiety Screening"),children:"Start Test"})]}),y.jsxs("div",{className:"test-card",children:[y.jsx("h3",{children:"Depression Screening"}),y.jsx("p",{children:"Identify symptoms of depression and determine if you may need professional support or treatment."}),y.jsx("button",{onClick:()=>e("Depression Screening"),children:"Start Test"})]}),y.jsxs("div",{className:"test-card",children:[y.jsx("h3",{children:"Bipolar Disorder Screening"}),y.jsx("p",{children:"Evaluate symptoms of Bipolar Disorder, including mood swings, energy levels, and behavior changes."}),y.jsx("button",{onClick:()=>e("Bipolar Disorder Screening"),children:"Start Test"})]}),y.jsxs("div",{className:"test-card",children:[y.jsx("h3",{children:"PTSD Screening"}),y.jsx("p",{children:"Assess symptoms of Post-Traumatic Stress Disorder and determine if you may need further evaluation or support."}),y.jsx("button",{onClick:()=>e("PTSD Screening"),children:"Start Test"})]})]})]}),y.jsx(Ym,{})]})}function Fee(){return y.jsxs("div",{className:"resources",children:[y.jsx(Wm,{}),y.jsxs("section",{className:"resources-intro",children:[y.jsx("h1",{children:"Resources"}),y.jsx("p",{children:"Explore a wide range of resources tailored to your mental health needs. From articles to therapy options, we’ve got you covered."})]}),y.jsxs("section",{className:"resource-categories",children:[y.jsx("h2",{children:"Categories"}),y.jsxs("div",{className:"category-cards",children:[y.jsxs("div",{className:"category-card",children:[y.jsx("h3",{children:"Articles"}),y.jsx("p",{children:"Read evidence-based articles on mental health."})]}),y.jsxs("div",{className:"category-card",children:[y.jsx("h3",{children:"Therapy Options"}),y.jsx("p",{children:"Find the right therapy for your needs."})]}),y.jsxs("div",{className:"category-card",children:[y.jsx("h3",{children:"Self-Help Tools"}),y.jsx("p",{children:"Access tools to manage your mental health."})]})]})]}),y.jsx(Ym,{})]})}function Bee(){return y.jsxs("div",{className:"community",children:[y.jsx(Wm,{}),y.jsxs("section",{className:"community-intro",children:[y.jsx("h1",{children:"Community Support"}),y.jsx("p",{children:"Join our moderated peer support groups to connect with others who understand what you’re going through. Share experiences, ask questions, and find support."})]}),y.jsxs("section",{className:"community-groups",children:[y.jsx("h2",{children:"Featured Groups"}),y.jsxs("div",{className:"group-cards",children:[y.jsxs("div",{className:"group-card",children:[y.jsx("h3",{children:"OCD Support Group"}),y.jsx("p",{children:"A safe space for individuals with OCD."}),y.jsx("button",{children:"Join Group"})]}),y.jsxs("div",{className:"group-card",children:[y.jsx("h3",{children:"ADHD Support Group"}),y.jsx("p",{children:"Connect with others managing ADHD."}),y.jsx("button",{children:"Join Group"})]}),y.jsxs("div",{className:"group-card",children:[y.jsx("h3",{children:"Anxiety Support Group"}),y.jsx("p",{children:"Share and learn coping strategies."}),y.jsx("button",{children:"Join Group"})]}),y.jsxs("div",{className:"group-card",children:[y.jsx("h3",{children:"Depression Support Group"}),y.jsx("p",{children:"Find support and understanding for depression."}),y.jsx("button",{children:"Join Group"})]}),y.jsxs("div",{className:"group-card",children:[y.jsx("h3",{children:"Bipolar Support Group"}),y.jsx("p",{children:"Connect with others managing bipolar disorder."}),y.jsx("button",{children:"Join Group"})]}),y.jsxs("div",{className:"group-card",children:[y.jsx("h3",{children:"PTSD Support Group"}),y.jsx("p",{children:"A safe space for individuals dealing with PTSD."}),y.jsx("button",{children:"Join Group"})]})]})]}),y.jsx(Ym,{})]})}function qee(){const[r,e]=ie.useState({name:"",email:"",subject:"",message:""}),[t,s]=ie.useState({submitted:!1,error:!1,message:""}),o=f=>{const{name:p,value:v}=f.target;e(x=>({...x,[p]:v}))},c=f=>{if(f.preventDefault(),!r.name||!r.email||!r.message){s({submitted:!1,error:!0,message:"Please fill in all required fields"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)){s({submitted:!1,error:!0,message:"Please enter a valid email address"});return}s({submitted:!0,error:!1,message:"Thank you for your message! We will get back to you soon."}),e({name:"",email:"",subject:"",message:""})},d=[{name:"Instagram",icon:"fa-instagram",url:"https://www.instagram.com/yourcompany",color:"#E1306C"},{name:"WhatsApp",icon:"fa-whatsapp",url:"https://wa.me/yourphonenumber",color:"#25D366"},{name:"X",icon:"fa-twitter",url:"https://x.com/yourcompany",color:"#000000"},{name:"Facebook",icon:"fa-facebook-f",url:"https://www.facebook.com/yourcompany",color:"#1877F2"},{name:"LinkedIn",icon:"fa-linkedin-in",url:"https://www.linkedin.com/company/yourcompany",color:"#0A66C2"},{name:"Telegram",icon:"fa-telegram-plane",url:"https://t.me/yourcompany",color:"#0088cc"}];return y.jsxs("div",{className:"contact",children:[y.jsx(Wm,{}),y.jsxs("section",{className:"contact-intro",children:[y.jsx("h1",{children:"Contact Us"}),y.jsx("p",{children:"Have questions or need support? Reach out to us! We're here to help you with any inquiries or feedback."})]}),y.jsxs("div",{className:"contact-container",children:[y.jsxs("section",{className:"contact-form",children:[y.jsx("h2",{children:"Send Us a Message"}),t.submitted?y.jsxs("div",{className:"form-success",children:[y.jsx("p",{children:t.message}),y.jsx("button",{onClick:()=>s({submitted:!1,error:!1,message:""}),children:"Send another message"})]}):y.jsxs("form",{onSubmit:c,children:[t.error&&y.jsx("div",{className:"form-error",children:t.message}),y.jsx("div",{className:"form-group",children:y.jsx("input",{type:"text",name:"name",placeholder:"Your Name *",value:r.name,onChange:o,required:!0})}),y.jsx("div",{className:"form-group",children:y.jsx("input",{type:"email",name:"email",placeholder:"Your Email *",value:r.email,onChange:o,required:!0})}),y.jsx("div",{className:"form-group",children:y.jsx("input",{type:"text",name:"subject",placeholder:"Subject",value:r.subject,onChange:o})}),y.jsx("div",{className:"form-group",children:y.jsx("textarea",{name:"message",placeholder:"Your Message *",value:r.message,onChange:o,required:!0})}),y.jsx("button",{type:"submit",children:"Send Message"})]})]}),y.jsxs("section",{className:"contact-info",children:[y.jsx("h2",{children:"Get in Touch"}),y.jsxs("div",{className:"info-item",children:[y.jsx("i",{className:"fas fa-map-marker-alt"}),y.jsxs("div",{children:[y.jsx("h3",{children:"Our Address"}),y.jsx("p",{children:"123 Business Avenue, Suite 100, Nairobi, Kenya"})]})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("i",{className:"fas fa-phone-alt"}),y.jsxs("div",{children:[y.jsx("h3",{children:"Phone Number"}),y.jsx("p",{children:"+254794846559"})]})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("i",{className:"fas fa-envelope"}),y.jsxs("div",{children:[y.jsx("h3",{children:"Email Address"}),y.jsx("p",{children:"eunicenzilani881@.com"})]})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("i",{className:"fas fa-clock"}),y.jsxs("div",{children:[y.jsx("h3",{children:"Business Hours"}),y.jsx("p",{children:"Monday - Friday: 9am - 5pm"})]})]})]})]}),y.jsxs("section",{className:"social-links",children:[y.jsx("h2",{children:"Connect With Us"}),y.jsx("p",{children:"Follow us on social media to stay updated with our latest news and announcements."}),y.jsx("div",{className:"social-icons",children:d.map((f,p)=>y.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"social-icon","aria-label":f.name,children:y.jsx("i",{className:`fab ${f.icon}`})},p))})]}),y.jsx(Ym,{})]})}const Hee=()=>y.jsxs("div",{className:"ocd-page",children:[y.jsxs("header",{className:"ocd-header",children:[y.jsx("div",{className:"logo",children:"OCD"})," ",y.jsx("nav",{className:"ocd-navbar",children:y.jsxs("ul",{className:"ocd-nav-links",children:[y.jsx("li",{children:y.jsxs("a",{href:"/",children:[y.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),y.jsx("li",{children:y.jsxs("a",{href:"/about-ocd",children:[y.jsx("span",{role:"img","aria-label":"About OCD",children:"🧠"})," About OCD"]})}),y.jsx("li",{children:y.jsxs("a",{href:"/screening",children:[y.jsx("span",{role:"img","aria-label":"Screening Tools",children:"📋"})," Screening Tools"]})}),y.jsx("li",{children:y.jsxs("a",{href:"/resources",children:[y.jsx("span",{role:"img","aria-label":"Resources",children:"📚"})," Resources"]})}),y.jsx("li",{children:y.jsxs("a",{href:"/community",children:[y.jsx("span",{role:"img","aria-label":"Community",children:"👥"})," Community"]})})]})}),y.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),y.jsx("h1",{children:"Obsessive-Compulsive Disorder (OCD)"}),y.jsx("div",{className:"ocd-image-container",children:y.jsx("img",{src:"/assets/images/OCD1.png",alt:"OCD Illustration",className:"ocd-image"})}),y.jsx("h2",{children:"Overview"}),y.jsx("p",{children:"Obsessive-compulsive disorder (OCD) features a pattern of unwanted thoughts and fears known as obsessions. These obsessions lead you to do repetitive behaviors, also called compulsions. These obsessions and compulsions get in the way of daily activities and cause a lot of distress."}),y.jsx("p",{children:"Ultimately, you feel driven to do compulsive acts to ease your stress. Even if you try to ignore or get rid of bothersome thoughts or urges, they keep coming back. This leads you to act based on ritual. This is the vicious cycle of OCD."}),y.jsx("p",{children:"OCD often centers around certain themes, such as being overly fearful of getting contaminated by germs. To ease contamination fears, you may wash your hands over and over again until they're sore and chapped."}),y.jsx("p",{children:"If you have OCD, you may be ashamed, embarrassed, and frustrated about the condition. But treatment can be effective."}),y.jsx("h2",{children:"Symptoms"}),y.jsx("p",{children:"Obsessive-compulsive disorder usually includes both obsessions and compulsions. But it's also possible to have only obsession symptoms or only compulsion symptoms. You may or may not know that your obsessions and compulsions are beyond reason. But they take up a great deal of time, reduce your quality of life, and get in the way of your daily routines and responsibilities."}),y.jsx("h3",{children:"Obsession Symptoms"}),y.jsx("p",{children:"OCD obsessions are lasting and unwanted thoughts that keep coming back or urges or images that are intrusive and cause distress or anxiety. You might try to ignore them or get rid of them by acting based on ritual. These obsessions usually intrude when you're trying to think of or do other things."}),y.jsx("p",{children:"Obsessions often have themes, such as:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Fear of contamination or dirt."}),y.jsx("li",{children:"Doubting and having a hard time dealing with uncertainty."}),y.jsx("li",{children:"Needing things to be orderly and balanced."}),y.jsx("li",{children:"Aggressive or horrific thoughts about losing control and harming yourself or others."}),y.jsx("li",{children:"Unwanted thoughts, including aggression, or sexual or religious subjects."})]}),y.jsx("h3",{children:"Compulsion Symptoms"}),y.jsx("p",{children:"OCD compulsions are repetitive behaviors that you feel driven to do. These repetitive behaviors or mental acts are meant to reduce anxiety related to your obsessions or prevent something bad from happening. But taking part in the compulsions brings no pleasure and may offer only limited relief from anxiety."}),y.jsx("p",{children:"Common compulsion themes include:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Washing and cleaning."}),y.jsx("li",{children:"Checking."}),y.jsx("li",{children:"Counting."}),y.jsx("li",{children:"Ordering."}),y.jsx("li",{children:"Following a strict routine."}),y.jsx("li",{children:"Demanding reassurance."})]}),y.jsx("h2",{children:"Severity Varies"}),y.jsx("p",{children:"OCD usually begins in the teen or young adult years, but it can start in childhood. Symptoms usually begin over time and tend to vary in how serious they are throughout life. The types of obsessions and compulsions you have also can change over time. Symptoms generally get worse when you are under greater stress, including times of transition and change. OCD, usually thought to be a lifelong disorder, can have mild to moderate symptoms or be so severe and time-consuming that it becomes disabling."}),y.jsx("h2",{children:"When to See a Doctor"}),y.jsx("p",{children:"There's a difference between being a perfectionist — someone who needs flawless results or performance — and having OCD. OCD thoughts aren't simply excessive worries about real issues in your life or liking to have things clean or arranged in a specific way."}),y.jsx("p",{children:"If your obsessions and compulsions affect your quality of life, see your doctor or mental health professional."})]}),$ee=()=>y.jsxs("div",{className:"adhd-page",children:[y.jsxs("header",{className:"adhd-header",children:[y.jsx("div",{className:"logo",children:"ADHD"})," ",y.jsx("nav",{className:"adhd-navbar",children:y.jsxs("ul",{className:"adhd-nav-links",children:[y.jsx("li",{children:y.jsxs(In,{to:"/",children:[y.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#overview",children:[y.jsx("span",{role:"img","aria-label":"Overview",children:"🧠"})," Overview"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#signs-and-symptoms",children:[y.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:"📋"})," Signs and Symptoms"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#causes",children:[y.jsx("span",{role:"img","aria-label":"Causes",children:"🔍"})," Causes"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#diagnosis-and-tests",children:[y.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:"🩺"})," Diagnosis and Tests"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#management-and-treatment",children:[y.jsx("span",{role:"img","aria-label":"Management and Treatment",children:"💊"})," Management and Treatment"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#prevention",children:[y.jsx("span",{role:"img","aria-label":"Prevention",children:"🚫"})," Prevention"]})})]})}),y.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),y.jsxs("div",{className:"adhd-content",children:[y.jsx("h1",{children:"Attention-Deficit/Hyperactivity Disorder (ADHD)"}),y.jsx("div",{className:"ADHD-image-container",children:y.jsx("img",{src:"/assets/images/ADHD1.jpeg",alt:"OCD Illustration",className:"adhd-image"})}),y.jsxs("section",{id:"overview",className:"section",children:[y.jsx("h2",{children:"Overview"}),y.jsx("p",{children:"Attention-deficit/hyperactivity disorder (ADHD) is one of the most common childhood neurodevelopmental disorders. Children with ADHD often have difficulty with inattention, hyperactivity, and impulsivity. Kids usually receive a diagnosis during childhood, and the condition often lasts into adulthood. However, effective treatment is available."}),y.jsx("p",{children:"ADHD is a long-term (chronic) brain condition that causes executive dysfunction, which means it disrupts a person’s ability to manage their own emotions, thoughts, and actions. ADHD makes it difficult for people to:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Manage their behavior."}),y.jsx("li",{children:"Pay attention."}),y.jsx("li",{children:"Control overactivity."}),y.jsx("li",{children:"Regulate their mood."}),y.jsx("li",{children:"Stay organized."}),y.jsx("li",{children:"Concentrate."}),y.jsx("li",{children:"Follow directions."}),y.jsx("li",{children:"Sit still."})]}),y.jsx("p",{children:"Kids usually receive a diagnosis during childhood, and the condition often lasts into adulthood. However, effective treatment is available. If untreated, ADHD can cause serious, lifelong complications."})]}),y.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[y.jsx("h2",{children:"Signs and Symptoms"}),y.jsx("p",{children:"ADHD symptoms can vary depending on the type of ADHD. The three main types are:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Inattentive Type:"})," Difficulty paying attention, staying organized, and following instructions."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Hyperactive-Impulsive Type:"})," Excessive fidgeting, talking, and impulsive behavior."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Combined Type:"})," A mix of inattentive and hyperactive-impulsive symptoms."]})]}),y.jsx("p",{children:"According to the DSM-5-TR, a child with inattentive presentation must display at least six of the following behaviors:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Trouble paying attention to details or making careless mistakes."}),y.jsx("li",{children:"Issues remaining focused on tasks and activities."}),y.jsx("li",{children:"Difficulty listening well, daydreaming, or seeming distracted."}),y.jsx("li",{children:"Trouble with following instructions and/or finishing tasks."}),y.jsx("li",{children:"Difficulty with organizing tasks and activities."}),y.jsx("li",{children:"Avoiding or disliking tasks that require continuous mental effort."}),y.jsx("li",{children:"Losing things frequently."}),y.jsx("li",{children:"Easily distracted by outside stimuli."}),y.jsx("li",{children:"Forgetful in daily activities."})]})]}),y.jsxs("section",{id:"causes",className:"section",children:[y.jsx("h2",{children:"Causes"}),y.jsx("p",{children:"The exact cause of ADHD is unknown, but research suggests that genetics, brain structure, and environmental factors may play a role. Risk factors include:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Genetics: ADHD often runs in families."}),y.jsx("li",{children:"Brain anatomy: Differences in brain structure and activity."}),y.jsx("li",{children:"Environmental factors: Lead exposure, premature birth, low birth weight, and substance use during pregnancy."})]}),y.jsxs("p",{children:["The following are ",y.jsx("strong",{children:"not"})," causes of ADHD:"]}),y.jsxs("ul",{children:[y.jsx("li",{children:"Allergies."}),y.jsx("li",{children:"Immunizations."}),y.jsx("li",{children:"Eating too much sugar."}),y.jsx("li",{children:"Too much time staring at screens."}),y.jsx("li",{children:"Poor parenting."}),y.jsx("li",{children:"Social and environmental factors such as poverty."})]})]}),y.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[y.jsx("h2",{children:"Diagnosis and Tests"}),y.jsx("p",{children:"ADHD is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for ADHD, but healthcare providers may use:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Questionnaires and interviews."}),y.jsx("li",{children:"Observations in multiple settings (home, school)."}),y.jsx("li",{children:"Guidelines from the DSM-5-TR."})]}),y.jsx("p",{children:"Symptoms must:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Occur in two or more settings (e.g., home and school)."}),y.jsx("li",{children:"Considerably impair daily functioning."}),y.jsx("li",{children:"Have started before the age of 12."}),y.jsx("li",{children:"Have persisted for at least six months."})]})]}),y.jsxs("section",{id:"management-and-treatment",className:"section",children:[y.jsx("h2",{children:"Management and Treatment"}),y.jsx("p",{children:"Treatment for ADHD typically involves a combination of:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Medication:"})," Stimulants (e.g., Adderall, Ritalin) and non-stimulants (e.g., Strattera)."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Behavioral Therapy:"})," Parent training, social skills training, and executive function training."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Lifestyle Changes:"})," Healthy diet, regular exercise, and structured routines."]})]}),y.jsx("p",{children:"The goal of treatment is to improve symptoms and help individuals function more effectively in daily life."})]}),y.jsxs("section",{id:"prevention",className:"section",children:[y.jsx("h2",{children:"Prevention"}),y.jsx("p",{children:"While ADHD cannot be prevented, early diagnosis and treatment can help manage symptoms and improve quality of life. Avoiding exposure to toxins during pregnancy and providing a structured environment for children may also reduce the risk."})]})]})]}),Gee=()=>y.jsxs("div",{className:"depression-page",children:[y.jsxs("header",{className:"depression-header",children:[y.jsx("div",{className:"logo",children:"Depression"})," ",y.jsx("nav",{className:"depression-navbar",children:y.jsxs("ul",{className:"depression-nav-links",children:[y.jsx("li",{children:y.jsxs(In,{to:"/",children:[y.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#overview",children:[y.jsx("span",{role:"img","aria-label":"Overview",children:"🧠"})," Overview"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#signs-and-symptoms",children:[y.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:"📋"})," Signs and Symptoms"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#causes",children:[y.jsx("span",{role:"img","aria-label":"Causes",children:"🔍"})," Causes"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#diagnosis-and-tests",children:[y.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:"🩺"})," Diagnosis and Tests"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#management-and-treatment",children:[y.jsx("span",{role:"img","aria-label":"Management and Treatment",children:"💊"})," Management and Treatment"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#prevention",children:[y.jsx("span",{role:"img","aria-label":"Prevention",children:"🚫"})," Prevention"]})})]})}),y.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),y.jsxs("div",{className:"depression-content",children:[y.jsx("h1",{children:"Depression"}),y.jsx("div",{className:"depression-image-container",children:y.jsx("img",{src:"/assets/images/Depression1.png",alt:"Depression Illustration",className:"depression-image"})}),y.jsxs("section",{id:"overview",className:"section",children:[y.jsx("h2",{children:"Overview"}),y.jsx("p",{children:"Depression (major depressive disorder) is a common and serious medical illness that negatively affects how you feel, the way you think, and how you act. It causes feelings of sadness and/or a loss of interest in activities once enjoyed. It can lead to a variety of emotional and physical problems and can decrease a person’s ability to function at work and at home."}),y.jsx("p",{children:"Depression symptoms can vary from mild to severe and can include:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Feeling sad or having a depressed mood."}),y.jsx("li",{children:"Loss of interest or pleasure in activities once enjoyed."}),y.jsx("li",{children:"Changes in appetite — weight loss or gain unrelated to dieting."}),y.jsx("li",{children:"Trouble sleeping or sleeping too much."}),y.jsx("li",{children:"Loss of energy or increased fatigue."}),y.jsx("li",{children:"Increase in purposeless physical activity (e.g., inability to sit still, pacing, handwringing) or slowed movements or speech."}),y.jsx("li",{children:"Feeling worthless or guilty."}),y.jsx("li",{children:"Difficulty thinking, concentrating, or making decisions."}),y.jsx("li",{children:"Thoughts of death or suicide."})]}),y.jsx("p",{children:"Depression is a treatable condition, and most people see improvement with medication, therapy, or a combination of both."})]}),y.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[y.jsx("h2",{children:"Signs and Symptoms"}),y.jsx("p",{children:"Depression symptoms can vary depending on the severity of the condition. Common signs and symptoms include:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Emotional Symptoms:"})," Persistent sadness, hopelessness, irritability, or feelings of emptiness."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Physical Symptoms:"})," Fatigue, changes in appetite, sleep disturbances, and unexplained aches or pains."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Cognitive Symptoms:"})," Difficulty concentrating, making decisions, or remembering details."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Behavioral Symptoms:"})," Withdrawal from social activities, loss of interest in hobbies, or neglect of responsibilities."]})]}),y.jsx("p",{children:"Symptoms must last at least two weeks and represent a change in your previous level of functioning for a diagnosis of depression."})]}),y.jsxs("section",{id:"causes",className:"section",children:[y.jsx("h2",{children:"Causes"}),y.jsx("p",{children:"The exact cause of depression is not fully understood, but it is believed to result from a combination of genetic, biological, environmental, and psychological factors. Risk factors include:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Genetics:"})," A family history of depression may increase the risk."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Brain Chemistry:"})," Imbalances in neurotransmitters like serotonin and dopamine."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Hormonal Changes:"})," Changes in hormone levels due to pregnancy, menopause, or thyroid problems."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Environmental Factors:"})," Trauma, loss of a loved one, or stressful life events."]})]}),y.jsxs("p",{children:["The following are ",y.jsx("strong",{children:"not"})," causes of depression:"]}),y.jsxs("ul",{children:[y.jsx("li",{children:"Personal weakness or character flaws."}),y.jsx("li",{children:'Simply feeling "down" or "blue."'}),y.jsx("li",{children:"A lack of willpower."})]})]}),y.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[y.jsx("h2",{children:"Diagnosis and Tests"}),y.jsx("p",{children:"Depression is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for depression, but healthcare providers may use:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Questionnaires and interviews."}),y.jsx("li",{children:"Physical exams to rule out other conditions."}),y.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),y.jsx("p",{children:"Symptoms must:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Persist for at least two weeks."}),y.jsx("li",{children:"Significantly impair daily functioning."}),y.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),y.jsxs("section",{id:"management-and-treatment",className:"section",children:[y.jsx("h2",{children:"Management and Treatment"}),y.jsx("p",{children:"Treatment for depression typically involves a combination of:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Medication:"})," Antidepressants (e.g., SSRIs, SNRIs) to help balance brain chemistry."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), interpersonal therapy (IPT), or other forms of counseling."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Lifestyle Changes:"})," Regular exercise, a healthy diet, and stress management techniques."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Support Groups:"})," Connecting with others who have similar experiences."]})]}),y.jsx("p",{children:"The goal of treatment is to reduce symptoms, improve quality of life, and prevent recurrence."})]}),y.jsxs("section",{id:"prevention",className:"section",children:[y.jsx("h2",{children:"Prevention"}),y.jsx("p",{children:"While depression cannot always be prevented, certain strategies may reduce the risk or severity of episodes:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Maintaining a strong support network."}),y.jsx("li",{children:"Engaging in regular physical activity."}),y.jsx("li",{children:"Practicing stress-reduction techniques like mindfulness or meditation."}),y.jsx("li",{children:"Seeking help early if symptoms arise."})]})]})]})]}),Kee=()=>y.jsxs("div",{className:"anxiety-page",children:[y.jsxs("header",{className:"anxiety-header",children:[y.jsx("div",{className:"logo",children:"Anxiety"})," ",y.jsx("nav",{className:"anxiety-navbar",children:y.jsxs("ul",{className:"anxiety-nav-links",children:[y.jsx("li",{children:y.jsxs(In,{to:"/",children:[y.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#overview",children:[y.jsx("span",{role:"img","aria-label":"Overview",children:"🧠"})," Overview"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#signs-and-symptoms",children:[y.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:"📋"})," Signs and Symptoms"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#causes",children:[y.jsx("span",{role:"img","aria-label":"Causes",children:"🔍"})," Causes"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#diagnosis-and-tests",children:[y.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:"🩺"})," Diagnosis and Tests"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#management-and-treatment",children:[y.jsx("span",{role:"img","aria-label":"Management and Treatment",children:"💊"})," Management and Treatment"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#prevention",children:[y.jsx("span",{role:"img","aria-label":"Prevention",children:"🚫"})," Prevention"]})})]})}),y.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),y.jsxs("div",{className:"anxiety-content",children:[y.jsx("h1",{children:"Anxiety Disorders"}),y.jsx("div",{className:"anxiety-image-container",children:y.jsx("img",{src:"/assets/images/Anxiety1.jpeg",alt:"Anxiety Illustration",className:"anxiety-image"})}),y.jsxs("section",{id:"overview",className:"section",children:[y.jsx("h2",{children:"Overview"}),y.jsx("p",{children:"Anxiety disorders are a group of mental health conditions characterized by excessive fear, worry, or nervousness. These feelings can interfere with daily activities and are often difficult to control. Anxiety disorders include generalized anxiety disorder (GAD), panic disorder, social anxiety disorder, and specific phobias."}),y.jsx("p",{children:"Anxiety is a normal response to stress, but when it becomes chronic or overwhelming, it can significantly impact a person's quality of life. Common symptoms include:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Excessive worry or fear."}),y.jsx("li",{children:"Restlessness or feeling on edge."}),y.jsx("li",{children:"Fatigue."}),y.jsx("li",{children:"Difficulty concentrating."}),y.jsx("li",{children:"Irritability."}),y.jsx("li",{children:"Muscle tension."}),y.jsx("li",{children:"Sleep disturbances."})]}),y.jsx("p",{children:"Anxiety disorders are highly treatable, and most people see improvement with therapy, medication, or a combination of both."})]}),y.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[y.jsx("h2",{children:"Signs and Symptoms"}),y.jsx("p",{children:"Symptoms of anxiety disorders can vary depending on the specific type of disorder. Common signs and symptoms include:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Physical Symptoms:"})," Rapid heartbeat, sweating, trembling, shortness of breath, or dizziness."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Emotional Symptoms:"})," Feelings of dread, panic, or unease."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Cognitive Symptoms:"})," Difficulty concentrating, racing thoughts, or constant worry."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Behavioral Symptoms:"})," Avoidance of certain situations or activities."]})]}),y.jsx("p",{children:"Symptoms must persist for at least six months and significantly impair daily functioning for a diagnosis of an anxiety disorder."})]}),y.jsxs("section",{id:"causes",className:"section",children:[y.jsx("h2",{children:"Causes"}),y.jsx("p",{children:"The exact cause of anxiety disorders is not fully understood, but they are believed to result from a combination of genetic, environmental, and psychological factors. Risk factors include:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Genetics:"})," A family history of anxiety disorders may increase the risk."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Brain Chemistry:"})," Imbalances in neurotransmitters like serotonin and dopamine."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Environmental Factors:"})," Trauma, stress, or significant life changes."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Personality:"})," Certain personality traits, such as shyness or perfectionism."]})]}),y.jsxs("p",{children:["The following are ",y.jsx("strong",{children:"not"})," causes of anxiety disorders:"]}),y.jsxs("ul",{children:[y.jsx("li",{children:"Personal weakness or character flaws."}),y.jsx("li",{children:'Simply feeling "nervous" or "stressed."'}),y.jsx("li",{children:"A lack of willpower."})]})]}),y.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[y.jsx("h2",{children:"Diagnosis and Tests"}),y.jsx("p",{children:"Anxiety disorders are diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for anxiety, but healthcare providers may use:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Questionnaires and interviews."}),y.jsx("li",{children:"Physical exams to rule out other conditions."}),y.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),y.jsx("p",{children:"Symptoms must:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Persist for at least six months."}),y.jsx("li",{children:"Significantly impair daily functioning."}),y.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),y.jsxs("section",{id:"management-and-treatment",className:"section",children:[y.jsx("h2",{children:"Management and Treatment"}),y.jsx("p",{children:"Treatment for anxiety disorders typically involves a combination of:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Medication:"})," Antidepressants, anti-anxiety medications, or beta-blockers."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), exposure therapy, or other forms of counseling."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Lifestyle Changes:"})," Regular exercise, a healthy diet, and stress management techniques."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Support Groups:"})," Connecting with others who have similar experiences."]})]}),y.jsx("p",{children:"The goal of treatment is to reduce symptoms, improve quality of life, and prevent recurrence."})]}),y.jsxs("section",{id:"prevention",className:"section",children:[y.jsx("h2",{children:"Prevention"}),y.jsx("p",{children:"While anxiety disorders cannot always be prevented, certain strategies may reduce the risk or severity of episodes:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Maintaining a strong support network."}),y.jsx("li",{children:"Engaging in regular physical activity."}),y.jsx("li",{children:"Practicing stress-reduction techniques like mindfulness or meditation."}),y.jsx("li",{children:"Seeking help early if symptoms arise."})]})]})]})]}),Qee=()=>y.jsxs("div",{className:"bipolar-page",children:[y.jsxs("header",{className:"bipolar-header",children:[y.jsx("div",{className:"logo",children:"Bipolar"})," ",y.jsx("nav",{className:"bipolar-navbar",children:y.jsxs("ul",{className:"bipolar-nav-links",children:[y.jsx("li",{children:y.jsxs(In,{to:"/",children:[y.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#overview",children:[y.jsx("span",{role:"img","aria-label":"Overview",children:"🧠"})," Overview"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#signs-and-symptoms",children:[y.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:"📋"})," Signs and Symptoms"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#causes",children:[y.jsx("span",{role:"img","aria-label":"Causes",children:"🔍"})," Causes"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#diagnosis-and-tests",children:[y.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:"🩺"})," Diagnosis and Tests"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#management-and-treatment",children:[y.jsx("span",{role:"img","aria-label":"Management and Treatment",children:"💊"})," Management and Treatment"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#prevention",children:[y.jsx("span",{role:"img","aria-label":"Prevention",children:"🚫"})," Prevention"]})})]})}),y.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),y.jsxs("div",{className:"bipolar-content",children:[y.jsx("h1",{children:"Bipolar Disorder"}),y.jsx("div",{className:"bipolar-image-container",children:y.jsx("img",{src:"/assets/images/bipolar1.jpeg",alt:"Bipolar Disorder Illustration",className:"bipolar-image"})}),y.jsxs("section",{id:"overview",className:"section",children:[y.jsx("h2",{children:"Overview"}),y.jsx("p",{children:"Bipolar disorder, formerly known as manic-depressive illness, is a mental health condition characterized by extreme mood swings that include emotional highs (mania or hypomania) and lows (depression). These mood swings can affect sleep, energy, activity, judgment, behavior, and the ability to think clearly."}),y.jsx("p",{children:"Bipolar disorder is a chronic condition that requires lifelong management. It is typically diagnosed in late adolescence or early adulthood, but symptoms can appear at any age. Common symptoms include:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Episodes of mania or hypomania (elevated mood, increased energy)."}),y.jsx("li",{children:"Episodes of depression (sadness, hopelessness, loss of interest)."}),y.jsx("li",{children:"Mood swings that disrupt daily life."}),y.jsx("li",{children:"Difficulty maintaining relationships or performing at work or school."})]}),y.jsx("p",{children:"Bipolar disorder is treatable, and most people can manage their symptoms with medication, therapy, and lifestyle changes."})]}),y.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[y.jsx("h2",{children:"Signs and Symptoms"}),y.jsx("p",{children:"Symptoms of bipolar disorder vary depending on the type of episode (manic, hypomanic, or depressive). Common signs and symptoms include:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Manic Episode:"})," Elevated mood, increased energy, reduced need for sleep, racing thoughts, impulsive behavior."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Hypomanic Episode:"})," Similar to manic episodes but less severe and not as disruptive."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Depressive Episode:"})," Persistent sadness, fatigue, loss of interest, feelings of worthlessness, difficulty concentrating."]})]}),y.jsx("p",{children:"Symptoms must persist for a specific duration and significantly impair daily functioning for a diagnosis of bipolar disorder."})]}),y.jsxs("section",{id:"causes",className:"section",children:[y.jsx("h2",{children:"Causes"}),y.jsx("p",{children:"The exact cause of bipolar disorder is not fully understood, but it is believed to result from a combination of genetic, biological, and environmental factors. Risk factors include:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Genetics:"})," A family history of bipolar disorder or other mood disorders."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Brain Structure and Function:"})," Differences in brain chemistry and structure."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Environmental Factors:"})," Stress, trauma, or significant life changes."]})]}),y.jsxs("p",{children:["The following are ",y.jsx("strong",{children:"not"})," causes of bipolar disorder:"]}),y.jsxs("ul",{children:[y.jsx("li",{children:"Personal weakness or character flaws."}),y.jsx("li",{children:'Simply being "moody" or "emotional."'}),y.jsx("li",{children:"A lack of willpower."})]})]}),y.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[y.jsx("h2",{children:"Diagnosis and Tests"}),y.jsx("p",{children:"Bipolar disorder is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for bipolar disorder, but healthcare providers may use:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Questionnaires and interviews."}),y.jsx("li",{children:"Mood charting to track mood swings over time."}),y.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),y.jsx("p",{children:"Symptoms must:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Persist for a specific duration (e.g., at least one week for mania)."}),y.jsx("li",{children:"Significantly impair daily functioning."}),y.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),y.jsxs("section",{id:"management-and-treatment",className:"section",children:[y.jsx("h2",{children:"Management and Treatment"}),y.jsx("p",{children:"Treatment for bipolar disorder typically involves a combination of:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Medication:"})," Mood stabilizers, antipsychotics, or antidepressants."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), family-focused therapy, or psychoeducation."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Lifestyle Changes:"})," Regular sleep patterns, stress management, and avoiding triggers."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Support Groups:"})," Connecting with others who have similar experiences."]})]}),y.jsx("p",{children:"The goal of treatment is to stabilize mood, reduce symptoms, and improve quality of life."})]}),y.jsxs("section",{id:"prevention",className:"section",children:[y.jsx("h2",{children:"Prevention"}),y.jsx("p",{children:"While bipolar disorder cannot always be prevented, certain strategies may reduce the risk or severity of episodes:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Seeking early treatment if symptoms arise."}),y.jsx("li",{children:"Maintaining a stable routine and sleep schedule."}),y.jsx("li",{children:"Avoiding alcohol and recreational drugs."}),y.jsx("li",{children:"Building a strong support network."})]})]})]})]}),Wee=()=>y.jsxs("div",{className:"ptsd-page",children:[y.jsxs("header",{className:"ptsd-header",children:[y.jsx("div",{className:"logo",children:"PTSD"})," ",y.jsx("nav",{className:"ptsd-navbar",children:y.jsxs("ul",{className:"ptsd-nav-links",children:[y.jsx("li",{children:y.jsxs(In,{to:"/",children:[y.jsx("span",{role:"img","aria-label":"Home",children:"🏠"})," Home"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#overview",children:[y.jsx("span",{role:"img","aria-label":"Overview",children:"🧠"})," Overview"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#signs-and-symptoms",children:[y.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:"📋"})," Signs and Symptoms"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#causes",children:[y.jsx("span",{role:"img","aria-label":"Causes",children:"🔍"})," Causes"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#diagnosis-and-tests",children:[y.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:"🩺"})," Diagnosis and Tests"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#management-and-treatment",children:[y.jsx("span",{role:"img","aria-label":"Management and Treatment",children:"💊"})," Management and Treatment"]})}),y.jsx("li",{children:y.jsxs("a",{href:"#prevention",children:[y.jsx("span",{role:"img","aria-label":"Prevention",children:"🚫"})," Prevention"]})})]})}),y.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),y.jsxs("div",{className:"ptsd-content",children:[y.jsx("h1",{children:"Post-Traumatic Stress Disorder (PTSD)"}),y.jsx("div",{className:"ptsd-image-container",children:y.jsx("img",{src:"/assets/images/ptsd1.jpeg",alt:"PTSD Illustration",className:"ptsd-image"})}),y.jsxs("section",{id:"overview",className:"section",children:[y.jsx("h2",{children:"Overview"}),y.jsx("p",{children:"Post-Traumatic Stress Disorder (PTSD) is a mental health condition that can develop after experiencing or witnessing a traumatic event. Such events may include natural disasters, serious accidents, terrorist acts, war/combat, rape, or other violent personal assaults."}),y.jsx("p",{children:"PTSD can affect anyone, regardless of age, gender, or background. Symptoms can be severe and long-lasting, interfering with daily life and relationships. Common symptoms include:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Flashbacks or reliving the traumatic event."}),y.jsx("li",{children:"Nightmares or severe anxiety."}),y.jsx("li",{children:"Uncontrollable thoughts about the event."}),y.jsx("li",{children:"Avoidance of places, activities, or people that remind you of the trauma."}),y.jsx("li",{children:"Negative changes in mood and thinking."}),y.jsx("li",{children:"Hyperarousal (feeling on edge, being easily startled)."})]}),y.jsx("p",{children:"PTSD is treatable, and many people recover with proper treatment and support."})]}),y.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[y.jsx("h2",{children:"Signs and Symptoms"}),y.jsx("p",{children:"Symptoms of PTSD are generally grouped into four types: intrusive memories, avoidance, negative changes in thinking and mood, and changes in physical and emotional reactions. Common signs and symptoms include:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Intrusive Memories:"})," Flashbacks, nightmares, or distressing memories of the event."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Avoidance:"})," Avoiding places, activities, or people that remind you of the trauma."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Negative Changes in Thinking and Mood:"})," Feelings of hopelessness, memory problems, or detachment from loved ones."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Changes in Physical and Emotional Reactions:"})," Being easily startled, feeling tense, or having angry outbursts."]})]}),y.jsx("p",{children:"Symptoms must persist for more than a month and significantly impair daily functioning for a diagnosis of PTSD."})]}),y.jsxs("section",{id:"causes",className:"section",children:[y.jsx("h2",{children:"Causes"}),y.jsx("p",{children:"PTSD is caused by experiencing or witnessing a traumatic event. However, not everyone who experiences trauma develops PTSD. Risk factors include:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Intensity of the Trauma:"})," The more severe and prolonged the trauma, the higher the risk."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Personal History:"})," A history of mental health issues or previous trauma."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Lack of Support:"})," Limited social support after the event."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Biological Factors:"})," Genetics or brain chemistry may play a role."]})]}),y.jsxs("p",{children:["The following are ",y.jsx("strong",{children:"not"})," causes of PTSD:"]}),y.jsxs("ul",{children:[y.jsx("li",{children:"Personal weakness or character flaws."}),y.jsx("li",{children:'Simply feeling "stressed" or "anxious."'}),y.jsx("li",{children:"A lack of willpower."})]})]}),y.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[y.jsx("h2",{children:"Diagnosis and Tests"}),y.jsx("p",{children:"PTSD is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for PTSD, but healthcare providers may use:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Questionnaires and interviews."}),y.jsx("li",{children:"Psychological evaluations."}),y.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),y.jsx("p",{children:"Symptoms must:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Persist for more than a month."}),y.jsx("li",{children:"Significantly impair daily functioning."}),y.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),y.jsxs("section",{id:"management-and-treatment",className:"section",children:[y.jsx("h2",{children:"Management and Treatment"}),y.jsx("p",{children:"Treatment for PTSD typically involves a combination of:"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), eye movement desensitization and reprocessing (EMDR), or exposure therapy."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Medication:"})," Antidepressants, anti-anxiety medications, or sleep aids."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Lifestyle Changes:"})," Regular exercise, stress management, and building a strong support network."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Support Groups:"})," Connecting with others who have experienced similar traumas."]})]}),y.jsx("p",{children:"The goal of treatment is to reduce symptoms, improve quality of life, and help individuals regain a sense of control."})]}),y.jsxs("section",{id:"prevention",className:"section",children:[y.jsx("h2",{children:"Prevention"}),y.jsx("p",{children:"While PTSD cannot always be prevented, certain strategies may reduce the risk or severity of symptoms:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Seeking immediate support after a traumatic event."}),y.jsx("li",{children:"Building a strong support network of family and friends."}),y.jsx("li",{children:"Practicing stress-reduction techniques like mindfulness or meditation."}),y.jsx("li",{children:"Seeking professional help early if symptoms arise."})]})]})]})]});function Yee(){const r=kl(),[e,t]=ie.useState(Array(10).fill(null)),[s,o]=ie.useState(null),c=["Do you experience intrusive thoughts that cause you anxiety?","Do you feel compelled to perform certain rituals or behaviors to reduce anxiety?","Do you spend a significant amount of time each day on obsessive thoughts or compulsions?","Do you find it difficult to control your obsessive thoughts or compulsive behaviors?","Do your obsessive thoughts or compulsions interfere with your daily life or relationships?","Do you avoid certain situations or places because they trigger obsessive thoughts?","Do you feel distressed if you are unable to complete a ritual or compulsion?","Do you often seek reassurance from others about your fears or worries?","Do you feel that your obsessive thoughts are irrational but cannot stop them?","Do you experience physical symptoms (e.g., sweating, rapid heartbeat) due to obsessive thoughts?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of OCD. It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of OCD. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of OCD. If you have concerns, consider speaking with a mental health professional.")};return y.jsxs("div",{className:"ocd-screening",children:[y.jsx("h1",{children:"OCD Screening Test"}),y.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Obsessive-Compulsive Disorder (OCD). Answer the following questions honestly based on your experiences over the past month."}),s?y.jsxs("div",{className:"test-results",children:[y.jsx("h2",{children:"Your Results"}),y.jsx("p",{children:s}),y.jsx("h3",{children:"Next Steps"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Learn more about OCD:"})," Read about OCD symptoms, causes, and treatment options."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),y.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):y.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>y.jsxs("div",{className:"question",children:[y.jsx("p",{children:p}),y.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),y.jsx("button",{onClick:f,children:"Submit"})]})]})}function Xee(){const r=kl(),[e,t]=ie.useState(Array(10).fill(null)),[s,o]=ie.useState(null),c=["Do you often have trouble focusing on tasks or staying organized?","Do you frequently feel restless or have difficulty sitting still?","Do you often interrupt others or have trouble waiting your turn?","Do you frequently lose things necessary for tasks or activities?","Do you often forget daily activities or appointments?","Do you have difficulty following through on instructions or finishing tasks?","Do you often avoid tasks that require sustained mental effort?","Do you frequently make careless mistakes in work or school?","Do you often feel like you're 'on the go' or driven by a motor?","Do you have trouble managing your time or meeting deadlines?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of ADHD. It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of ADHD. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of ADHD. If you have concerns, consider speaking with a mental health professional.")};return y.jsxs("div",{className:"adhd-screening",children:[y.jsx("h1",{children:"ADHD Screening Test"}),y.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Attention-Deficit/Hyperactivity Disorder (ADHD). Answer the following questions honestly based on your experiences over the past month."}),s?y.jsxs("div",{className:"test-results",children:[y.jsx("h2",{children:"Your Results"}),y.jsx("p",{children:s}),y.jsx("h3",{children:"Next Steps"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Learn more about ADHD:"})," Read about ADHD symptoms, causes, and treatment options."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),y.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):y.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>y.jsxs("div",{className:"question",children:[y.jsx("p",{children:p}),y.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),y.jsx("button",{onClick:f,children:"Submit"})]})]})}function Zee(){const r=kl(),[e,t]=ie.useState(Array(10).fill(null)),[s,o]=ie.useState(null),c=["Do you often feel excessively worried or nervous?","Do you experience physical symptoms like a racing heart or sweating when anxious?","Do you have trouble controlling your worries?","Do you avoid situations or activities because they make you anxious?","Do you feel restless or on edge most of the time?","Do you have difficulty concentrating due to anxiety?","Do you feel fatigued or easily tired due to anxiety?","Do you experience muscle tension or aches due to anxiety?","Do you have trouble falling or staying asleep due to anxiety?","Do you feel irritable or easily agitated due to anxiety?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of Generalized Anxiety Disorder. It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of anxiety. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of anxiety. If you have concerns, consider speaking with a mental health professional.")};return y.jsxs("div",{className:"anxiety-screening",children:[y.jsx("h1",{children:"Anxiety Screening Test"}),y.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Generalized Anxiety Disorder. Answer the following questions honestly based on your experiences over the past month."}),s?y.jsxs("div",{className:"test-results",children:[y.jsx("h2",{children:"Your Results"}),y.jsx("p",{children:s}),y.jsx("h3",{children:"Next Steps"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Learn more about anxiety:"})," Read about anxiety symptoms, causes, and treatment options."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),y.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):y.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>y.jsxs("div",{className:"question",children:[y.jsx("p",{children:p}),y.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),y.jsx("button",{onClick:f,children:"Submit"})]})]})}function Jee(){const r=kl(),[e,t]=ie.useState(Array(10).fill(null)),[s,o]=ie.useState(null),c=["Do you often feel sad, empty, or hopeless?","Have you lost interest in activities you once enjoyed?","Do you feel fatigued or have low energy most days?","Do you have trouble sleeping or sleep too much?","Do you experience changes in appetite or weight?","Do you feel worthless or guilty?","Do you have difficulty concentrating or making decisions?","Do you feel restless or slowed down?","Do you have recurrent thoughts of death or suicide?","Do you feel like life is not worth living?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of depression. It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of depression. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of depression. If you have concerns, consider speaking with a mental health professional.")};return y.jsxs("div",{className:"depression-screening",children:[y.jsx("h1",{children:"Depression Screening Test"}),y.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of depression. Answer the following questions honestly based on your experiences over the past month."}),s?y.jsxs("div",{className:"test-results",children:[y.jsx("h2",{children:"Your Results"}),y.jsx("p",{children:s}),y.jsx("h3",{children:"Next Steps"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Learn more about depression:"})," Read about depression symptoms, causes, and treatment options."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),y.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):y.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>y.jsxs("div",{className:"question",children:[y.jsx("p",{children:p}),y.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),y.jsx("button",{onClick:f,children:"Submit"})]})]})}function ete(){const r=kl(),[e,t]=ie.useState(Array(10).fill(null)),[s,o]=ie.useState(null),c=["Do you experience periods of unusually high energy and mood?","Do you feel like you need less sleep than usual during these periods?","Do you feel more talkative or pressured to keep talking during these periods?","Do you experience racing thoughts or feel like your mind is jumping from one idea to another?","Do you engage in impulsive or risky behaviors during these periods?","Do you experience periods of deep sadness or hopelessness?","Do you lose interest in activities you once enjoyed during these periods?","Do you feel fatigued or have low energy during these periods?","Do you have trouble concentrating or making decisions during these periods?","Do you experience changes in appetite or weight during these periods?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of Bipolar Disorder. It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of Bipolar Disorder. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of Bipolar Disorder. If you have concerns, consider speaking with a mental health professional.")};return y.jsxs("div",{className:"bipolar-screening",children:[y.jsx("h1",{children:"Bipolar Disorder Screening Test"}),y.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Bipolar Disorder. Answer the following questions honestly based on your experiences over the past month."}),s?y.jsxs("div",{className:"test-results",children:[y.jsx("h2",{children:"Your Results"}),y.jsx("p",{children:s}),y.jsx("h3",{children:"Next Steps"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Learn more about Bipolar Disorder:"})," Read about Bipolar Disorder symptoms, causes, and treatment options."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),y.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):y.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>y.jsxs("div",{className:"question",children:[y.jsx("p",{children:p}),y.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),y.jsx("button",{onClick:f,children:"Submit"})]})]})}function tte(){const r=kl(),[e,t]=ie.useState(Array(10).fill(null)),[s,o]=ie.useState(null),c=["Do you have recurring, distressing memories of a traumatic event?","Do you have nightmares about the traumatic event?","Do you feel like you are reliving the traumatic event (flashbacks)?","Do you avoid places, people, or activities that remind you of the traumatic event?","Do you feel emotionally numb or detached from others?","Do you have difficulty sleeping or concentrating?","Do you feel irritable or have angry outbursts?","Do you feel constantly on guard or easily startled?","Do you feel intense guilt or shame about the traumatic event?","Do you feel like life is meaningless or hopeless?"],d=(p,v)=>{const x=[...e];x[p]=v,t(x)},f=()=>{const p=e.filter(v=>v==="Often"||v==="Always").length;p>=6?o("Your responses suggest you may be experiencing symptoms of Post-Traumatic Stress Disorder (PTSD). It’s important to speak with a mental health professional for further evaluation."):p>=3?o("Your responses indicate some symptoms of PTSD. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of PTSD. If you have concerns, consider speaking with a mental health professional.")};return y.jsxs("div",{className:"ptsd-screening",children:[y.jsx("h1",{children:"PTSD Screening Test"}),y.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Post-Traumatic Stress Disorder (PTSD). Answer the following questions honestly based on your experiences over the past month."}),s?y.jsxs("div",{className:"test-results",children:[y.jsx("h2",{children:"Your Results"}),y.jsx("p",{children:s}),y.jsx("h3",{children:"Next Steps"}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Learn more about PTSD:"})," Read about PTSD symptoms, causes, and treatment options."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),y.jsx("button",{onClick:()=>r("/resources"),children:"Find Resources"})]}):y.jsxs("div",{className:"test-questions",children:[c.map((p,v)=>y.jsxs("div",{className:"question",children:[y.jsx("p",{children:p}),y.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(x=>y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:`question-${v}`,value:x,onChange:()=>d(v,x)}),x]},x))})]},v)),y.jsx("button",{onClick:f,children:"Submit"})]})]})}function nte(){const[r,e]=ie.useState(null),[t,s]=ie.useState(!1);return ie.useEffect(()=>{const o=PO(QO,c=>{e(c)});return()=>o()},[]),y.jsx(TW,{children:y.jsx(rte,{user:r,showProfilePopup:t,setShowProfilePopup:s})})}function rte({user:r,showProfilePopup:e,setShowProfilePopup:t}){const{darkMode:s}=ie.useContext(f1);return y.jsx("div",{className:s?"app dark-mode":"app",children:y.jsx(Jq,{children:y.jsxs("div",{className:"content",children:[y.jsxs(Nq,{children:[y.jsx(qn,{path:"/login",element:y.jsx(SN,{initialMode:"login"})}),y.jsx(qn,{path:"/register",element:y.jsx(SN,{initialMode:"register"})}),y.jsx(qn,{path:"/",element:y.jsx(Qr,{children:y.jsx(Lee,{})})}),y.jsx(qn,{path:"/accessibility",element:y.jsx(Qr,{children:y.jsx(Uee,{})})}),y.jsx(qn,{path:"/about",element:y.jsx(Qr,{children:y.jsx(Vee,{})})}),y.jsx(qn,{path:"/screening",element:y.jsx(Qr,{children:y.jsx(zee,{})})}),y.jsx(qn,{path:"/resources",element:y.jsx(Qr,{children:y.jsx(Fee,{})})}),y.jsx(qn,{path:"/community",element:y.jsx(Qr,{children:y.jsx(Bee,{})})}),y.jsx(qn,{path:"/contact",element:y.jsx(Qr,{children:y.jsx(qee,{})})}),y.jsx(qn,{path:"/ocd",element:y.jsx(Qr,{children:y.jsx(Hee,{})})}),y.jsx(qn,{path:"/adhd",element:y.jsx(Qr,{children:y.jsx($ee,{})})}),y.jsx(qn,{path:"/depression",element:y.jsx(Qr,{children:y.jsx(Gee,{})})}),y.jsx(qn,{path:"/anxiety",element:y.jsx(Qr,{children:y.jsx(Kee,{})})}),y.jsx(qn,{path:"/bipolar",element:y.jsx(Qr,{children:y.jsx(Qee,{})})}),y.jsx(qn,{path:"/ptsd",element:y.jsx(Qr,{children:y.jsx(Wee,{})})}),y.jsx(qn,{path:"/ocd-screening",element:y.jsx(Qr,{children:y.jsx(Yee,{})})}),y.jsx(qn,{path:"/adhd-screening",element:y.jsx(Qr,{children:y.jsx(Xee,{})})}),y.jsx(qn,{path:"/anxiety-screening",element:y.jsx(Qr,{children:y.jsx(Zee,{})})}),y.jsx(qn,{path:"/depression-screening",element:y.jsx(Qr,{children:y.jsx(Jee,{})})}),y.jsx(qn,{path:"/bipolar-screening",element:y.jsx(Qr,{children:y.jsx(ete,{})})}),y.jsx(qn,{path:"/ptsd-screening",element:y.jsx(Qr,{children:y.jsx(tte,{})})}),y.jsx(qn,{path:"*",element:y.jsx(_D,{to:"/login",replace:!0})})]}),e&&y.jsx(ite,{onClose:()=>t(!1)})]})})})}function ite({onClose:r}){const{darkMode:e,toggleDarkMode:t}=ie.useContext(f1);return y.jsx(K4,{onClose:r,onThemeToggle:t,isDarkMode:e})}z8.createRoot(document.getElementById("root")).render(y.jsx(ie.StrictMode,{children:y.jsx(nte,{})}));
