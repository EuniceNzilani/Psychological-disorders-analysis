(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function FS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var dm={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function GS(){if(x_)return ql;x_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:c}}return ql.Fragment=e,ql.jsx=t,ql.jsxs=t,ql}var S_;function $S(){return S_||(S_=1,dm.exports=GS()),dm.exports}var u=$S(),fm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function KS(){if(A_)return Re;A_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,K={};function q(D,Y,le){this.props=D,this.context=Y,this.refs=K,this.updater=le||O}q.prototype.isReactComponent={},q.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=q.prototype;function Z(D,Y,le){this.props=D,this.context=Y,this.refs=K,this.updater=le||O}var Q=Z.prototype=new $;Q.constructor=Z,V(Q,q.prototype),Q.isPureReactComponent=!0;var ae=Array.isArray,ce={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function N(D,Y,le,oe,ue,Ce){return le=Ce.ref,{$$typeof:i,type:D,key:Y,ref:le!==void 0?le:null,props:Ce}}function A(D,Y){return N(D.type,Y,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function I(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return Y[le]})}var k=/\/+/g;function U(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?I(""+D.key):Y.toString(36)}function j(){}function mt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(j,j):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function at(D,Y,le,oe,ue){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case i:case e:Ae=!0;break;case T:return Ae=D._init,at(Ae(D._payload),Y,le,oe,ue)}}if(Ae)return ue=ue(D),Ae=oe===""?"."+U(D,0):oe,ae(ue)?(le="",Ae!=null&&(le=Ae.replace(k,"$&/")+"/"),at(ue,Y,le,"",function(ot){return ot})):ue!=null&&(S(ue)&&(ue=A(ue,le+(ue.key==null||D&&D.key===ue.key?"":(""+ue.key).replace(k,"$&/")+"/")+Ae)),Y.push(ue)),1;Ae=0;var _t=oe===""?".":oe+":";if(ae(D))for(var ze=0;ze<D.length;ze++)oe=D[ze],Ce=_t+U(oe,ze),Ae+=at(oe,Y,le,Ce,ue);else if(ze=R(D),typeof ze=="function")for(D=ze.call(D),ze=0;!(oe=D.next()).done;)oe=oe.value,Ce=_t+U(oe,ze++),Ae+=at(oe,Y,le,Ce,ue);else if(Ce==="object"){if(typeof D.then=="function")return at(mt(D),Y,le,oe,ue);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function re(D,Y,le){if(D==null)return D;var oe=[],ue=0;return at(D,oe,"","",function(Ce){return Y.call(le,Ce,ue++)}),oe}function ve(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var ie=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function be(){}return Re.Children={map:re,forEach:function(D,Y,le){re(D,function(){Y.apply(this,arguments)},le)},count:function(D){var Y=0;return re(D,function(){Y++}),Y},toArray:function(D){return re(D,function(Y){return Y})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=q,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=Z,Re.StrictMode=r,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,Y,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=V({},D.props),ue=D.key,Ce=void 0;if(Y!=null)for(Ae in Y.ref!==void 0&&(Ce=void 0),Y.key!==void 0&&(ue=""+Y.key),Y)!me.call(Y,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Y.ref===void 0||(oe[Ae]=Y[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=le;else if(1<Ae){for(var _t=Array(Ae),ze=0;ze<Ae;ze++)_t[ze]=arguments[ze+2];oe.children=_t}return N(D.type,ue,void 0,void 0,Ce,oe)},Re.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Re.createElement=function(D,Y,le){var oe,ue={},Ce=null;if(Y!=null)for(oe in Y.key!==void 0&&(Ce=""+Y.key),Y)me.call(Y,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ue[oe]=Y[oe]);var Ae=arguments.length-2;if(Ae===1)ue.children=le;else if(1<Ae){for(var _t=Array(Ae),ze=0;ze<Ae;ze++)_t[ze]=arguments[ze+2];ue.children=_t}if(D&&D.defaultProps)for(oe in Ae=D.defaultProps,Ae)ue[oe]===void 0&&(ue[oe]=Ae[oe]);return N(D,Ce,void 0,void 0,null,ue)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=S,Re.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:ve}},Re.memo=function(D,Y){return{$$typeof:y,type:D,compare:Y===void 0?null:Y}},Re.startTransition=function(D){var Y=ce.T,le={};ce.T=le;try{var oe=D(),ue=ce.S;ue!==null&&ue(le,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(be,ie)}catch(Ce){ie(Ce)}finally{ce.T=Y}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(D){return ce.H.use(D)},Re.useActionState=function(D,Y,le){return ce.H.useActionState(D,Y,le)},Re.useCallback=function(D,Y){return ce.H.useCallback(D,Y)},Re.useContext=function(D){return ce.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,Y){return ce.H.useDeferredValue(D,Y)},Re.useEffect=function(D,Y){return ce.H.useEffect(D,Y)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(D,Y,le){return ce.H.useImperativeHandle(D,Y,le)},Re.useInsertionEffect=function(D,Y){return ce.H.useInsertionEffect(D,Y)},Re.useLayoutEffect=function(D,Y){return ce.H.useLayoutEffect(D,Y)},Re.useMemo=function(D,Y){return ce.H.useMemo(D,Y)},Re.useOptimistic=function(D,Y){return ce.H.useOptimistic(D,Y)},Re.useReducer=function(D,Y,le){return ce.H.useReducer(D,Y,le)},Re.useRef=function(D){return ce.H.useRef(D)},Re.useState=function(D){return ce.H.useState(D)},Re.useSyncExternalStore=function(D,Y,le){return ce.H.useSyncExternalStore(D,Y,le)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.0.0",Re}var R_;function dp(){return R_||(R_=1,fm.exports=KS()),fm.exports}var B=dp();const sa=FS(B);var mm={exports:{}},Hl={},pm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function QS(){return C_||(C_=1,function(i){function e(re,ve){var ie=re.length;re.push(ve);e:for(;0<ie;){var be=ie-1>>>1,D=re[be];if(0<o(D,ve))re[be]=ve,re[ie]=D,ie=be;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ve=re[0],ie=re.pop();if(ie!==ve){re[0]=ie;e:for(var be=0,D=re.length,Y=D>>>1;be<Y;){var le=2*(be+1)-1,oe=re[le],ue=le+1,Ce=re[ue];if(0>o(oe,ie))ue<D&&0>o(Ce,oe)?(re[be]=Ce,re[ue]=ie,be=ue):(re[be]=oe,re[le]=ie,be=le);else if(ue<D&&0>o(Ce,ie))re[be]=Ce,re[ue]=ie,be=ue;else break e}}return ve}function o(re,ve){var ie=re.sortIndex-ve.sortIndex;return ie!==0?ie:re.id-ve.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var g=[],y=[],T=1,x=null,R=3,O=!1,V=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function Q(re){for(var ve=t(y);ve!==null;){if(ve.callback===null)r(y);else if(ve.startTime<=re)r(y),ve.sortIndex=ve.expirationTime,e(g,ve);else break;ve=t(y)}}function ae(re){if(K=!1,Q(re),!V)if(t(g)!==null)V=!0,mt();else{var ve=t(y);ve!==null&&at(ae,ve.startTime-re)}}var ce=!1,me=-1,N=5,A=-1;function S(){return!(i.unstable_now()-A<N)}function I(){if(ce){var re=i.unstable_now();A=re;var ve=!0;try{e:{V=!1,K&&(K=!1,$(me),me=-1),O=!0;var ie=R;try{t:{for(Q(re),x=t(g);x!==null&&!(x.expirationTime>re&&S());){var be=x.callback;if(typeof be=="function"){x.callback=null,R=x.priorityLevel;var D=be(x.expirationTime<=re);if(re=i.unstable_now(),typeof D=="function"){x.callback=D,Q(re),ve=!0;break t}x===t(g)&&r(g),Q(re)}else r(g);x=t(g)}if(x!==null)ve=!0;else{var Y=t(y);Y!==null&&at(ae,Y.startTime-re),ve=!1}}break e}finally{x=null,R=ie,O=!1}ve=void 0}}finally{ve?k():ce=!1}}}var k;if(typeof Z=="function")k=function(){Z(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=I,k=function(){j.postMessage(null)}}else k=function(){q(I,0)};function mt(){ce||(ce=!0,k())}function at(re,ve){me=q(function(){re(i.unstable_now())},ve)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){V||O||(V=!0,mt())},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return t(g)},i.unstable_next=function(re){switch(R){case 1:case 2:case 3:var ve=3;break;default:ve=R}var ie=R;R=ve;try{return re()}finally{R=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,ve){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ie=R;R=re;try{return ve()}finally{R=ie}},i.unstable_scheduleCallback=function(re,ve,ie){var be=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?be+ie:be):ie=be,re){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ie+D,re={id:T++,callback:ve,priorityLevel:re,startTime:ie,expirationTime:D,sortIndex:-1},ie>be?(re.sortIndex=ie,e(y,re),t(g)===null&&re===t(y)&&(K?($(me),me=-1):K=!0,at(ae,ie-be))):(re.sortIndex=D,e(g,re),V||O||(V=!0,mt())),re},i.unstable_shouldYield=S,i.unstable_wrapCallback=function(re){var ve=R;return function(){var ie=R;R=ve;try{return re.apply(this,arguments)}finally{R=ie}}}}(gm)),gm}var I_;function YS(){return I_||(I_=1,pm.exports=QS()),pm.exports}var ym={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function XS(){if(j_)return Wt;j_=1;var i=dp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:y,implementation:T}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,T)},Wt.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},Wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Wt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,x=m(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:R,fetchPriority:O}):T==="script"&&r.d.X(g,{crossOrigin:x,integrity:R,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,x=m(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Wt.requestFormReset=function(g){r.d.r(g)},Wt.unstable_batchedUpdates=function(g,y){return g(y)},Wt.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},Wt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var N_;function WS(){if(N_)return ym.exports;N_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ym.exports=XS(),ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function ZS(){if(D_)return Hl;D_=1;var i=YS(),e=dp(),t=WS();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),ae=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function me(n){return n===null||typeof n!="object"?null:(n=ce&&n[ce]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function A(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case g:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case V:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return s=n.displayName||null,s!==null?s:A(n.type)||"Memo";case Z:s=n._payload,n=n._init;try{return A(n(s))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,k,U;function j(n){if(k===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);k=s&&s[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+n+U}var mt=!1;function at(n,s){if(!n||mt)return"";mt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var F=X}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(X){F=X}n.call(ne.prototype)}}else{try{throw Error()}catch(X){F=X}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&F&&typeof X.stack=="string")return[X.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var C=E.split(`
`),P=b.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===P.length)for(l=C.length-1,f=P.length-1;1<=l&&0<=f&&C[l]!==P[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==P[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==P[f]){var W=`
`+C[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{mt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?j(a):""}function re(n){switch(n.tag){case 26:case 27:case 5:return j(n.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 15:return n=at(n.type,!1),n;case 11:return n=at(n.type.render,!1),n;case 1:return n=at(n.type,!0),n;default:return""}}function ve(n){try{var s="";do s+=re(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ie(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function be(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function D(n){if(ie(n)!==n)throw Error(r(188))}function Y(n){var s=n.alternate;if(!s){if(s=ie(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return D(f),n;if(p===l)return D(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=p;break}if(b===l){E=!0,l=f,a=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===a){E=!0,a=p,l=f;break}if(b===l){E=!0,l=p,a=f;break}b=b.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function le(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=le(n),s!==null)return s;n=n.sibling}return null}var oe=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Ae=[],_t=-1;function ze(n){return{current:n}}function ot(n){0>_t||(n.current=Ae[_t],Ae[_t]=null,_t--)}function $e(n,s){_t++,Ae[_t]=n.current,n.current=s}var nn=ze(null),Oi=ze(null),Cn=ze(null),_s=ze(null);function Es(n,s){switch($e(Cn,s),$e(Oi,n),$e(nn,null),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Jv(s):0;break;default:if(n=n===8?s.parentNode:s,s=n.tagName,n=n.namespaceURI)n=Jv(n),s=e_(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ot(nn),$e(nn,s)}function ki(){ot(nn),ot(Oi),ot(Cn)}function Vo(n){n.memoizedState!==null&&$e(_s,n);var s=nn.current,a=e_(s,n.type);s!==a&&($e(Oi,n),$e(nn,a))}function Ea(n){Oi.current===n&&(ot(nn),ot(Oi)),_s.current===n&&(ot(_s),Vl._currentValue=Ce)}var Ta=Object.prototype.hasOwnProperty,br=i.unstable_scheduleCallback,ba=i.unstable_cancelCallback,fd=i.unstable_shouldYield,Lo=i.unstable_requestPaint,un=i.unstable_now,Ic=i.unstable_getCurrentPriorityLevel,St=i.unstable_ImmediatePriority,kt=i.unstable_UserBlockingPriority,Mi=i.unstable_NormalPriority,jc=i.unstable_LowPriority,Uo=i.unstable_IdlePriority,md=i.log,wr=i.unstable_setDisableYieldValue,Ts=null,Yt=null;function zo(n){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Ts,n,void 0,(n.current.flags&128)===128)}catch{}}function li(n){if(typeof md=="function"&&wr(n),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Ts,n)}catch{}}var sn=Math.clz32?Math.clz32:Dc,Bo=Math.log,Nc=Math.LN2;function Dc(n){return n>>>=0,n===0?32:31-(Bo(n)/Nc|0)|0}var ci=128,bs=4194304;function Yn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function In(n,s){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,p=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~f,a!==0?l=Yn(a):(p&=b,p!==0?l=Yn(p):n||(E=b&~E,E!==0&&(l=Yn(E))))):(b=a&~f,b!==0?l=Yn(b):p!==0?l=Yn(p):n||(E=a&~E,E!==0&&(l=Yn(E)))),l===0?0:s!==0&&s!==l&&(s&f)===0&&(f=l&-l,E=s&-s,f>=E||f===32&&(E&4194176)!==0)?s:l}function ws(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function wa(n,s){switch(n){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var n=ci;return ci<<=1,(ci&4194176)===0&&(ci=128),n}function xs(){var n=bs;return bs<<=1,(bs&62914560)===0&&(bs=4194304),n}function xa(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function pt(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Oc(n,s,a,l,f,p){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,C=n.expirationTimes,P=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-sn(a),ne=1<<W;b[W]=0,C[W]=-1;var F=P[W];if(F!==null)for(P[W]=null,W=0;W<F.length;W++){var X=F[W];X!==null&&(X.lane&=-536870913)}a&=~ne}l!==0&&Ss(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~s))}function Ss(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-sn(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function As(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-sn(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function kc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Mc(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:v_(n.type))}function Rs(n,s){var a=ue.p;try{return ue.p=n,s()}finally{ue.p=a}}var ui=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ui,At="__reactProps$"+ui,Pi="__reactContainer$"+ui,xr="__reactEvents$"+ui,Sa="__reactListeners$"+ui,hi="__reactHandles$"+ui,Ho="__reactResources$"+ui,Cs="__reactMarker$"+ui;function Sr(n){delete n[Mt],delete n[At],delete n[xr],delete n[Sa],delete n[hi]}function Xn(n){var s=n[Mt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Pi]||a[Mt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=i_(n);n!==null;){if(a=n[Mt])return a;n=i_(n)}return s}n=a,a=n.parentNode}return null}function Vi(n){if(n=n[Mt]||n[Pi]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Is(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function js(n){var s=n[Ho];return s||(s=n[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function tt(n){n[Cs]=!0}var Fo=new Set,Aa={};function vn(n,s){hn(n,s),hn(n+"Capture",s)}function hn(n,s){for(Aa[n]=s,n=0;n<s.length;n++)Fo.add(s[n])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},$o={};function Pc(n){return Ta.call($o,n)?!0:Ta.call(Go,n)?!1:pd.test(n)?$o[n]=!0:(Go[n]=!0,!1)}function Ns(n,s,a){if(Pc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Ds(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function jn(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Vc(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gd(n){var s=Vc(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ar(n){n._valueTracker||(n._valueTracker=gd(n))}function Ko(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Vc(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Ra(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Li=/[\n"\\]/g;function lt(n){return n.replace(Li,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Os(n,s,a,l,f,p,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+rn(s)):n.value!==""+rn(s)&&(n.value=""+rn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Ca(n,E,rn(s)):a!=null?Ca(n,E,rn(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+rn(b):n.removeAttribute("name")}function Rr(n,s,a,l,f,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;a=a!=null?""+rn(a):"",s=s!=null?""+rn(s):a,b||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ca(n,s,a){s==="number"&&Ra(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Be(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Cr(n,s,a){if(s!=null&&(s=""+rn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+rn(a):""}function ks(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(oe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=rn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Nn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var yd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||yd.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Lc(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Qo(n,f,l)}else for(var p in s)s.hasOwnProperty(p)&&Qo(n,p,s[p])}function Yo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_d=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function di(n){return _d.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Dn=null;function Ia(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ui=null,zi=null;function Bi(n){var s=Vi(n);if(s&&(n=s.stateNode)){var a=n[At]||null;e:switch(n=s.stateNode,s.type){case"input":if(Os(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[At]||null;if(!f)throw Error(r(90));Os(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Ko(l)}break e;case"textarea":Cr(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Be(n,!!a.multiple,s,!1)}}}var Xo=!1;function Uc(n,s,a){if(Xo)return n(s,a);Xo=!0;try{var l=n(s);return l}finally{if(Xo=!1,(Ui!==null||zi!==null)&&(ju(),Ui&&(s=Ui,n=zi,zi=Ui=null,Bi(s),n)))for(s=0;s<n.length;s++)Bi(n[s])}}function Ir(n,s){var a=n.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var On=!1;if(_n)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){On=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{On=!1}var fi=null,Ms=null,qi=null;function Wo(){if(qi)return qi;var n,s=Ms,a=s.length,l,f="value"in fi?fi.value:fi.textContent,p=f.length;for(n=0;n<a&&s[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&s[a-l]===f[p-l];l++);return qi=f.slice(n,1<l?1-l:void 0)}function mi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function pi(){return!0}function Zo(){return!1}function Pt(n){function s(a,l,f,p,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pi:Zo,this.isPropagationStopped=Zo,this}return I(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),s}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Pt(Fe),Nr=I({},Fe,{view:0,detail:0}),zc=Pt(Nr),Na,Da,gi,Dr=I({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gi&&(gi&&n.type==="mousemove"?(Na=n.screenX-gi.screenX,Da=n.screenY-gi.screenY):Da=Na=0,gi=n),Na)},movementY:function(n){return"movementY"in n?n.movementY:Da}}),kn=Pt(Dr),Bc=I({},Dr,{dataTransfer:0}),Ed=Pt(Bc),Or=I({},Nr,{relatedTarget:0}),Oa=Pt(Or),Jo=I({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=Pt(Jo),qc=I({},Fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ma=Pt(qc),Td=I({},Fe,{data:0}),el=Pt(Td),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Fc[n])?!!s[n]:!1}function Mr(){return tl}var Gc=I({},Nr,{key:function(n){if(n.key){var s=kr[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=mi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(n){return n.type==="keypress"?mi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pa=Pt(Gc),$c=I({},Dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Pt($c),Hi=I({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),Kc=Pt(Hi),Qc=I({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yc=Pt(Qc),Xc=I({},Dr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=Pt(Xc),an=I({},Fe,{newState:0,oldState:0}),Wc=Pt(an),Zc=[9,13,27,32],yi=_n&&"CompositionEvent"in window,h=null;_n&&"documentMode"in document&&(h=document.documentMode);var v=_n&&"TextEvent"in window&&!h,_=_n&&(!yi||h&&8<h&&11>=h),w=" ",z=!1;function G(n,s){switch(n){case"keyup":return Zc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function Rt(n,s){switch(n){case"compositionend":return se(s);case"keypress":return s.which!==32?null:(z=!0,w);case"textInput":return n=s.data,n===w&&z?null:n;default:return null}}function Ve(n,s){if(Pe)return n==="compositionend"||!yi&&G(n,s)?(n=Wo(),qi=Ms=fi=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Vt[n.type]:s==="textarea"}function Fi(n,s,a,l){Ui?zi?zi.push(l):zi=[l]:Ui=l,s=Mu(s,"onChange"),0<s.length&&(a=new ja("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var qt=null,vi=null;function il(n){Qv(n,0)}function Jc(n){var s=Is(n);if(Ko(s))return n}function wg(n,s){if(n==="change")return s}var xg=!1;if(_n){var bd;if(_n){var wd="oninput"in document;if(!wd){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),wd=typeof Sg.oninput=="function"}bd=wd}else bd=!1;xg=bd&&(!document.documentMode||9<document.documentMode)}function Ag(){qt&&(qt.detachEvent("onpropertychange",Rg),vi=qt=null)}function Rg(n){if(n.propertyName==="value"&&Jc(vi)){var s=[];Fi(s,vi,n,Ia(n)),Uc(il,s)}}function Ex(n,s,a){n==="focusin"?(Ag(),qt=s,vi=a,qt.attachEvent("onpropertychange",Rg)):n==="focusout"&&Ag()}function Tx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Jc(vi)}function bx(n,s){if(n==="click")return Jc(s)}function wx(n,s){if(n==="input"||n==="change")return Jc(s)}function xx(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var En=typeof Object.is=="function"?Object.is:xx;function sl(n,s){if(En(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ta.call(s,f)||!En(n[f],s[f]))return!1}return!0}function Cg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ig(n,s){var a=Cg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cg(a)}}function jg(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?jg(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Ng(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ra(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ra(n.document)}return s}function xd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Sx(n,s){var a=Ng(s);s=n.focusedElem;var l=n.selectionRange;if(a!==s&&s&&s.ownerDocument&&jg(s.ownerDocument.documentElement,s)){if(l!==null&&xd(s)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(a,s.value.length);else if(a=(n=s.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=s.textContent.length,p=Math.min(l.start,f);l=l.end===void 0?p:Math.min(l.end,f),!a.extend&&p>l&&(f=l,l=p,p=f),f=Ig(s,p);var E=Ig(s,l);f&&E&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),p>l?(a.addRange(n),a.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),a.addRange(n)))}}for(n=[],a=s;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)a=n[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Ax=_n&&"documentMode"in document&&11>=document.documentMode,La=null,Sd=null,rl=null,Ad=!1;function Dg(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ad||La==null||La!==Ra(l)||(l=La,"selectionStart"in l&&xd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&sl(rl,l)||(rl=l,l=Mu(Sd,"onSelect"),0<l.length&&(s=new ja("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=La)))}function Pr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ua={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Rd={},Og={};_n&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Vr(n){if(Rd[n])return Rd[n];if(!Ua[n])return n;var s=Ua[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Og)return Rd[n]=s[a];return n}var kg=Vr("animationend"),Mg=Vr("animationiteration"),Pg=Vr("animationstart"),Rx=Vr("transitionrun"),Cx=Vr("transitionstart"),Ix=Vr("transitioncancel"),Vg=Vr("transitionend"),Lg=new Map,Ug="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Wn(n,s){Lg.set(n,s),vn(s,[n])}var Mn=[],za=0,Cd=0;function eu(){for(var n=za,s=Cd=za=0;s<n;){var a=Mn[s];Mn[s++]=null;var l=Mn[s];Mn[s++]=null;var f=Mn[s];Mn[s++]=null;var p=Mn[s];if(Mn[s++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&zg(a,f,p)}}function tu(n,s,a,l){Mn[za++]=n,Mn[za++]=s,Mn[za++]=a,Mn[za++]=l,Cd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Id(n,s,a,l){return tu(n,s,a,l),nu(n)}function Ps(n,s){return tu(n,null,null,s),nu(n)}function zg(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;f&&s!==null&&n.tag===3&&(p=n.stateNode,f=31-sn(a),p=p.hiddenUpdates,n=p[f],n===null?p[f]=[s]:n.push(s),s.lane=a|536870912)}function nu(n){if(50<jl)throw jl=0,Pf=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ba={},Bg=new WeakMap;function Pn(n,s){if(typeof n=="object"&&n!==null){var a=Bg.get(n);return a!==void 0?a:(s={value:n,source:s,stack:ve(s)},Bg.set(n,s),s)}return{value:n,source:s,stack:ve(s)}}var qa=[],Ha=0,iu=null,su=0,Vn=[],Ln=0,Lr=null,Gi=1,$i="";function Ur(n,s){qa[Ha++]=su,qa[Ha++]=iu,iu=n,su=s}function qg(n,s,a){Vn[Ln++]=Gi,Vn[Ln++]=$i,Vn[Ln++]=Lr,Lr=n;var l=Gi;n=$i;var f=32-sn(l)-1;l&=~(1<<f),a+=1;var p=32-sn(s)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Gi=1<<32-sn(s)+f|a<<f|l,$i=p+n}else Gi=1<<p|a<<f|l,$i=n}function jd(n){n.return!==null&&(Ur(n,1),qg(n,1,0))}function Nd(n){for(;n===iu;)iu=qa[--Ha],qa[Ha]=null,su=qa[--Ha],qa[Ha]=null;for(;n===Lr;)Lr=Vn[--Ln],Vn[Ln]=null,$i=Vn[--Ln],Vn[Ln]=null,Gi=Vn[--Ln],Vn[Ln]=null}var on=null,Ht=null,qe=!1,Zn=null,_i=!1,Dd=Error(r(519));function zr(n){var s=Error(r(418,""));throw ll(Pn(s,n)),Dd}function Hg(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Mt]=n,s[At]=l,a){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(a=0;a<Dl.length;a++)ke(Dl[a],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),Rr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ar(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),ks(s,l.value,l.defaultValue,l.children),Ar(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Zv(s.textContent,a)?(l.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),l.onScroll!=null&&ke("scroll",s),l.onScrollEnd!=null&&ke("scrollend",s),l.onClick!=null&&(s.onclick=Pu),s=!0):s=!1,s||zr(n)}function Fg(n){for(on=n.return;on;)switch(on.tag){case 3:case 27:_i=!0;return;case 5:case 13:_i=!1;return;default:on=on.return}}function al(n){if(n!==on)return!1;if(!qe)return Fg(n),qe=!0,!1;var s=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Jf(n.type,n.memoizedProps)),a=!a),a&&(s=!0),s&&Ht&&zr(n),Fg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){Ht=ei(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}Ht=null}}else Ht=on?ei(n.stateNode.nextSibling):null;return!0}function ol(){Ht=on=null,qe=!1}function ll(n){Zn===null?Zn=[n]:Zn.push(n)}var cl=Error(r(460)),Gg=Error(r(474)),Od={then:function(){}};function $g(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ru(){}function Kg(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(ru,ru),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===cl?Error(r(483)):n;default:if(typeof s.status=="string")s.then(ru,ru);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===cl?Error(r(483)):n}throw ul=s,cl}}var ul=null;function Qg(){if(ul===null)throw Error(r(459));var n=ul;return ul=null,n}var Fa=null,hl=0;function au(n){var s=hl;return hl+=1,Fa===null&&(Fa=[]),Kg(Fa,n,s)}function dl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function ou(n,s){throw s.$$typeof===c?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Yg(n){var s=n._init;return s(n._payload)}function Xg(n){function s(L,M){if(n){var H=L.deletions;H===null?(L.deletions=[M],L.flags|=16):H.push(M)}}function a(L,M){if(!n)return null;for(;M!==null;)s(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function f(L,M){return L=Qs(L,M),L.index=0,L.sibling=null,L}function p(L,M,H){return L.index=H,n?(H=L.alternate,H!==null?(H=H.index,H<M?(L.flags|=33554434,M):H):(L.flags|=33554434,M)):(L.flags|=1048576,M)}function E(L){return n&&L.alternate===null&&(L.flags|=33554434),L}function b(L,M,H,J){return M===null||M.tag!==6?(M=Cf(H,L.mode,J),M.return=L,M):(M=f(M,H),M.return=L,M)}function C(L,M,H,J){var fe=H.type;return fe===g?W(L,M,H.props.children,J,H.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Z&&Yg(fe)===M.type)?(M=f(M,H.props),dl(M,H),M.return=L,M):(M=Su(H.type,H.key,H.props,null,L.mode,J),dl(M,H),M.return=L,M)}function P(L,M,H,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=If(H,L.mode,J),M.return=L,M):(M=f(M,H.children||[]),M.return=L,M)}function W(L,M,H,J,fe){return M===null||M.tag!==7?(M=Xr(H,L.mode,J,fe),M.return=L,M):(M=f(M,H),M.return=L,M)}function ne(L,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Cf(""+M,L.mode,H),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case d:return H=Su(M.type,M.key,M.props,null,L.mode,H),dl(H,M),H.return=L,H;case m:return M=If(M,L.mode,H),M.return=L,M;case Z:var J=M._init;return M=J(M._payload),ne(L,M,H)}if(oe(M)||me(M))return M=Xr(M,L.mode,H,null),M.return=L,M;if(typeof M.then=="function")return ne(L,au(M),H);if(M.$$typeof===O)return ne(L,bu(L,M),H);ou(L,M)}return null}function F(L,M,H,J){var fe=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:b(L,M,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case d:return H.key===fe?C(L,M,H,J):null;case m:return H.key===fe?P(L,M,H,J):null;case Z:return fe=H._init,H=fe(H._payload),F(L,M,H,J)}if(oe(H)||me(H))return fe!==null?null:W(L,M,H,J,null);if(typeof H.then=="function")return F(L,M,au(H),J);if(H.$$typeof===O)return F(L,M,bu(L,H),J);ou(L,H)}return null}function X(L,M,H,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(H)||null,b(M,L,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case d:return L=L.get(J.key===null?H:J.key)||null,C(M,L,J,fe);case m:return L=L.get(J.key===null?H:J.key)||null,P(M,L,J,fe);case Z:var je=J._init;return J=je(J._payload),X(L,M,H,J,fe)}if(oe(J)||me(J))return L=L.get(H)||null,W(M,L,J,fe,null);if(typeof J.then=="function")return X(L,M,H,au(J),fe);if(J.$$typeof===O)return X(L,M,H,bu(M,J),fe);ou(M,J)}return null}function pe(L,M,H,J){for(var fe=null,je=null,ge=M,_e=M=0,zt=null;ge!==null&&_e<H.length;_e++){ge.index>_e?(zt=ge,ge=null):zt=ge.sibling;var He=F(L,ge,H[_e],J);if(He===null){ge===null&&(ge=zt);break}n&&ge&&He.alternate===null&&s(L,ge),M=p(He,M,_e),je===null?fe=He:je.sibling=He,je=He,ge=zt}if(_e===H.length)return a(L,ge),qe&&Ur(L,_e),fe;if(ge===null){for(;_e<H.length;_e++)ge=ne(L,H[_e],J),ge!==null&&(M=p(ge,M,_e),je===null?fe=ge:je.sibling=ge,je=ge);return qe&&Ur(L,_e),fe}for(ge=l(ge);_e<H.length;_e++)zt=X(ge,L,_e,H[_e],J),zt!==null&&(n&&zt.alternate!==null&&ge.delete(zt.key===null?_e:zt.key),M=p(zt,M,_e),je===null?fe=zt:je.sibling=zt,je=zt);return n&&ge.forEach(function(tr){return s(L,tr)}),qe&&Ur(L,_e),fe}function xe(L,M,H,J){if(H==null)throw Error(r(151));for(var fe=null,je=null,ge=M,_e=M=0,zt=null,He=H.next();ge!==null&&!He.done;_e++,He=H.next()){ge.index>_e?(zt=ge,ge=null):zt=ge.sibling;var tr=F(L,ge,He.value,J);if(tr===null){ge===null&&(ge=zt);break}n&&ge&&tr.alternate===null&&s(L,ge),M=p(tr,M,_e),je===null?fe=tr:je.sibling=tr,je=tr,ge=zt}if(He.done)return a(L,ge),qe&&Ur(L,_e),fe;if(ge===null){for(;!He.done;_e++,He=H.next())He=ne(L,He.value,J),He!==null&&(M=p(He,M,_e),je===null?fe=He:je.sibling=He,je=He);return qe&&Ur(L,_e),fe}for(ge=l(ge);!He.done;_e++,He=H.next())He=X(ge,L,_e,He.value,J),He!==null&&(n&&He.alternate!==null&&ge.delete(He.key===null?_e:He.key),M=p(He,M,_e),je===null?fe=He:je.sibling=He,je=He);return n&&ge.forEach(function(HS){return s(L,HS)}),qe&&Ur(L,_e),fe}function ht(L,M,H,J){if(typeof H=="object"&&H!==null&&H.type===g&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case d:e:{for(var fe=H.key;M!==null;){if(M.key===fe){if(fe=H.type,fe===g){if(M.tag===7){a(L,M.sibling),J=f(M,H.props.children),J.return=L,L=J;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Z&&Yg(fe)===M.type){a(L,M.sibling),J=f(M,H.props),dl(J,H),J.return=L,L=J;break e}a(L,M);break}else s(L,M);M=M.sibling}H.type===g?(J=Xr(H.props.children,L.mode,J,H.key),J.return=L,L=J):(J=Su(H.type,H.key,H.props,null,L.mode,J),dl(J,H),J.return=L,L=J)}return E(L);case m:e:{for(fe=H.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(L,M.sibling),J=f(M,H.children||[]),J.return=L,L=J;break e}else{a(L,M);break}else s(L,M);M=M.sibling}J=If(H,L.mode,J),J.return=L,L=J}return E(L);case Z:return fe=H._init,H=fe(H._payload),ht(L,M,H,J)}if(oe(H))return pe(L,M,H,J);if(me(H)){if(fe=me(H),typeof fe!="function")throw Error(r(150));return H=fe.call(H),xe(L,M,H,J)}if(typeof H.then=="function")return ht(L,M,au(H),J);if(H.$$typeof===O)return ht(L,M,bu(L,H),J);ou(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(L,M.sibling),J=f(M,H),J.return=L,L=J):(a(L,M),J=Cf(H,L.mode,J),J.return=L,L=J),E(L)):a(L,M)}return function(L,M,H,J){try{hl=0;var fe=ht(L,M,H,J);return Fa=null,fe}catch(ge){if(ge===cl)throw ge;var je=qn(29,ge,null,L.mode);return je.lanes=J,je.return=L,je}finally{}}}var Br=Xg(!0),Wg=Xg(!1),Ga=ze(null),lu=ze(0);function Zg(n,s){n=is,$e(lu,n),$e(Ga,s),is=n|s.baseLanes}function kd(){$e(lu,is),$e(Ga,Ga.current)}function Md(){is=lu.current,ot(Ga),ot(lu)}var Un=ze(null),Ei=null;function Vs(n){var s=n.alternate;$e(It,It.current&1),$e(Un,n),Ei===null&&(s===null||Ga.current!==null||s.memoizedState!==null)&&(Ei=n)}function Jg(n){if(n.tag===22){if($e(It,It.current),$e(Un,n),Ei===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Ei=n)}}else Ls()}function Ls(){$e(It,It.current),$e(Un,Un.current)}function Ki(n){ot(Un),Ei===n&&(Ei=null),ot(It)}var It=ze(0);function cu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var jx=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Nx=i.unstable_scheduleCallback,Dx=i.unstable_NormalPriority,jt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new jx,data:new Map,refCount:0}}function fl(n){n.refCount--,n.refCount===0&&Nx(Dx,function(){n.controller.abort()})}var ml=null,Vd=0,$a=0,Ka=null;function Ox(n,s){if(ml===null){var a=ml=[];Vd=0,$a=Ff(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vd++,s.then(ey,ey),s}function ey(){if(--Vd===0&&ml!==null){Ka!==null&&(Ka.status="fulfilled");var n=ml;ml=null,$a=0,Ka=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function kx(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ty=S.S;S.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ox(n,s),ty!==null&&ty(n,s)};var qr=ze(null);function Ld(){var n=qr.current;return n!==null?n:Xe.pooledCache}function uu(n,s){s===null?$e(qr,qr.current):$e(qr,s.pool)}function ny(){var n=Ld();return n===null?null:{parent:jt._currentValue,pool:n}}var Us=0,Ie=null,Ke=null,Et=null,hu=!1,Qa=!1,Hr=!1,du=0,pl=0,Ya=null,Mx=0;function gt(){throw Error(r(321))}function Ud(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!En(n[a],s[a]))return!1;return!0}function zd(n,s,a,l,f,p){return Us=p,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,S.H=n===null||n.memoizedState===null?Fr:zs,Hr=!1,p=a(l,f),Hr=!1,Qa&&(p=sy(s,a,l,f)),iy(n),p}function iy(n){S.H=Ti;var s=Ke!==null&&Ke.next!==null;if(Us=0,Et=Ke=Ie=null,hu=!1,pl=0,Ya=null,s)throw Error(r(300));n===null||Lt||(n=n.dependencies,n!==null&&Tu(n)&&(Lt=!0))}function sy(n,s,a,l){Ie=n;var f=0;do{if(Qa&&(Ya=null),pl=0,Qa=!1,25<=f)throw Error(r(301));if(f+=1,Et=Ke=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}S.H=Gr,p=s(a,l)}while(Qa);return p}function Px(){var n=S.H,s=n.useState()[0];return s=typeof s.then=="function"?gl(s):s,n=n.useState()[0],(Ke!==null?Ke.memoizedState:null)!==n&&(Ie.flags|=1024),s}function Bd(){var n=du!==0;return du=0,n}function qd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Hd(n){if(hu){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}hu=!1}Us=0,Et=Ke=Ie=null,Qa=!1,pl=du=0,Ya=null}function dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ie.memoizedState=Et=n:Et=Et.next=n,Et}function Tt(){if(Ke===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Ke.next;var s=Et===null?Ie.memoizedState:Et.next;if(s!==null)Et=s,Ke=n;else{if(n===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));Ke=n,n={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Et===null?Ie.memoizedState=Et=n:Et=Et.next=n}return Et}var fu;fu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function gl(n){var s=pl;return pl+=1,Ya===null&&(Ya=[]),n=Kg(Ya,n,s),s=Ie,(Et===null?s.memoizedState:Et.next)===null&&(s=s.alternate,S.H=s===null||s.memoizedState===null?Fr:zs),n}function mu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return gl(n);if(n.$$typeof===O)return Xt(n)}throw Error(r(438,String(n)))}function Fd(n){var s=null,a=Ie.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=fu(),Ie.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=ae;return s.index++,a}function Qi(n,s){return typeof s=="function"?s(n):s}function pu(n){var s=Tt();return Gd(s,Ke,n)}function Gd(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var b=E=null,C=null,P=s,W=!1;do{var ne=P.lane&-536870913;if(ne!==P.lane?(Le&ne)===ne:(Us&ne)===ne){var F=P.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),ne===$a&&(W=!0);else if((Us&F)===F){P=P.next,F===$a&&(W=!0);continue}else ne={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(b=C=ne,E=p):C=C.next=ne,Ie.lanes|=F,Ys|=F;ne=P.action,Hr&&a(p,ne),p=P.hasEagerState?P.eagerState:a(p,ne)}else F={lane:ne,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(b=C=F,E=p):C=C.next=F,Ie.lanes|=ne,Ys|=ne;P=P.next}while(P!==null&&P!==s);if(C===null?E=p:C.next=b,!En(p,n.memoizedState)&&(Lt=!0,W&&(a=Ka,a!==null)))throw a;n.memoizedState=p,n.baseState=E,n.baseQueue=C,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function $d(n){var s=Tt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);En(p,s.memoizedState)||(Lt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function ry(n,s,a){var l=Ie,f=Tt(),p=qe;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!En((Ke||f).memoizedState,a);if(E&&(f.memoizedState=a,Lt=!0),f=f.queue,Yd(ly.bind(null,l,f,n),[n]),f.getSnapshot!==s||E||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Xa(9,oy.bind(null,l,f,a,s),{destroy:void 0},null),Xe===null)throw Error(r(349));p||(Us&60)!==0||ay(l,s,a)}return a}function ay(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ie.updateQueue,s===null?(s=fu(),Ie.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function oy(n,s,a,l){s.value=a,s.getSnapshot=l,cy(s)&&uy(n)}function ly(n,s,a){return a(function(){cy(s)&&uy(n)})}function cy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!En(n,a)}catch{return!0}}function uy(n){var s=Ps(n,2);s!==null&&ln(s,n,2)}function Kd(n){var s=dn();if(typeof n=="function"){var a=n;if(n=a(),Hr){li(!0);try{a()}finally{li(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:n},s}function hy(n,s,a,l){return n.baseState=a,Gd(n,Ke,typeof l=="function"?l:Qi)}function Vx(n,s,a,l,f){if(vu(n))throw Error(r(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};S.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,dy(s,p)):(p.next=a.next,s.pending=a.next=p)}}function dy(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var p=S.T,E={};S.T=E;try{var b=a(f,l),C=S.S;C!==null&&C(E,b),fy(n,s,b)}catch(P){Qd(n,s,P)}finally{S.T=p}}else try{p=a(f,l),fy(n,s,p)}catch(P){Qd(n,s,P)}}function fy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){my(n,s,l)},function(l){return Qd(n,s,l)}):my(n,s,a)}function my(n,s,a){s.status="fulfilled",s.value=a,py(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,dy(n,a)))}function Qd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,py(s),s=s.next;while(s!==l)}n.action=null}function py(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function gy(n,s){return s}function yy(n,s){if(qe){var a=Xe.formState;if(a!==null){e:{var l=Ie;if(qe){if(Ht){t:{for(var f=Ht,p=_i;f.nodeType!==8;){if(!p){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ht=ei(f.nextSibling),l=f.data==="F!";break e}}zr(l)}l=!1}l&&(s=a[0])}}return a=dn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:s},a.queue=l,a=My.bind(null,Ie,l),l.dispatch=a,l=Kd(!1),p=ef.bind(null,Ie,!1,l.queue),l=dn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=Vx.bind(null,Ie,f,p,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function vy(n){var s=Tt();return _y(s,Ke,n)}function _y(n,s,a){s=Gd(n,s,gy)[0],n=pu(Qi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?gl(s):s;var l=Tt(),f=l.queue,p=f.dispatch;return a!==l.memoizedState&&(Ie.flags|=2048,Xa(9,Lx.bind(null,f,a),{destroy:void 0},null)),[s,p,n]}function Lx(n,s){n.action=s}function Ey(n){var s=Tt(),a=Ke;if(a!==null)return _y(s,a,n);Tt(),s=s.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Xa(n,s,a,l){return n={tag:n,create:s,inst:a,deps:l,next:null},s=Ie.updateQueue,s===null&&(s=fu(),Ie.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function Ty(){return Tt().memoizedState}function gu(n,s,a,l){var f=dn();Ie.flags|=n,f.memoizedState=Xa(1|s,a,{destroy:void 0},l===void 0?null:l)}function yu(n,s,a,l){var f=Tt();l=l===void 0?null:l;var p=f.memoizedState.inst;Ke!==null&&l!==null&&Ud(l,Ke.memoizedState.deps)?f.memoizedState=Xa(s,a,p,l):(Ie.flags|=n,f.memoizedState=Xa(1|s,a,p,l))}function by(n,s){gu(8390656,8,n,s)}function Yd(n,s){yu(2048,8,n,s)}function wy(n,s){return yu(4,2,n,s)}function xy(n,s){return yu(4,4,n,s)}function Sy(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Ay(n,s,a){a=a!=null?a.concat([n]):null,yu(4,4,Sy.bind(null,s,n),a)}function Xd(){}function Ry(n,s){var a=Tt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Ud(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function Cy(n,s){var a=Tt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Ud(s,l[1]))return l[0];if(l=n(),Hr){li(!0);try{n()}finally{li(!1)}}return a.memoizedState=[l,s],l}function Wd(n,s,a){return a===void 0||(Us&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=jv(),Ie.lanes|=n,Ys|=n,a)}function Iy(n,s,a,l){return En(a,s)?a:Ga.current!==null?(n=Wd(n,a,l),En(n,s)||(Lt=!0),n):(Us&42)===0?(Lt=!0,n.memoizedState=a):(n=jv(),Ie.lanes|=n,Ys|=n,s)}function jy(n,s,a,l,f){var p=ue.p;ue.p=p!==0&&8>p?p:8;var E=S.T,b={};S.T=b,ef(n,!1,s,a);try{var C=f(),P=S.S;if(P!==null&&P(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=kx(C,l);yl(n,s,W,xn(n))}else yl(n,s,l,xn(n))}catch(ne){yl(n,s,{then:function(){},status:"rejected",reason:ne},xn())}finally{ue.p=p,S.T=E}}function Ux(){}function Zd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=Ny(n).queue;jy(n,f,s,Ce,a===null?Ux:function(){return Dy(n),a(l)})}function Ny(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:Ce},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Dy(n){var s=Ny(n).next.queue;yl(n,s,{},xn())}function Jd(){return Xt(Vl)}function Oy(){return Tt().memoizedState}function ky(){return Tt().memoizedState}function zx(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=xn();n=Hs(a);var l=Fs(s,n,a);l!==null&&(ln(l,s,a),El(l,s,a)),s={cache:Pd()},n.payload=s;return}s=s.return}}function Bx(n,s,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vu(n)?Py(s,a):(a=Id(n,s,a,l),a!==null&&(ln(a,n,l),Vy(a,s,l)))}function My(n,s,a){var l=xn();yl(n,s,a,l)}function yl(n,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vu(n))Py(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,b=p(E,a);if(f.hasEagerState=!0,f.eagerState=b,En(b,E))return tu(n,s,f,0),Xe===null&&eu(),!1}catch{}finally{}if(a=Id(n,s,f,l),a!==null)return ln(a,n,l),Vy(a,s,l),!0}return!1}function ef(n,s,a,l){if(l={lane:2,revertLane:Ff(),action:l,hasEagerState:!1,eagerState:null,next:null},vu(n)){if(s)throw Error(r(479))}else s=Id(n,a,l,2),s!==null&&ln(s,n,2)}function vu(n){var s=n.alternate;return n===Ie||s!==null&&s===Ie}function Py(n,s){Qa=hu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Vy(n,s,a){if((a&4194176)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,As(n,a)}}var Ti={readContext:Xt,use:mu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt};Ti.useCacheRefresh=gt,Ti.useMemoCache=gt,Ti.useHostTransitionStatus=gt,Ti.useFormState=gt,Ti.useActionState=gt,Ti.useOptimistic=gt;var Fr={readContext:Xt,use:mu,useCallback:function(n,s){return dn().memoizedState=[n,s===void 0?null:s],n},useContext:Xt,useEffect:by,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,gu(4194308,4,Sy.bind(null,s,n),a)},useLayoutEffect:function(n,s){return gu(4194308,4,n,s)},useInsertionEffect:function(n,s){gu(4,2,n,s)},useMemo:function(n,s){var a=dn();s=s===void 0?null:s;var l=n();if(Hr){li(!0);try{n()}finally{li(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=dn();if(a!==void 0){var f=a(s);if(Hr){li(!0);try{a(s)}finally{li(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Bx.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var s=dn();return n={current:n},s.memoizedState=n},useState:function(n){n=Kd(n);var s=n.queue,a=My.bind(null,Ie,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Xd,useDeferredValue:function(n,s){var a=dn();return Wd(a,n,s)},useTransition:function(){var n=Kd(!1);return n=jy.bind(null,Ie,n.queue,!0,!1),dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ie,f=dn();if(qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Xe===null)throw Error(r(349));(Le&60)!==0||ay(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,by(ly.bind(null,l,p,n),[n]),l.flags|=2048,Xa(9,oy.bind(null,l,p,a,s),{destroy:void 0},null),a},useId:function(){var n=dn(),s=Xe.identifierPrefix;if(qe){var a=$i,l=Gi;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,s=":"+s+"R"+a,a=du++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Mx++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},useCacheRefresh:function(){return dn().memoizedState=zx.bind(null,Ie)}};Fr.useMemoCache=Fd,Fr.useHostTransitionStatus=Jd,Fr.useFormState=yy,Fr.useActionState=yy,Fr.useOptimistic=function(n){var s=dn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=ef.bind(null,Ie,!0,a),a.dispatch=s,[n,s]};var zs={readContext:Xt,use:mu,useCallback:Ry,useContext:Xt,useEffect:Yd,useImperativeHandle:Ay,useInsertionEffect:wy,useLayoutEffect:xy,useMemo:Cy,useReducer:pu,useRef:Ty,useState:function(){return pu(Qi)},useDebugValue:Xd,useDeferredValue:function(n,s){var a=Tt();return Iy(a,Ke.memoizedState,n,s)},useTransition:function(){var n=pu(Qi)[0],s=Tt().memoizedState;return[typeof n=="boolean"?n:gl(n),s]},useSyncExternalStore:ry,useId:Oy};zs.useCacheRefresh=ky,zs.useMemoCache=Fd,zs.useHostTransitionStatus=Jd,zs.useFormState=vy,zs.useActionState=vy,zs.useOptimistic=function(n,s){var a=Tt();return hy(a,Ke,n,s)};var Gr={readContext:Xt,use:mu,useCallback:Ry,useContext:Xt,useEffect:Yd,useImperativeHandle:Ay,useInsertionEffect:wy,useLayoutEffect:xy,useMemo:Cy,useReducer:$d,useRef:Ty,useState:function(){return $d(Qi)},useDebugValue:Xd,useDeferredValue:function(n,s){var a=Tt();return Ke===null?Wd(a,n,s):Iy(a,Ke.memoizedState,n,s)},useTransition:function(){var n=$d(Qi)[0],s=Tt().memoizedState;return[typeof n=="boolean"?n:gl(n),s]},useSyncExternalStore:ry,useId:Oy};Gr.useCacheRefresh=ky,Gr.useMemoCache=Fd,Gr.useHostTransitionStatus=Jd,Gr.useFormState=Ey,Gr.useActionState=Ey,Gr.useOptimistic=function(n,s){var a=Tt();return Ke!==null?hy(a,Ke,n,s):(a.baseState=n,[n,a.queue.dispatch])};function tf(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:I({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var nf={isMounted:function(n){return(n=n._reactInternals)?ie(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var l=xn(),f=Hs(l);f.payload=s,a!=null&&(f.callback=a),s=Fs(n,f,l),s!==null&&(ln(s,n,l),El(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=xn(),f=Hs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Fs(n,f,l),s!==null&&(ln(s,n,l),El(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=xn(),l=Hs(a);l.tag=2,s!=null&&(l.callback=s),s=Fs(n,l,a),s!==null&&(ln(s,n,a),El(s,n,a))}};function Ly(n,s,a,l,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,E):s.prototype&&s.prototype.isPureReactComponent?!sl(a,l)||!sl(f,p):!0}function Uy(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&nf.enqueueReplaceState(s,s.state,null)}function $r(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=I({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var _u=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function zy(n){_u(n)}function By(n){console.error(n)}function qy(n){_u(n)}function Eu(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function sf(n,s,a){return a=Hs(a),a.tag=3,a.payload={element:null},a.callback=function(){Eu(n,s)},a}function Fy(n){return n=Hs(n),n.tag=3,n}function Gy(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){Hy(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Hy(s,a,l),typeof f!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function qx(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&_l(s,a,f,!0),a=Un.current,a!==null){switch(a.tag){case 13:return Ei===null?Uf():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Od?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Bf(n,l,f)),!1;case 22:return a.flags|=65536,l===Od?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Bf(n,l,f)),!1}throw Error(r(435,a.tag))}return Bf(n,l,f),Uf(),!1}if(qe)return s=Un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Dd&&(n=Error(r(422),{cause:l}),ll(Pn(n,a)))):(l!==Dd&&(s=Error(r(423),{cause:l}),ll(Pn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Pn(l,a),f=sf(n.stateNode,l,f),_f(n,f),ut!==4&&(ut=2)),!1;var p=Error(r(520),{cause:l});if(p=Pn(p,a),Cl===null?Cl=[p]:Cl.push(p),ut!==4&&(ut=2),s===null)return!0;l=Pn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=sf(a.stateNode,l,n),_f(a,n),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xs===null||!Xs.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Fy(f),Gy(f,n,a,l),_f(a,f),!1}a=a.return}while(a!==null);return!1}var $y=Error(r(461)),Lt=!1;function Ft(n,s,a,l){s.child=n===null?Wg(s,null,a,l):Br(s,n.child,a,l)}function Ky(n,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return Qr(s),l=zd(n,s,a,E,p,f),b=Bd(),n!==null&&!Lt?(qd(n,s,f),Yi(n,s,f)):(qe&&b&&jd(s),s.flags|=1,Ft(n,s,l,f),s.child)}function Qy(n,s,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!Rf(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,Yy(n,s,p,l,f)):(n=Su(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!ff(n,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(E,l)&&n.ref===s.ref)return Yi(n,s,f)}return s.flags|=1,n=Qs(p,l),n.ref=s.ref,n.return=s,s.child=n}function Yy(n,s,a,l,f){if(n!==null){var p=n.memoizedProps;if(sl(p,l)&&n.ref===s.ref)if(Lt=!1,s.pendingProps=l=p,ff(n,f))(n.flags&131072)!==0&&(Lt=!0);else return s.lanes=n.lanes,Yi(n,s,f)}return rf(n,s,a,l,f)}function Xy(n,s,a){var l=s.pendingProps,f=l.children,p=(s.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(vl(n,s),l.mode==="hidden"||p){if((s.flags&128)!==0){if(l=E!==null?E.baseLanes|a:a,n!==null){for(f=s.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;s.childLanes=p&~l}else s.childLanes=0,s.child=null;return Wy(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&uu(s,E!==null?E.cachePool:null),E!==null?Zg(s,E):kd(),Jg(s);else return s.lanes=s.childLanes=536870912,Wy(n,s,E!==null?E.baseLanes|a:a,a)}else E!==null?(uu(s,E.cachePool),Zg(s,E),Ls(),s.memoizedState=null):(n!==null&&uu(s,null),kd(),Ls());return Ft(n,s,f,a),s.child}function Wy(n,s,a,l){var f=Ld();return f=f===null?null:{parent:jt._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&uu(s,null),kd(),Jg(s),n!==null&&_l(n,s,l,!0),null}function vl(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=2097664)}}function rf(n,s,a,l,f){return Qr(s),a=zd(n,s,a,l,void 0,f),l=Bd(),n!==null&&!Lt?(qd(n,s,f),Yi(n,s,f)):(qe&&l&&jd(s),s.flags|=1,Ft(n,s,a,f),s.child)}function Zy(n,s,a,l,f,p){return Qr(s),s.updateQueue=null,a=sy(s,l,a,f),iy(n),l=Bd(),n!==null&&!Lt?(qd(n,s,p),Yi(n,s,p)):(qe&&l&&jd(s),s.flags|=1,Ft(n,s,a,p),s.child)}function Jy(n,s,a,l,f){if(Qr(s),s.stateNode===null){var p=Ba,E=a.contextType;typeof E=="object"&&E!==null&&(p=Xt(E)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=nf,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},yf(s),E=a.contextType,p.context=typeof E=="object"&&E!==null?Xt(E):Ba,p.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(tf(s,a,E,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&nf.enqueueReplaceState(p,p.state,null),bl(s,l,p,f),Tl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){p=s.stateNode;var b=s.memoizedProps,C=$r(a,b);p.props=C;var P=p.context,W=a.contextType;E=Ba,typeof W=="object"&&W!==null&&(E=Xt(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||P!==E)&&Uy(s,p,l,E),qs=!1;var F=s.memoizedState;p.state=F,bl(s,l,p,f),Tl(),P=s.memoizedState,b||F!==P||qs?(typeof ne=="function"&&(tf(s,a,ne,l),P=s.memoizedState),(C=qs||Ly(s,a,C,l,F,P,E))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=P),p.props=l,p.state=P,p.context=E,l=C):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,vf(n,s),E=s.memoizedProps,W=$r(a,E),p.props=W,ne=s.pendingProps,F=p.context,P=a.contextType,C=Ba,typeof P=="object"&&P!==null&&(C=Xt(P)),b=a.getDerivedStateFromProps,(P=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ne||F!==C)&&Uy(s,p,l,C),qs=!1,F=s.memoizedState,p.state=F,bl(s,l,p,f),Tl();var X=s.memoizedState;E!==ne||F!==X||qs||n!==null&&n.dependencies!==null&&Tu(n.dependencies)?(typeof b=="function"&&(tf(s,a,b,l),X=s.memoizedState),(W=qs||Ly(s,a,W,l,F,X,C)||n!==null&&n.dependencies!==null&&Tu(n.dependencies))?(P||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,X,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,X,C)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=X),p.props=l,p.state=X,p.context=C,l=W):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(s.flags|=1024),l=!1)}return p=l,vl(n,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&l?(s.child=Br(s,n.child,null,f),s.child=Br(s,null,a,f)):Ft(n,s,a,f),s.memoizedState=p.state,n=s.child):n=Yi(n,s,f),n}function ev(n,s,a,l){return ol(),s.flags|=256,Ft(n,s,a,l),s.child}var af={dehydrated:null,treeContext:null,retryLane:0};function of(n){return{baseLanes:n,cachePool:ny()}}function lf(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Hn),n}function tv(n,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(It.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(qe){if(f?Vs(s):Ls(),qe){var b=Ht,C;if(C=b){e:{for(C=b,b=_i;C.nodeType!==8;){if(!b){b=null;break e}if(C=ei(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(s.memoizedState={dehydrated:b,treeContext:Lr!==null?{id:Gi,overflow:$i}:null,retryLane:536870912},C=qn(18,null,null,0),C.stateNode=b,C.return=s,s.child=C,on=s,Ht=null,C=!0):C=!1}C||zr(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?s.lanes=16:s.lanes=536870912,null;Ki(s)}return b=l.children,l=l.fallback,f?(Ls(),f=s.mode,b=uf({mode:"hidden",children:b},f),l=Xr(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,f=s.child,f.memoizedState=of(a),f.childLanes=lf(n,E,a),s.memoizedState=af,l):(Vs(s),cf(s,b))}if(C=n.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(p)s.flags&256?(Vs(s),s.flags&=-257,s=hf(n,s,a)):s.memoizedState!==null?(Ls(),s.child=n.child,s.flags|=128,s=null):(Ls(),f=l.fallback,b=s.mode,l=uf({mode:"visible",children:l.children},b),f=Xr(f,b,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,Br(s,n.child,null,a),l=s.child,l.memoizedState=of(a),l.childLanes=lf(n,E,a),s.memoizedState=af,s=f);else if(Vs(s),b.data==="$!"){if(E=b.nextSibling&&b.nextSibling.dataset,E)var P=E.dgst;E=P,l=Error(r(419)),l.stack="",l.digest=E,ll({value:l,source:null,stack:null}),s=hf(n,s,a)}else if(Lt||_l(n,s,a,!1),E=(a&n.childLanes)!==0,Lt||E){if(E=Xe,E!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Ps(n,l),ln(E,n,l),$y}b.data==="$?"||Uf(),s=hf(n,s,a)}else b.data==="$?"?(s.flags|=128,s.child=n.child,s=iS.bind(null,n),b._reactRetry=s,s=null):(n=C.treeContext,Ht=ei(b.nextSibling),on=s,qe=!0,Zn=null,_i=!1,n!==null&&(Vn[Ln++]=Gi,Vn[Ln++]=$i,Vn[Ln++]=Lr,Gi=n.id,$i=n.overflow,Lr=s),s=cf(s,l.children),s.flags|=4096);return s}return f?(Ls(),f=l.fallback,b=s.mode,C=n.child,P=C.sibling,l=Qs(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,P!==null?f=Qs(P,f):(f=Xr(f,b,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,b=n.child.memoizedState,b===null?b=of(a):(C=b.cachePool,C!==null?(P=jt._currentValue,C=C.parent!==P?{parent:P,pool:P}:C):C=ny(),b={baseLanes:b.baseLanes|a,cachePool:C}),f.memoizedState=b,f.childLanes=lf(n,E,a),s.memoizedState=af,l):(Vs(s),a=n.child,n=a.sibling,a=Qs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=a,s.memoizedState=null,a)}function cf(n,s){return s=uf({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function uf(n,s){return Rv(n,s,0,null)}function hf(n,s,a){return Br(s,n.child,null,a),n=cf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function nv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),pf(n.return,s,a)}function df(n,s,a,l,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function iv(n,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;if(Ft(n,s,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nv(n,a,s);else if(n.tag===19)nv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch($e(It,l),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&cu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),df(s,!1,f,a,p);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&cu(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}df(s,!0,a,null,p);break;case"together":df(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yi(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Ys|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(_l(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Qs(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Qs(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function ff(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Tu(n)))}function Hx(n,s,a){switch(s.tag){case 3:Es(s,s.stateNode.containerInfo),Bs(s,jt,n.memoizedState.cache),ol();break;case 27:case 5:Vo(s);break;case 4:Es(s,s.stateNode.containerInfo);break;case 10:Bs(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?tv(n,s,a):(Vs(s),n=Yi(n,s,a),n!==null?n.sibling:null);Vs(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(_l(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return iv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$e(It,It.current),l)break;return null;case 22:case 23:return s.lanes=0,Xy(n,s,a);case 24:Bs(s,jt,n.memoizedState.cache)}return Yi(n,s,a)}function sv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Lt=!0;else{if(!ff(n,a)&&(s.flags&128)===0)return Lt=!1,Hx(n,s,a);Lt=(n.flags&131072)!==0}else Lt=!1,qe&&(s.flags&1048576)!==0&&qg(s,su,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Rf(l)?(n=$r(l,n),s.tag=1,s=Jy(null,s,l,n,a)):(s.tag=0,s=rf(null,s,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===V){s.tag=11,s=Ky(null,s,l,n,a);break e}else if(f===$){s.tag=14,s=Qy(null,s,l,n,a);break e}}throw s=A(l)||l,Error(r(306,s,""))}}return s;case 0:return rf(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=$r(l,s.pendingProps),Jy(n,s,l,f,a);case 3:e:{if(Es(s,s.stateNode.containerInfo),n===null)throw Error(r(387));var p=s.pendingProps;f=s.memoizedState,l=f.element,vf(n,s),bl(s,p,null,a);var E=s.memoizedState;if(p=E.cache,Bs(s,jt,p),p!==f.cache&&gf(s,[jt],a,!0),Tl(),p=E.element,f.isDehydrated)if(f={element:p,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=ev(n,s,p,a);break e}else if(p!==l){l=Pn(Error(r(424)),s),ll(l),s=ev(n,s,p,a);break e}else for(Ht=ei(s.stateNode.containerInfo.firstChild),on=s,qe=!0,Zn=null,_i=!0,a=Wg(s,null,p,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ol(),p===l){s=Yi(n,s,a);break e}Ft(n,s,p,a)}s=s.child}return s;case 26:return vl(n,s),n===null?(a=o_(s.type,null,s.pendingProps,null))?s.memoizedState=a:qe||(a=s.type,n=s.pendingProps,l=Vu(Cn.current).createElement(a),l[Mt]=s,l[At]=n,Gt(l,a,n),tt(l),s.stateNode=l):s.memoizedState=o_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Vo(s),n===null&&qe&&(l=s.stateNode=s_(s.type,s.pendingProps,Cn.current),on=s,_i=!0,Ht=ei(l.firstChild)),l=s.pendingProps.children,n!==null||qe?Ft(n,s,l,a):s.child=Br(s,null,l,a),vl(n,s),s.child;case 5:return n===null&&qe&&((f=l=Ht)&&(l=_S(l,s.type,s.pendingProps,_i),l!==null?(s.stateNode=l,on=s,Ht=ei(l.firstChild),_i=!1,f=!0):f=!1),f||zr(s)),Vo(s),f=s.type,p=s.pendingProps,E=n!==null?n.memoizedProps:null,l=p.children,Jf(f,p)?l=null:E!==null&&Jf(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=zd(n,s,Px,null,null,a),Vl._currentValue=f),vl(n,s),Ft(n,s,l,a),s.child;case 6:return n===null&&qe&&((n=a=Ht)&&(a=ES(a,s.pendingProps,_i),a!==null?(s.stateNode=a,on=s,Ht=null,n=!0):n=!1),n||zr(s)),null;case 13:return tv(n,s,a);case 4:return Es(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Br(s,null,l,a):Ft(n,s,l,a),s.child;case 11:return Ky(n,s,s.type,s.pendingProps,a);case 7:return Ft(n,s,s.pendingProps,a),s.child;case 8:return Ft(n,s,s.pendingProps.children,a),s.child;case 12:return Ft(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Bs(s,s.type,l.value),Ft(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Qr(s),f=Xt(f),l=l(f),s.flags|=1,Ft(n,s,l,a),s.child;case 14:return Qy(n,s,s.type,s.pendingProps,a);case 15:return Yy(n,s,s.type,s.pendingProps,a);case 19:return iv(n,s,a);case 22:return Xy(n,s,a);case 24:return Qr(s),l=Xt(jt),n===null?(f=Ld(),f===null&&(f=Xe,p=Pd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},yf(s),Bs(s,jt,f)):((n.lanes&a)!==0&&(vf(n,s),bl(s,null,null,a),Tl()),f=n.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Bs(s,jt,l)):(l=p.cache,Bs(s,jt,l),l!==f.cache&&gf(s,[jt],a,!0))),Ft(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var mf=ze(null),Kr=null,Xi=null;function Bs(n,s,a){$e(mf,s._currentValue),s._currentValue=a}function Wi(n){n._currentValue=mf.current,ot(mf)}function pf(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function gf(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=f;for(var C=0;C<s.length;C++)if(b.context===s[C]){p.lanes|=a,b=p.alternate,b!==null&&(b.lanes|=a),pf(p.return,a,n),l||(E=null);break e}p=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),pf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function _l(n,s,a,l){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=f.type;En(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===_s.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Vl):n=[Vl])}f=f.return}n!==null&&gf(s,n,a,l),s.flags|=262144}function Tu(n){for(n=n.firstContext;n!==null;){if(!En(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qr(n){Kr=n,Xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return rv(Kr,n)}function bu(n,s){return Kr===null&&Qr(n),rv(n,s)}function rv(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Xi===null){if(n===null)throw Error(r(308));Xi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Xi=Xi.next=s;return a}var qs=!1;function yf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Fs(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=nu(n),zg(n,null,a),s}return tu(n,l,s,a),nu(n)}function El(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194176)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,As(n,a)}}function _f(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Ef=!1;function Tl(){if(Ef){var n=Ka;if(n!==null)throw n}}function bl(n,s,a,l){Ef=!1;var f=n.updateQueue;qs=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var C=b,P=C.next;C.next=null,E===null?p=P:E.next=P,E=C;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=P:b.next=P,W.lastBaseUpdate=C))}if(p!==null){var ne=f.baseState;E=0,W=P=C=null,b=p;do{var F=b.lane&-536870913,X=F!==b.lane;if(X?(Le&F)===F:(l&F)===F){F!==0&&F===$a&&(Ef=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var pe=n,xe=b;F=s;var ht=a;switch(xe.tag){case 1:if(pe=xe.payload,typeof pe=="function"){ne=pe.call(ht,ne,F);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=xe.payload,F=typeof pe=="function"?pe.call(ht,ne,F):pe,F==null)break e;ne=I({},ne,F);break e;case 2:qs=!0}}F=b.callback,F!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[F]:X.push(F))}else X={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(P=W=X,C=ne):W=W.next=X,E|=F;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;X=b,b=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(C=ne),f.baseState=C,f.firstBaseUpdate=P,f.lastBaseUpdate=W,p===null&&(f.shared.lanes=0),Ys|=E,n.lanes=E,n.memoizedState=ne}}function av(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function ov(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)av(a[n],s)}function wl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,E=a.inst;l=p(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){Ye(s,s.return,b)}}function Gs(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=s;var C=a;try{b()}catch(P){Ye(f,C,P)}}}l=l.next}while(l!==p)}}catch(P){Ye(s,s.return,P)}}function lv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{ov(s,a)}catch(l){Ye(n,n.return,l)}}}function cv(n,s,a){a.props=$r(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(n,s,l)}}function Yr(n,s){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(p){Ye(n,s,p)}}function Tn(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(n,s,f)}else a.current=null}function uv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(n,n.return,f)}}function hv(n,s,a){try{var l=n.stateNode;mS(l,n.type,a,s),l[At]=s}catch(f){Ye(n,n.return,f)}}function dv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Tf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||dv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bf(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Pu));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(bf(n,s,a),n=n.sibling;n!==null;)bf(n,s,a),n=n.sibling}function wu(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(wu(n,s,a),n=n.sibling;n!==null;)wu(n,s,a),n=n.sibling}var Zi=!1,ct=!1,wf=!1,fv=typeof WeakSet=="function"?WeakSet:Set,Ut=null,mv=!1;function Fx(n,s){if(n=n.containerInfo,Wf=Hu,n=Ng(n),xd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,b=-1,C=-1,P=0,W=0,ne=n,F=null;t:for(;;){for(var X;ne!==a||f!==0&&ne.nodeType!==3||(b=E+f),ne!==p||l!==0&&ne.nodeType!==3||(C=E+l),ne.nodeType===3&&(E+=ne.nodeValue.length),(X=ne.firstChild)!==null;)F=ne,ne=X;for(;;){if(ne===n)break t;if(F===a&&++P===f&&(b=E),F===p&&++W===l&&(C=E),(X=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=X}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zf={focusedElem:n,selectionRange:a},Hu=!1,Ut=s;Ut!==null;)if(s=Ut,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ut=n;else for(;Ut!==null;){switch(s=Ut,p=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var pe=$r(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(pe,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(xe){Ye(a,a.return,xe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)nm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":nm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Ut=n;break}Ut=s.return}return pe=mv,mv=!1,pe}function pv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:es(n,a),l&4&&wl(5,a);break;case 1:if(es(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(b){Ye(a,a.return,b)}else{var f=$r(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Ye(a,a.return,b)}}l&64&&lv(a),l&512&&Yr(a,a.return);break;case 3:if(es(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ov(l,n)}catch(b){Ye(a,a.return,b)}}break;case 26:es(n,a),l&512&&Yr(a,a.return);break;case 27:case 5:es(n,a),s===null&&l&4&&uv(a),l&512&&Yr(a,a.return);break;case 12:es(n,a);break;case 13:es(n,a),l&4&&vv(n,a);break;case 22:if(f=a.memoizedState!==null||Zi,!f){s=s!==null&&s.memoizedState!==null||ct;var p=Zi,E=ct;Zi=f,(ct=s)&&!E?$s(n,a,(a.subtreeFlags&8772)!==0):es(n,a),Zi=p,ct=E}l&512&&(a.memoizedProps.mode==="manual"?Yr(a,a.return):Tn(a,a.return));break;default:es(n,a)}}function gv(n){var s=n.alternate;s!==null&&(n.alternate=null,gv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Sr(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var bt=null,bn=!1;function Ji(n,s,a){for(a=a.child;a!==null;)yv(n,s,a),a=a.sibling}function yv(n,s,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Ts,a)}catch{}switch(a.tag){case 26:ct||Tn(a,s),Ji(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||Tn(a,s);var l=bt,f=bn;for(bt=a.stateNode,Ji(n,s,a),a=a.stateNode,s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Sr(a),bt=l,bn=f;break;case 5:ct||Tn(a,s);case 6:f=bt;var p=bn;if(bt=null,Ji(n,s,a),bt=f,bn=p,bt!==null)if(bn)try{n=bt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(E){Ye(a,s,E)}else try{bt.removeChild(a.stateNode)}catch(E){Ye(a,s,E)}break;case 18:bt!==null&&(bn?(s=bt,a=a.stateNode,s.nodeType===8?tm(s.parentNode,a):s.nodeType===1&&tm(s,a),Bl(s)):tm(bt,a.stateNode));break;case 4:l=bt,f=bn,bt=a.stateNode.containerInfo,bn=!0,Ji(n,s,a),bt=l,bn=f;break;case 0:case 11:case 14:case 15:ct||Gs(2,a,s),ct||Gs(4,a,s),Ji(n,s,a);break;case 1:ct||(Tn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cv(a,s,l)),Ji(n,s,a);break;case 21:Ji(n,s,a);break;case 22:ct||Tn(a,s),ct=(l=ct)||a.memoizedState!==null,Ji(n,s,a),ct=l;break;default:Ji(n,s,a)}}function vv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Bl(n)}catch(a){Ye(s,s.return,a)}}function Gx(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new fv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new fv),s;default:throw Error(r(435,n.tag))}}function xf(n,s){var a=Gx(n);s.forEach(function(l){var f=sS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function zn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 27:case 5:bt=b.stateNode,bn=!1;break e;case 3:bt=b.stateNode.containerInfo,bn=!0;break e;case 4:bt=b.stateNode.containerInfo,bn=!0;break e}b=b.return}if(bt===null)throw Error(r(160));yv(p,E,f),bt=null,bn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)_v(s,n),s=s.sibling}var Jn=null;function _v(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zn(s,n),Bn(n),l&4&&(Gs(3,n,n.return),wl(3,n),Gs(5,n,n.return));break;case 1:zn(s,n),Bn(n),l&512&&(ct||a===null||Tn(a,a.return)),l&64&&Zi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Jn;if(zn(s,n),Bn(n),l&512&&(ct||a===null||Tn(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Cs]||p[Mt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Gt(p,l,a),p[Mt]=n,tt(p),l=p;break e;case"link":var E=u_("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(a.href==null?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}p=f.createElement(l),Gt(p,l,a),f.head.appendChild(p);break;case"meta":if(E=u_("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}p=f.createElement(l),Gt(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[Mt]=n,tt(p),l=p}n.stateNode=l}else h_(f,n.type,n.stateNode);else n.stateNode=c_(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?h_(f,n.type,n.stateNode):c_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&hv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,p=n.memoizedProps;try{for(var C=f.firstChild;C;){var P=C.nextSibling,W=C.nodeName;C[Cs]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=P}for(var ne=n.type,F=f.attributes;F.length;)f.removeAttributeNode(F[0]);Gt(f,ne,p),f[Mt]=n,f[At]=p}catch(pe){Ye(n,n.return,pe)}}case 5:if(zn(s,n),Bn(n),l&512&&(ct||a===null||Tn(a,a.return)),n.flags&32){f=n.stateNode;try{Nn(f,"")}catch(pe){Ye(n,n.return,pe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,hv(n,f,a!==null?a.memoizedProps:f)),l&1024&&(wf=!0);break;case 6:if(zn(s,n),Bn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(pe){Ye(n,n.return,pe)}}break;case 3:if(zu=null,f=Jn,Jn=Lu(s.containerInfo),zn(s,n),Jn=f,Bn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Bl(s.containerInfo)}catch(pe){Ye(n,n.return,pe)}wf&&(wf=!1,Ev(n));break;case 4:l=Jn,Jn=Lu(n.stateNode.containerInfo),zn(s,n),Bn(n),Jn=l;break;case 12:zn(s,n),Bn(n);break;case 13:zn(s,n),Bn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Of=un()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,xf(n,l)));break;case 22:if(l&512&&(ct||a===null||Tn(a,a.return)),C=n.memoizedState!==null,P=a!==null&&a.memoizedState!==null,W=Zi,ne=ct,Zi=W||C,ct=ne||P,zn(s,n),ct=ne,Zi=W,Bn(n),s=n.stateNode,s._current=n,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,l&8192&&(s._visibility=C?s._visibility&-2:s._visibility|1,C&&(s=Zi||ct,a===null||P||s||Wa(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,s=n;;){if(s.tag===5||s.tag===26||s.tag===27){if(a===null){P=a=s;try{if(f=P.stateNode,C)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=P.stateNode,b=P.memoizedProps.style;var X=b!=null&&b.hasOwnProperty("display")?b.display:null;E.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Ye(P,P.return,pe)}}}else if(s.tag===6){if(a===null){P=s;try{P.stateNode.nodeValue=C?"":P.memoizedProps}catch(pe){Ye(P,P.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xf(n,a))));break;case 19:zn(s,n),Bn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,xf(n,l)));break;case 21:break;default:zn(s,n),Bn(n)}}function Bn(n){var s=n.flags;if(s&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(dv(a)){var l=a;break e}a=a.return}throw Error(r(160))}switch(l.tag){case 27:var f=l.stateNode,p=Tf(n);wu(n,p,f);break;case 5:var E=l.stateNode;l.flags&32&&(Nn(E,""),l.flags&=-33);var b=Tf(n);wu(n,b,E);break;case 3:case 4:var C=l.stateNode.containerInfo,P=Tf(n);bf(n,P,C);break;default:throw Error(r(161))}}}catch(W){Ye(n,n.return,W)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Ev(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Ev(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function es(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)pv(n,s.alternate,s),s=s.sibling}function Wa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Gs(4,s,s.return),Wa(s);break;case 1:Tn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&cv(s,s.return,a),Wa(s);break;case 26:case 27:case 5:Tn(s,s.return),Wa(s);break;case 22:Tn(s,s.return),s.memoizedState===null&&Wa(s);break;default:Wa(s)}n=n.sibling}}function $s(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:$s(f,p,a),wl(4,p);break;case 1:if($s(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Ye(l,l.return,P)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)av(C[f],b)}catch(P){Ye(l,l.return,P)}}a&&E&64&&lv(p),Yr(p,p.return);break;case 26:case 27:case 5:$s(f,p,a),a&&l===null&&E&4&&uv(p),Yr(p,p.return);break;case 12:$s(f,p,a);break;case 13:$s(f,p,a),a&&E&4&&vv(f,p);break;case 22:p.memoizedState===null&&$s(f,p,a),Yr(p,p.return);break;default:$s(f,p,a)}s=s.sibling}}function Sf(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&fl(a))}function Af(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&fl(n))}function Ks(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Tv(n,s,a,l),s=s.sibling}function Tv(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ks(n,s,a,l),f&2048&&wl(9,s);break;case 3:Ks(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&fl(n)));break;case 12:if(f&2048){Ks(n,s,a,l),n=s.stateNode;try{var p=s.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Ye(s,s.return,C)}}else Ks(n,s,a,l);break;case 23:break;case 22:p=s.stateNode,s.memoizedState!==null?p._visibility&4?Ks(n,s,a,l):xl(n,s):p._visibility&4?Ks(n,s,a,l):(p._visibility|=4,Za(n,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&Sf(s.alternate,s);break;case 24:Ks(n,s,a,l),f&2048&&Af(s.alternate,s);break;default:Ks(n,s,a,l)}}function Za(n,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=n,E=s,b=a,C=l,P=E.flags;switch(E.tag){case 0:case 11:case 15:Za(p,E,b,C,f),wl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&4?Za(p,E,b,C,f):xl(p,E):(W._visibility|=4,Za(p,E,b,C,f)),f&&P&2048&&Sf(E.alternate,E);break;case 24:Za(p,E,b,C,f),f&&P&2048&&Af(E.alternate,E);break;default:Za(p,E,b,C,f)}s=s.sibling}}function xl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:xl(a,l),f&2048&&Sf(l.alternate,l);break;case 24:xl(a,l),f&2048&&Af(l.alternate,l);break;default:xl(a,l)}s=s.sibling}}var Sl=8192;function Ja(n){if(n.subtreeFlags&Sl)for(n=n.child;n!==null;)bv(n),n=n.sibling}function bv(n){switch(n.tag){case 26:Ja(n),n.flags&Sl&&n.memoizedState!==null&&OS(Jn,n.memoizedState,n.memoizedProps);break;case 5:Ja(n);break;case 3:case 4:var s=Jn;Jn=Lu(n.stateNode.containerInfo),Ja(n),Jn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Sl,Sl=16777216,Ja(n),Sl=s):Ja(n));break;default:Ja(n)}}function wv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Al(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ut=l,Sv(l,n)}wv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xv(n),n=n.sibling}function xv(n){switch(n.tag){case 0:case 11:case 15:Al(n),n.flags&2048&&Gs(9,n,n.return);break;case 3:Al(n);break;case 12:Al(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&4&&(n.return===null||n.return.tag!==13)?(s._visibility&=-5,xu(n)):Al(n);break;default:Al(n)}}function xu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ut=l,Sv(l,n)}wv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Gs(8,s,s.return),xu(s);break;case 22:a=s.stateNode,a._visibility&4&&(a._visibility&=-5,xu(s));break;default:xu(s)}n=n.sibling}}function Sv(n,s){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Gs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=n;Ut!==null;){l=Ut;var f=l.sibling,p=l.return;if(gv(l),l===a){Ut=null;break e}if(f!==null){f.return=p,Ut=f;break e}Ut=p}}}function $x(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,s,a,l){return new $x(n,s,a,l)}function Rf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qs(n,s){var a=n.alternate;return a===null?(a=qn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Av(n,s){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Su(n,s,a,l,f,p){var E=0;if(l=n,typeof n=="function")Rf(n)&&(E=1);else if(typeof n=="string")E=NS(n,a,nn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case g:return Xr(a.children,f,p,s);case y:E=8,f|=24;break;case T:return n=qn(12,a,s,f|2),n.elementType=T,n.lanes=p,n;case K:return n=qn(13,a,s,f),n.elementType=K,n.lanes=p,n;case q:return n=qn(19,a,s,f),n.elementType=q,n.lanes=p,n;case Q:return Rv(a,f,p,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:case O:E=10;break e;case R:E=9;break e;case V:E=11;break e;case $:E=14;break e;case Z:E=16,l=null;break e}E=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=qn(E,a,s,f),s.elementType=n,s.type=l,s.lanes=p,s}function Xr(n,s,a,l){return n=qn(7,n,l,s),n.lanes=a,n}function Rv(n,s,a,l){n=qn(22,n,l,s),n.elementType=Q,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=f._current;if(p===null)throw Error(r(456));if((f._pendingVisibility&2)===0){var E=Ps(p,2);E!==null&&(f._pendingVisibility|=2,ln(E,p,2))}},attach:function(){var p=f._current;if(p===null)throw Error(r(456));if((f._pendingVisibility&2)!==0){var E=Ps(p,2);E!==null&&(f._pendingVisibility&=-3,ln(E,p,2))}}};return n.stateNode=f,n}function Cf(n,s,a){return n=qn(6,n,null,s),n.lanes=a,n}function If(n,s,a){return s=qn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function ts(n){n.flags|=4}function Cv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!d_(s)){if(s=Un.current,s!==null&&((Le&4194176)===Le?Ei!==null:(Le&62914560)!==Le&&(Le&536870912)===0||s!==Ei))throw ul=Od,Gg;n.flags|=8192}}function Au(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?xs():536870912,n.lanes|=s,to|=s)}function Rl(n,s){if(!qe)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function nt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function Kx(n,s,a){var l=s.pendingProps;switch(Nd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(s),null;case 1:return nt(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Wi(jt),ki(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(al(s)?ts(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zn!==null&&(Vf(Zn),Zn=null))),nt(s),null;case 26:return a=s.memoizedState,n===null?(ts(s),a!==null?(nt(s),Cv(s,a)):(nt(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ts(s),nt(s),Cv(s,a)):(nt(s),s.flags&=-16777217):(n.memoizedProps!==l&&ts(s),nt(s),s.flags&=-16777217),null;case 27:Ea(s),a=Cn.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ts(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return nt(s),null}n=nn.current,al(s)?Hg(s):(n=s_(f,l,a),s.stateNode=n,ts(s))}return nt(s),null;case 5:if(Ea(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ts(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return nt(s),null}if(n=nn.current,al(s))Hg(s);else{switch(f=Vu(Cn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Mt]=s,n[At]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(Gt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ts(s)}}return nt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ts(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=Cn.current,al(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=on,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Mt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zv(n.nodeValue,a)),n||zr(s)}else n=Vu(n).createTextNode(l),n[Mt]=s,s.stateNode=n}return nt(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=al(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Mt]=s}else ol(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nt(s),f=!1}else Zn!==null&&(Vf(Zn),Zn=null),f=!0;if(!f)return s.flags&256?(Ki(s),s):(Ki(s),null)}if(Ki(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Au(s,s.updateQueue),nt(s),null;case 4:return ki(),n===null&&Qf(s.stateNode.containerInfo),nt(s),null;case 10:return Wi(s.type),nt(s),null;case 19:if(ot(It),f=s.memoizedState,f===null)return nt(s),null;if(l=(s.flags&128)!==0,p=f.rendering,p===null)if(l)Rl(f,!1);else{if(ut!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=cu(n),p!==null){for(s.flags|=128,Rl(f,!1),n=p.updateQueue,s.updateQueue=n,Au(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Av(a,n),a=a.sibling;return $e(It,It.current&1|2),s.child}n=n.sibling}f.tail!==null&&un()>Ru&&(s.flags|=128,l=!0,Rl(f,!1),s.lanes=4194304)}else{if(!l)if(n=cu(p),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,Au(s,n),Rl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!qe)return nt(s),null}else 2*un()-f.renderingStartTime>Ru&&a!==536870912&&(s.flags|=128,l=!0,Rl(f,!1),s.lanes=4194304);f.isBackwards?(p.sibling=s.child,s.child=p):(n=f.last,n!==null?n.sibling=p:s.child=p,f.last=p)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=un(),s.sibling=null,n=It.current,$e(It,l?n&1|2:n&1),s):(nt(s),null);case 22:case 23:return Ki(s),Md(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(nt(s),s.subtreeFlags&6&&(s.flags|=8192)):nt(s),a=s.updateQueue,a!==null&&Au(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ot(qr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Wi(jt),nt(s),null;case 25:return null}throw Error(r(156,s.tag))}function Qx(n,s){switch(Nd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Wi(jt),ki(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ea(s),null;case 13:if(Ki(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ol()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ot(It),null;case 4:return ki(),null;case 10:return Wi(s.type),null;case 22:case 23:return Ki(s),Md(),n!==null&&ot(qr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Wi(jt),null;case 25:return null;default:return null}}function Iv(n,s){switch(Nd(s),s.tag){case 3:Wi(jt),ki();break;case 26:case 27:case 5:Ea(s);break;case 4:ki();break;case 13:Ki(s);break;case 19:ot(It);break;case 10:Wi(s.type);break;case 22:case 23:Ki(s),Md(),n!==null&&ot(qr);break;case 24:Wi(jt)}}var Yx={getCacheForType:function(n){var s=Xt(jt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},Xx=typeof WeakMap=="function"?WeakMap:Map,it=0,Xe=null,Ne=null,Le=0,We=0,wn=null,ns=!1,eo=!1,jf=!1,is=0,ut=0,Ys=0,Wr=0,Nf=0,Hn=0,to=0,Cl=null,bi=null,Df=!1,Of=0,Ru=1/0,Cu=null,Xs=null,Iu=!1,Zr=null,Il=0,kf=0,Mf=null,jl=0,Pf=null;function xn(){if((it&2)!==0&&Le!==0)return Le&-Le;if(S.T!==null){var n=$a;return n!==0?n:Ff()}return Mc()}function jv(){Hn===0&&(Hn=(Le&536870912)===0||qe?qo():536870912);var n=Un.current;return n!==null&&(n.flags|=32),Hn}function ln(n,s,a){(n===Xe&&We===2||n.cancelPendingCommit!==null)&&(no(n,0),ss(n,Le,Hn,!1)),pt(n,a),((it&2)===0||n!==Xe)&&(n===Xe&&((it&2)===0&&(Wr|=a),ut===4&&ss(n,Le,Hn,!1)),wi(n))}function Nv(n,s,a){if((it&6)!==0)throw Error(r(327));var l=!a&&(s&60)===0&&(s&n.expiredLanes)===0||ws(n,s),f=l?Jx(n,s):zf(n,s,!0),p=l;do{if(f===0){eo&&!l&&ss(n,s,0,!1);break}else if(f===6)ss(n,s,0,!ns);else{if(a=n.current.alternate,p&&!Wx(a)){f=zf(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var b=n;f=Cl;var C=b.current.memoizedState.isDehydrated;if(C&&(no(b,E).flags|=256),E=zf(b,E,!1),E!==2){if(jf&&!C){b.errorRecoveryDisabledLanes|=p,Wr|=p,f=4;break e}p=bi,bi=f,p!==null&&Vf(p)}f=E}if(p=!1,f!==2)continue}}if(f===1){no(n,0),ss(n,s,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){ss(l,s,Hn,!ns);break e}break;case 2:bi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=a,l.finishedLanes=s,(s&62914560)===s&&(p=Of+300-un(),10<p)){if(ss(l,s,Hn,!ns),In(l,0)!==0)break e;l.timeoutHandle=t_(Dv.bind(null,l,a,bi,Cu,Df,s,Hn,Wr,to,ns,2,-0,0),p);break e}Dv(l,a,bi,Cu,Df,s,Hn,Wr,to,ns,0,-0,0)}}break}while(!0);wi(n)}function Vf(n){bi===null?bi=n:bi.push.apply(bi,n)}function Dv(n,s,a,l,f,p,E,b,C,P,W,ne,F){var X=s.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:DS},bv(s),s=kS(),s!==null)){n.cancelPendingCommit=s(Uv.bind(null,n,a,l,f,E,b,C,1,ne,F)),ss(n,p,E,!P);return}Uv(n,a,l,f,E,b,C,W,ne,F)}function Wx(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!En(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ss(n,s,a,l){s&=~Nf,s&=~Wr,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var p=31-sn(f),E=1<<p;l[p]=-1,f&=~E}a!==0&&Ss(n,a,s)}function ju(){return(it&6)===0?(Nl(0),!1):!0}function Lf(){if(Ne!==null){if(We===0)var n=Ne.return;else n=Ne,Xi=Kr=null,Hd(n),Fa=null,hl=0,n=Ne;for(;n!==null;)Iv(n.alternate,n),n=n.return;Ne=null}}function no(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,gS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Lf(),Xe=n,Ne=a=Qs(n.current,null),Le=s,We=0,wn=null,ns=!1,eo=ws(n,s),jf=!1,to=Hn=Nf=Wr=Ys=ut=0,bi=Cl=null,Df=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-sn(l),p=1<<f;s|=n[f],l&=~p}return is=s,eu(),a}function Ov(n,s){Ie=null,S.H=Ti,s===cl?(s=Qg(),We=3):s===Gg?(s=Qg(),We=4):We=s===$y?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,Ne===null&&(ut=1,Eu(n,Pn(s,n.current)))}function kv(){var n=S.H;return S.H=Ti,n===null?Ti:n}function Mv(){var n=S.A;return S.A=Yx,n}function Uf(){ut=4,ns||(Le&4194176)!==Le&&Un.current!==null||(eo=!0),(Ys&134217727)===0&&(Wr&134217727)===0||Xe===null||ss(Xe,Le,Hn,!1)}function zf(n,s,a){var l=it;it|=2;var f=kv(),p=Mv();(Xe!==n||Le!==s)&&(Cu=null,no(n,s)),s=!1;var E=ut;e:do try{if(We!==0&&Ne!==null){var b=Ne,C=wn;switch(We){case 8:Lf(),E=6;break e;case 3:case 2:case 6:Un.current===null&&(s=!0);var P=We;if(We=0,wn=null,io(n,b,C,P),a&&eo){E=0;break e}break;default:P=We,We=0,wn=null,io(n,b,C,P)}}Zx(),E=ut;break}catch(W){Ov(n,W)}while(!0);return s&&n.shellSuspendCounter++,Xi=Kr=null,it=l,S.H=f,S.A=p,Ne===null&&(Xe=null,Le=0,eu()),E}function Zx(){for(;Ne!==null;)Pv(Ne)}function Jx(n,s){var a=it;it|=2;var l=kv(),f=Mv();Xe!==n||Le!==s?(Cu=null,Ru=un()+500,no(n,s)):eo=ws(n,s);e:do try{if(We!==0&&Ne!==null){s=Ne;var p=wn;t:switch(We){case 1:We=0,wn=null,io(n,s,p,1);break;case 2:if($g(p)){We=0,wn=null,Vv(s);break}s=function(){We===2&&Xe===n&&(We=7),wi(n)},p.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:$g(p)?(We=0,wn=null,Vv(s)):(We=0,wn=null,io(n,s,p,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var b=Ne;if(!E||d_(E)){We=0,wn=null;var C=b.sibling;if(C!==null)Ne=C;else{var P=b.return;P!==null?(Ne=P,Nu(P)):Ne=null}break t}}We=0,wn=null,io(n,s,p,5);break;case 6:We=0,wn=null,io(n,s,p,6);break;case 8:Lf(),ut=6;break e;default:throw Error(r(462))}}eS();break}catch(W){Ov(n,W)}while(!0);return Xi=Kr=null,S.H=l,S.A=f,it=a,Ne!==null?0:(Xe=null,Le=0,eu(),ut)}function eS(){for(;Ne!==null&&!fd();)Pv(Ne)}function Pv(n){var s=sv(n.alternate,n,is);n.memoizedProps=n.pendingProps,s===null?Nu(n):Ne=s}function Vv(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Zy(a,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=Zy(a,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:Hd(s);default:Iv(a,s),s=Ne=Av(s,is),s=sv(a,s,is)}n.memoizedProps=n.pendingProps,s===null?Nu(n):Ne=s}function io(n,s,a,l){Xi=Kr=null,Hd(s),Fa=null,hl=0;var f=s.return;try{if(qx(n,f,s,a,Le)){ut=1,Eu(n,Pn(a,n.current)),Ne=null;return}}catch(p){if(f!==null)throw Ne=f,p;ut=1,Eu(n,Pn(a,n.current)),Ne=null;return}s.flags&32768?(qe||l===1?n=!0:eo||(Le&536870912)!==0?n=!1:(ns=n=!0,(l===2||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lv(s,n)):Nu(s)}function Nu(n){var s=n;do{if((s.flags&32768)!==0){Lv(s,ns);return}n=s.return;var a=Kx(s.alternate,s,is);if(a!==null){Ne=a;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=n}while(s!==null);ut===0&&(ut=5)}function Lv(n,s){do{var a=Qx(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);ut=6,Ne=null}function Uv(n,s,a,l,f,p,E,b,C,P){var W=S.T,ne=ue.p;try{ue.p=2,S.T=null,tS(n,s,a,l,ne,f,p,E,b,C,P)}finally{S.T=W,ue.p=ne}}function tS(n,s,a,l,f,p,E,b){do so();while(Zr!==null);if((it&6)!==0)throw Error(r(327));var C=n.finishedWork;if(l=n.finishedLanes,C===null)return null;if(n.finishedWork=null,n.finishedLanes=0,C===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var P=C.lanes|C.childLanes;if(P|=Cd,Oc(n,l,P,p,E,b),n===Xe&&(Ne=Xe=null,Le=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Iu||(Iu=!0,kf=P,Mf=a,rS(Mi,function(){return so(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,p=ue.p,ue.p=2,E=it,it|=4,Fx(n,C),_v(C,n),Sx(Zf,n.containerInfo),Hu=!!Wf,Zf=Wf=null,n.current=C,pv(n,C.alternate,C),Lo(),it=E,ue.p=p,S.T=a):n.current=C,Iu?(Iu=!1,Zr=n,Il=l):zv(n,P),P=n.pendingLanes,P===0&&(Xs=null),zo(C.stateNode),wi(n),s!==null)for(f=n.onRecoverableError,C=0;C<s.length;C++)P=s[C],f(P.value,{componentStack:P.stack});return(Il&3)!==0&&so(),P=n.pendingLanes,(l&4194218)!==0&&(P&42)!==0?n===Pf?jl++:(jl=0,Pf=n):jl=0,Nl(0),null}function zv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,fl(s)))}function so(){if(Zr!==null){var n=Zr,s=kf;kf=0;var a=kc(Il),l=S.T,f=ue.p;try{if(ue.p=32>a?32:a,S.T=null,Zr===null)var p=!1;else{a=Mf,Mf=null;var E=Zr,b=Il;if(Zr=null,Il=0,(it&6)!==0)throw Error(r(331));var C=it;if(it|=4,xv(E.current),Tv(E,E.current,b,a),it=C,Nl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Ts,E)}catch{}p=!0}return p}finally{ue.p=f,S.T=l,zv(n,s)}}return!1}function Bv(n,s,a){s=Pn(a,s),s=sf(n.stateNode,s,2),n=Fs(n,s,2),n!==null&&(pt(n,2),wi(n))}function Ye(n,s,a){if(n.tag===3)Bv(n,n,a);else for(;s!==null;){if(s.tag===3){Bv(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xs===null||!Xs.has(l))){n=Pn(a,n),a=Fy(2),l=Fs(s,a,2),l!==null&&(Gy(a,l,s,n),pt(l,2),wi(l));break}}s=s.return}}function Bf(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Xx;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(jf=!0,f.add(a),n=nS.bind(null,n,s,a),s.then(n,n))}function nS(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Xe===n&&(Le&a)===a&&(ut===4||ut===3&&(Le&62914560)===Le&&300>un()-Of?(it&2)===0&&no(n,0):Nf|=a,to===Le&&(to=0)),wi(n)}function qv(n,s){s===0&&(s=xs()),n=Ps(n,s),n!==null&&(pt(n,s),wi(n))}function iS(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),qv(n,a)}function sS(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),qv(n,a)}function rS(n,s){return br(n,s)}var Du=null,ro=null,qf=!1,Ou=!1,Hf=!1,Jr=0;function wi(n){n!==ro&&n.next===null&&(ro===null?Du=ro=n:ro=ro.next=n),Ou=!0,qf||(qf=!0,oS(aS))}function Nl(n,s){if(!Hf&&Ou){Hf=!0;do for(var a=!1,l=Du;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-sn(42|n)+1)-1,p&=f&~(E&~b),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(a=!0,Gv(l,p))}else p=Le,p=In(l,l===Xe?p:0),(p&3)===0||ws(l,p)||(a=!0,Gv(l,p));l=l.next}while(a);Hf=!1}}function aS(){Ou=qf=!1;var n=0;Jr!==0&&(pS()&&(n=Jr),Jr=0);for(var s=un(),a=null,l=Du;l!==null;){var f=l.next,p=Hv(l,s);p===0?(l.next=null,a===null?Du=f:a.next=f,f===null&&(ro=a)):(a=l,(n!==0||(p&3)!==0)&&(Ou=!0)),l=f}Nl(n)}function Hv(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-sn(p),b=1<<E,C=f[E];C===-1?((b&a)===0||(b&l)!==0)&&(f[E]=wa(b,s)):C<=s&&(n.expiredLanes|=b),p&=~b}if(s=Xe,a=Le,a=In(n,n===s?a:0),l=n.callbackNode,a===0||n===s&&We===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ba(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ws(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&ba(l),kc(a)){case 2:case 8:a=kt;break;case 32:a=Mi;break;case 268435456:a=Uo;break;default:a=Mi}return l=Fv.bind(null,n),a=br(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&ba(l),n.callbackPriority=2,n.callbackNode=null,2}function Fv(n,s){var a=n.callbackNode;if(so()&&n.callbackNode!==a)return null;var l=Le;return l=In(n,n===Xe?l:0),l===0?null:(Nv(n,l,s),Hv(n,un()),n.callbackNode!=null&&n.callbackNode===a?Fv.bind(null,n):null)}function Gv(n,s){if(so())return null;Nv(n,s,!0)}function oS(n){yS(function(){(it&6)!==0?br(St,n):n()})}function Ff(){return Jr===0&&(Jr=qo()),Jr}function $v(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:di(""+n)}function Kv(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function lS(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=$v((f[At]||null).action),E=l.submitter;E&&(s=(s=E[At]||null)?$v(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var b=new ja("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var C=E?Kv(f,E):new FormData(f);Zd(a,{pending:!0,data:C,method:f.method,action:p},null,C)}}else typeof p=="function"&&(b.preventDefault(),C=E?Kv(f,E):new FormData(f),Zd(a,{pending:!0,data:C,method:f.method,action:p},p,C))},currentTarget:f}]})}}for(var Gf=0;Gf<Ug.length;Gf++){var $f=Ug[Gf],cS=$f.toLowerCase(),uS=$f[0].toUpperCase()+$f.slice(1);Wn(cS,"on"+uS)}Wn(kg,"onAnimationEnd"),Wn(Mg,"onAnimationIteration"),Wn(Pg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Rx,"onTransitionRun"),Wn(Cx,"onTransitionStart"),Wn(Ix,"onTransitionCancel"),Wn(Vg,"onTransitionEnd"),hn("onMouseEnter",["mouseout","mouseover"]),hn("onMouseLeave",["mouseout","mouseover"]),hn("onPointerEnter",["pointerout","pointerover"]),hn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Qv(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var p=void 0;if(s)for(var E=l.length-1;0<=E;E--){var b=l[E],C=b.instance,P=b.currentTarget;if(b=b.listener,C!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=P;try{p(f)}catch(W){_u(W)}f.currentTarget=null,p=C}else for(E=0;E<l.length;E++){if(b=l[E],C=b.instance,P=b.currentTarget,b=b.listener,C!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=P;try{p(f)}catch(W){_u(W)}f.currentTarget=null,p=C}}}}function ke(n,s){var a=s[xr];a===void 0&&(a=s[xr]=new Set);var l=n+"__bubble";a.has(l)||(Yv(s,n,2,!1),a.add(l))}function Kf(n,s,a){var l=0;s&&(l|=4),Yv(a,n,l,s)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Qf(n){if(!n[ku]){n[ku]=!0,Fo.forEach(function(a){a!=="selectionchange"&&(hS.has(a)||Kf(a,!1,n),Kf(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ku]||(s[ku]=!0,Kf("selectionchange",!1,s))}}function Yv(n,s,a,l){switch(v_(s)){case 2:var f=VS;break;case 8:f=LS;break;default:f=om}a=f.bind(null,s,a,n),f=void 0,!On||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Yf(n,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&(C=E.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;E=E.return}for(;b!==null;){if(E=Xn(b),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=p=E;continue e}b=b.parentNode}}l=l.return}Uc(function(){var P=p,W=Ia(a),ne=[];e:{var F=Lg.get(n);if(F!==void 0){var X=ja,pe=n;switch(n){case"keypress":if(mi(a)===0)break e;case"keydown":case"keyup":X=Pa;break;case"focusin":pe="focus",X=Oa;break;case"focusout":pe="blur",X=Oa;break;case"beforeblur":case"afterblur":X=Oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Kc;break;case kg:case Mg:case Pg:X=ka;break;case Vg:X=Yc;break;case"scroll":case"scrollend":X=zc;break;case"wheel":X=Va;break;case"copy":case"cut":case"paste":X=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=nl;break;case"toggle":case"beforetoggle":X=Wc}var xe=(s&4)!==0,ht=!xe&&(n==="scroll"||n==="scrollend"),L=xe?F!==null?F+"Capture":null:F;xe=[];for(var M=P,H;M!==null;){var J=M;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||L===null||(J=Ir(M,L),J!=null&&xe.push(Ol(M,J,H))),ht)break;M=M.return}0<xe.length&&(F=new X(F,pe,null,a,W),ne.push({event:F,listeners:xe}))}}if((s&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",F&&a!==Dn&&(pe=a.relatedTarget||a.fromElement)&&(Xn(pe)||pe[Pi]))break e;if((X||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,X?(pe=a.relatedTarget||a.toElement,X=P,pe=pe?Xn(pe):null,pe!==null&&(ht=ie(pe),xe=pe.tag,pe!==ht||xe!==5&&xe!==27&&xe!==6)&&(pe=null)):(X=null,pe=P),X!==pe)){if(xe=kn,J="onMouseLeave",L="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(xe=nl,J="onPointerLeave",L="onPointerEnter",M="pointer"),ht=X==null?F:Is(X),H=pe==null?F:Is(pe),F=new xe(J,M+"leave",X,a,W),F.target=ht,F.relatedTarget=H,J=null,Xn(W)===P&&(xe=new xe(L,M+"enter",pe,a,W),xe.target=H,xe.relatedTarget=ht,J=xe),ht=J,X&&pe)t:{for(xe=X,L=pe,M=0,H=xe;H;H=ao(H))M++;for(H=0,J=L;J;J=ao(J))H++;for(;0<M-H;)xe=ao(xe),M--;for(;0<H-M;)L=ao(L),H--;for(;M--;){if(xe===L||L!==null&&xe===L.alternate)break t;xe=ao(xe),L=ao(L)}xe=null}else xe=null;X!==null&&Xv(ne,F,X,xe,!1),pe!==null&&ht!==null&&Xv(ne,ht,pe,xe,!0)}}e:{if(F=P?Is(P):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var fe=wg;else if(Ct(F))if(xg)fe=wx;else{fe=Tx;var je=Ex}else X=F.nodeName,!X||X.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&Yo(P.elementType)&&(fe=wg):fe=bx;if(fe&&(fe=fe(n,P))){Fi(ne,fe,a,W);break e}je&&je(n,F,P),n==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&Ca(F,"number",F.value)}switch(je=P?Is(P):window,n){case"focusin":(Ct(je)||je.contentEditable==="true")&&(La=je,Sd=P,rl=null);break;case"focusout":rl=Sd=La=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,Dg(ne,a,W);break;case"selectionchange":if(Ax)break;case"keydown":case"keyup":Dg(ne,a,W)}var ge;if(yi)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?G(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(ge=Wo()):(fi=W,Ms="value"in fi?fi.value:fi.textContent,Pe=!0)),je=Mu(P,_e),0<je.length&&(_e=new el(_e,n,null,a,W),ne.push({event:_e,listeners:je}),ge?_e.data=ge:(ge=se(a),ge!==null&&(_e.data=ge)))),(ge=v?Rt(n,a):Ve(n,a))&&(_e=Mu(P,"onBeforeInput"),0<_e.length&&(je=new el("onBeforeInput","beforeinput",null,a,W),ne.push({event:je,listeners:_e}),je.data=ge)),lS(ne,n,P,a,W)}Qv(ne,s)})}function Ol(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Mu(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ir(n,a),f!=null&&l.unshift(Ol(n,f,p)),f=Ir(n,s),f!=null&&l.push(Ol(n,f,p))),n=n.return}return l}function ao(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xv(n,s,a,l,f){for(var p=s._reactName,E=[];a!==null&&a!==l;){var b=a,C=b.alternate,P=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||P===null||(C=P,f?(P=Ir(a,p),P!=null&&E.unshift(Ol(a,P,C))):f||(P=Ir(a,p),P!=null&&E.push(Ol(a,P,C)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var dS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function Wv(n){return(typeof n=="string"?n:""+n).replace(dS,`
`).replace(fS,"")}function Zv(n,s){return s=Wv(s),Wv(n)===s}function Pu(){}function Qe(n,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Nn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Nn(n,""+l);break;case"className":Ds(n,"class",l);break;case"tabIndex":Ds(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ds(n,a,l);break;case"style":Lc(n,l,p);break;case"data":if(s!=="object"){Ds(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=di(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&Qe(n,s,"name",f.name,f,null),Qe(n,s,"formEncType",f.formEncType,f,null),Qe(n,s,"formMethod",f.formMethod,f,null),Qe(n,s,"formTarget",f.formTarget,f,null)):(Qe(n,s,"encType",f.encType,f,null),Qe(n,s,"method",f.method,f,null),Qe(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=di(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Pu);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=di(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),Ns(n,"popover",l);break;case"xlinkActuate":jn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ns(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vd.get(a)||a,Ns(n,a,l))}}function Xf(n,s,a,l,f,p){switch(a){case"style":Lc(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Nn(n,l):(typeof l=="number"||typeof l=="bigint")&&Nn(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=n[At]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ns(n,a,l)}}}function Gt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qe(n,s,p,E,a,null)}}f&&Qe(n,s,"srcSet",a.srcSet,a,null),l&&Qe(n,s,"src",a.src,a,null);return;case"input":ke("invalid",n);var b=p=E=f=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":E=W;break;case"checked":C=W;break;case"defaultChecked":P=W;break;case"value":p=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:Qe(n,s,l,W,a,null)}}Rr(n,p,b,C,P,E,f,!1),Ar(n);return;case"select":ke("invalid",n),l=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Qe(n,s,f,b,a,null)}s=p,a=E,n.multiple=!!l,s!=null?Be(n,!!l,s,!1):a!=null&&Be(n,!!l,a,!0);return;case"textarea":ke("invalid",n),p=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Qe(n,s,E,b,a,null)}ks(n,l,f,p),Ar(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(n,s,C,l,a,null)}return;case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<Dl.length;l++)ke(Dl[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qe(n,s,P,l,a,null)}return;default:if(Yo(s)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Xf(n,s,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Qe(n,s,b,l,a,null))}function mS(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,b=null,C=null,P=null,W=null;for(X in a){var ne=a[X];if(a.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=ne;default:l.hasOwnProperty(X)||Qe(n,s,X,null,l,ne)}}for(var F in l){var X=l[F];if(ne=a[F],l.hasOwnProperty(F)&&(X!=null||ne!=null))switch(F){case"type":p=X;break;case"name":f=X;break;case"checked":P=X;break;case"defaultChecked":W=X;break;case"value":E=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==ne&&Qe(n,s,F,X,l,ne)}}Os(n,E,b,C,P,W,p,f);return;case"select":X=E=b=F=null;for(p in a)if(C=a[p],a.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":X=C;default:l.hasOwnProperty(p)||Qe(n,s,p,null,l,C)}for(f in l)if(p=l[f],C=a[f],l.hasOwnProperty(f)&&(p!=null||C!=null))switch(f){case"value":F=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==C&&Qe(n,s,f,p,l,C)}s=b,a=E,l=X,F!=null?Be(n,!!a,F,!1):!!l!=!!a&&(s!=null?Be(n,!!a,s,!0):Be(n,!!a,a?[]:"",!1));return;case"textarea":X=F=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Qe(n,s,b,null,l,f)}for(E in l)if(f=l[E],p=a[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":F=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&Qe(n,s,E,f,l,p)}Cr(n,F,X);return;case"option":for(var pe in a)if(F=a[pe],a.hasOwnProperty(pe)&&F!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:Qe(n,s,pe,null,l,F)}for(C in l)if(F=l[C],X=a[C],l.hasOwnProperty(C)&&F!==X&&(F!=null||X!=null))switch(C){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Qe(n,s,C,F,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)F=a[xe],a.hasOwnProperty(xe)&&F!=null&&!l.hasOwnProperty(xe)&&Qe(n,s,xe,null,l,F);for(P in l)if(F=l[P],X=a[P],l.hasOwnProperty(P)&&F!==X&&(F!=null||X!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,s));break;default:Qe(n,s,P,F,l,X)}return;default:if(Yo(s)){for(var ht in a)F=a[ht],a.hasOwnProperty(ht)&&F!==void 0&&!l.hasOwnProperty(ht)&&Xf(n,s,ht,void 0,l,F);for(W in l)F=l[W],X=a[W],!l.hasOwnProperty(W)||F===X||F===void 0&&X===void 0||Xf(n,s,W,F,l,X);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Qe(n,s,L,null,l,F);for(ne in l)F=l[ne],X=a[ne],!l.hasOwnProperty(ne)||F===X||F==null&&X==null||Qe(n,s,ne,F,l,X)}var Wf=null,Zf=null;function Vu(n){return n.nodeType===9?n:n.ownerDocument}function Jv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Jf(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var em=null;function pS(){var n=window.event;return n&&n.type==="popstate"?n===em?!1:(em=n,!0):(em=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(n){return n_.resolve(null).then(n).catch(vS)}:t_;function vS(n){setTimeout(function(){throw n})}function tm(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),Bl(s);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Bl(s)}function nm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),Sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function _S(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Cs])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ei(n.nextSibling),n===null)break}return null}function ES(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ei(n.nextSibling),n===null))return null;return n}function ei(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}function i_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function s_(n,s,a){switch(s=Vu(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}var Fn=new Map,r_=new Set;function Lu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var rs=ue.d;ue.d={f:TS,r:bS,D:wS,C:xS,L:SS,m:AS,X:CS,S:RS,M:IS};function TS(){var n=rs.f(),s=ju();return n||s}function bS(n){var s=Vi(n);s!==null&&s.tag===5&&s.type==="form"?Dy(s):rs.r(n)}var oo=typeof document>"u"?null:document;function a_(n,s,a){var l=oo;if(l&&typeof s=="string"&&s){var f=lt(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),r_.has(f)||(r_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Gt(s,"link",n),tt(s),l.head.appendChild(s)))}}function wS(n){rs.D(n),a_("dns-prefetch",n,null)}function xS(n,s){rs.C(n,s),a_("preconnect",n,s)}function SS(n,s,a){rs.L(n,s,a);var l=oo;if(l&&n&&s){var f='link[rel="preload"][as="'+lt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+lt(a.imageSizes)+'"]')):f+='[href="'+lt(n)+'"]';var p=f;switch(s){case"style":p=lo(n);break;case"script":p=co(n)}Fn.has(p)||(n=I({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Fn.set(p,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(kl(p))||s==="script"&&l.querySelector(Ml(p))||(s=l.createElement("link"),Gt(s,"link",n),tt(s),l.head.appendChild(s)))}}function AS(n,s){rs.m(n,s);var a=oo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=co(n)}if(!Fn.has(p)&&(n=I({rel:"modulepreload",href:n},s),Fn.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(p)))return}l=a.createElement("link"),Gt(l,"link",n),tt(l),a.head.appendChild(l)}}}function RS(n,s,a){rs.S(n,s,a);var l=oo;if(l&&n){var f=js(l).hoistableStyles,p=lo(n);s=s||"default";var E=f.get(p);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(kl(p)))b.loading=5;else{n=I({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Fn.get(p))&&im(n,a);var C=E=l.createElement("link");tt(C),Gt(C,"link",n),C._p=new Promise(function(P,W){C.onload=P,C.onerror=W}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Uu(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(p,E)}}}function CS(n,s){rs.X(n,s);var a=oo;if(a&&n){var l=js(a).hoistableScripts,f=co(n),p=l.get(f);p||(p=a.querySelector(Ml(f)),p||(n=I({src:n,async:!0},s),(s=Fn.get(f))&&sm(n,s),p=a.createElement("script"),tt(p),Gt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function IS(n,s){rs.M(n,s);var a=oo;if(a&&n){var l=js(a).hoistableScripts,f=co(n),p=l.get(f);p||(p=a.querySelector(Ml(f)),p||(n=I({src:n,async:!0,type:"module"},s),(s=Fn.get(f))&&sm(n,s),p=a.createElement("script"),tt(p),Gt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function o_(n,s,a,l){var f=(f=Cn.current)?Lu(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=lo(a.href),a=js(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=lo(a.href);var p=js(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(kl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Fn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(n,a),p||jS(f,n,a,E.state))),s&&l===null)throw Error(r(528,""));return E}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=co(a),a=js(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function lo(n){return'href="'+lt(n)+'"'}function kl(n){return'link[rel="stylesheet"]['+n+"]"}function l_(n){return I({},n,{"data-precedence":n.precedence,precedence:null})}function jS(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Gt(s,"link",a),tt(s),n.head.appendChild(s))}function co(n){return'[src="'+lt(n)+'"]'}function Ml(n){return"script[async]"+n}function c_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return s.instance=l,tt(l),l;var f=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),tt(l),Gt(l,"style",f),Uu(l,a.precedence,n),s.instance=l;case"stylesheet":f=lo(a.href);var p=n.querySelector(kl(f));if(p)return s.state.loading|=4,s.instance=p,tt(p),p;l=l_(a),(f=Fn.get(f))&&im(l,f),p=(n.ownerDocument||n).createElement("link"),tt(p);var E=p;return E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Gt(p,"link",l),s.state.loading|=4,Uu(p,a.precedence,n),s.instance=p;case"script":return p=co(a.src),(f=n.querySelector(Ml(p)))?(s.instance=f,tt(f),f):(l=a,(f=Fn.get(p))&&(l=I({},a),sm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),tt(f),Gt(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Uu(l,a.precedence,n));return s.instance}function Uu(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===s)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function im(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function sm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var zu=null;function u_(n,s,a){if(zu===null){var l=new Map,f=zu=new Map;f.set(a,l)}else f=zu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[Cs]||p[Mt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=n+E;var b=l.get(E);b?b.push(p):l.set(E,[p])}}return l}function h_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function NS(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function d_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Pl=null;function DS(){}function OS(n,s,a){if(Pl===null)throw Error(r(475));var l=Pl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=lo(a.href),p=n.querySelector(kl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Bu.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=p,tt(p);return}p=n.ownerDocument||n,a=l_(a),(f=Fn.get(f))&&im(a,f),p=p.createElement("link"),tt(p);var E=p;E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Gt(p,"link",a),s.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Bu.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function kS(){if(Pl===null)throw Error(r(475));var n=Pl;return n.stylesheets&&n.count===0&&rm(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&rm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Bu(){if(this.count--,this.count===0){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var qu=null;function rm(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,qu=new Map,s.forEach(MS,n),qu=null,Bu.call(n))}function MS(n,s){if(!(s.state.loading&4)){var a=qu.get(n);if(a)var l=a.get(null);else{a=new Map,qu.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=s.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||l,p===l&&a.set(null,f),a.set(E,f),this.count++,l=Bu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Vl={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function PS(n,s,a,l,f,p,E,b){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.hiddenUpdates=xa(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function f_(n,s,a,l,f,p,E,b,C,P,W,ne){return n=new PS(n,s,a,E,b,C,P,ne),s=1,p===!0&&(s|=24),p=qn(3,null,null,s),n.current=p,p.stateNode=n,s=Pd(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},yf(p),n}function m_(n){return n?(n=Ba,n):Ba}function p_(n,s,a,l,f,p){f=m_(f),l.context===null?l.context=f:l.pendingContext=f,l=Hs(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Fs(n,l,s),a!==null&&(ln(a,n,s),El(a,n,s))}function g_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function am(n,s){g_(n,s),(n=n.alternate)&&g_(n,s)}function y_(n){if(n.tag===13){var s=Ps(n,67108864);s!==null&&ln(s,n,67108864),am(n,67108864)}}var Hu=!0;function VS(n,s,a,l){var f=S.T;S.T=null;var p=ue.p;try{ue.p=2,om(n,s,a,l)}finally{ue.p=p,S.T=f}}function LS(n,s,a,l){var f=S.T;S.T=null;var p=ue.p;try{ue.p=8,om(n,s,a,l)}finally{ue.p=p,S.T=f}}function om(n,s,a,l){if(Hu){var f=lm(l);if(f===null)Yf(n,s,l,Fu,a),__(n,l);else if(zS(f,n,s,a,l))l.stopPropagation();else if(__(n,l),s&4&&-1<US.indexOf(n)){for(;f!==null;){var p=Vi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Yn(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var C=1<<31-sn(E);b.entanglements[1]|=C,E&=~C}wi(p),(it&6)===0&&(Ru=un()+500,Nl(0))}}break;case 13:b=Ps(p,2),b!==null&&ln(b,p,2),ju(),am(p,2)}if(p=lm(l),p===null&&Yf(n,s,l,Fu,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else Yf(n,s,l,null,a)}}function lm(n){return n=Ia(n),cm(n)}var Fu=null;function cm(n){if(Fu=null,n=Xn(n),n!==null){var s=ie(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=be(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Fu=n,null}function v_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ic()){case St:return 2;case kt:return 8;case Mi:case jc:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var um=!1,Ws=null,Zs=null,Js=null,Ll=new Map,Ul=new Map,er=[],US="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(n,s){switch(n){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Ll.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(s.pointerId)}}function zl(n,s,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Vi(s),s!==null&&y_(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function zS(n,s,a,l,f){switch(s){case"focusin":return Ws=zl(Ws,n,s,a,l,f),!0;case"dragenter":return Zs=zl(Zs,n,s,a,l,f),!0;case"mouseover":return Js=zl(Js,n,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return Ll.set(p,zl(Ll.get(p)||null,n,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Ul.set(p,zl(Ul.get(p)||null,n,s,a,l,f)),!0}return!1}function E_(n){var s=Xn(n.target);if(s!==null){var a=ie(s);if(a!==null){if(s=a.tag,s===13){if(s=be(a),s!==null){n.blockedOn=s,Rs(n.priority,function(){if(a.tag===13){var l=xn(),f=Ps(a,l);f!==null&&ln(f,a,l),am(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=lm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Dn=l,a.target.dispatchEvent(l),Dn=null}else return s=Vi(a),s!==null&&y_(s),n.blockedOn=a,!1;s.shift()}return!0}function T_(n,s,a){Gu(n)&&a.delete(s)}function BS(){um=!1,Ws!==null&&Gu(Ws)&&(Ws=null),Zs!==null&&Gu(Zs)&&(Zs=null),Js!==null&&Gu(Js)&&(Js=null),Ll.forEach(T_),Ul.forEach(T_)}function $u(n,s){n.blockedOn===s&&(n.blockedOn=null,um||(um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,BS)))}var Ku=null;function b_(n){Ku!==n&&(Ku=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ku===n&&(Ku=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(cm(l||a)===null)continue;break}var p=Vi(a);p!==null&&(n.splice(s,3),s-=3,Zd(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Bl(n){function s(C){return $u(C,n)}Ws!==null&&$u(Ws,n),Zs!==null&&$u(Zs,n),Js!==null&&$u(Js,n),Ll.forEach(s),Ul.forEach(s);for(var a=0;a<er.length;a++){var l=er[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<er.length&&(a=er[0],a.blockedOn===null);)E_(a),a.blockedOn===null&&er.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],E=f[At]||null;if(typeof p=="function")E||b_(a);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[At]||null)b=E.formAction;else if(cm(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),b_(a)}}}function hm(n){this._internalRoot=n}Qu.prototype.render=hm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=xn();p_(a,l,n,s,null,null)},Qu.prototype.unmount=hm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;n.tag===0&&so(),p_(n.current,2,null,n,null,null),ju(),s[Pi]=null}};function Qu(n){this._internalRoot=n}Qu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Mc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<er.length&&s!==0&&s<er[a].priority;a++);er.splice(a,0,n),a===0&&E_(n)}};var w_=e.version;if(w_!=="19.0.0")throw Error(r(527,w_,"19.0.0"));ue.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Y(s),n=n!==null?le(n):null,n=n===null?null:n.stateNode,n};var qS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Xn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{Ts=Yu.inject(qS),Yt=Yu}catch{}}return Hl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=zy,p=By,E=qy,b=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=f_(n,1,!1,null,null,a,l,f,p,E,b,null),n[Pi]=s.current,Qf(n.nodeType===8?n.parentNode:n),new hm(s)},Hl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",p=zy,E=By,b=qy,C=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),s=f_(n,1,!0,s,a??null,l,f,p,E,b,C,P),s.context=m_(null),a=s.current,l=xn(),f=Hs(l),f.callback=null,Fs(a,f,l),s.current.lanes=l,pt(s,l),wi(s),n[Pi]=s.current,Qf(n),new Qu(s)},Hl.version="19.0.0",Hl}var O_;function JS(){if(O_)return mm.exports;O_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=ZS(),mm.exports}var eA=JS(),Fl={},k_;function tA(){if(k_)return Fl;k_=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.parse=d,Fl.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function d(R,O){const V=new c,K=R.length;if(K<2)return V;const q=(O==null?void 0:O.decode)||T;let $=0;do{const Z=R.indexOf("=",$);if(Z===-1)break;const Q=R.indexOf(";",$),ae=Q===-1?K:Q;if(Z>ae){$=R.lastIndexOf(";",Z-1)+1;continue}const ce=m(R,$,Z),me=g(R,Z,ce),N=R.slice(ce,me);if(V[N]===void 0){let A=m(R,Z+1,ae),S=g(R,ae,A);const I=q(R.slice(A,S));V[N]=I}$=ae+1}while($<K);return V}function m(R,O,V){do{const K=R.charCodeAt(O);if(K!==32&&K!==9)return O}while(++O<V);return V}function g(R,O,V){for(;O>V;){const K=R.charCodeAt(--O);if(K!==32&&K!==9)return O+1}return V}function y(R,O,V){const K=(V==null?void 0:V.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const q=K(O);if(!e.test(q))throw new TypeError(`argument val is invalid: ${O}`);let $=R+"="+q;if(!V)return $;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);$+="; Max-Age="+V.maxAge}if(V.domain){if(!t.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);$+="; Domain="+V.domain}if(V.path){if(!r.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);$+="; Path="+V.path}if(V.expires){if(!x(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);$+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&($+="; HttpOnly"),V.secure&&($+="; Secure"),V.partitioned&&($+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return $}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function x(R){return o.call(R)==="[object Date]"}return Fl}tA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var M_="popstate";function nA(i={}){function e(r,o){let{pathname:c,search:d,hash:m}=r.location;return Vm("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:ac(o)}return sA(e,t,null,i)}function et(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function si(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iA(){return Math.random().toString(36).substring(2,10)}function P_(i,e){return{usr:i.state,key:i.key,idx:e}}function Vm(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:t,key:e&&e.key||r||iA()}}function ac({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ao(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function sA(i,e,t,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,m="POP",g=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function x(){m="POP";let q=T(),$=q==null?null:q-y;y=q,g&&g({action:m,location:K.location,delta:$})}function R(q,$){m="PUSH";let Z=Vm(K.location,q,$);y=T()+1;let Q=P_(Z,y),ae=K.createHref(Z);try{d.pushState(Q,"",ae)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ae)}c&&g&&g({action:m,location:K.location,delta:1})}function O(q,$){m="REPLACE";let Z=Vm(K.location,q,$);y=T();let Q=P_(Z,y),ae=K.createHref(Z);d.replaceState(Q,"",ae),c&&g&&g({action:m,location:K.location,delta:0})}function V(q){let $=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof q=="string"?q:ac(q);return Z=Z.replace(/ $/,"%20"),et($,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,$)}let K={get action(){return m},get location(){return i(o,d)},listen(q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(M_,x),g=q,()=>{o.removeEventListener(M_,x),g=null}},createHref(q){return e(o,q)},createURL:V,encodeLocation(q){let $=V(q);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:O,go(q){return d.go(q)}};return K}function PT(i,e,t="/"){return rA(i,e,t,!1)}function rA(i,e,t,r){let o=typeof e=="string"?Ao(e):e,c=ms(o.pathname||"/",t);if(c==null)return null;let d=VT(i);aA(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let y=yA(c);m=pA(d[g],y,r)}return m}function VT(i,e=[],t=[],r=""){let o=(c,d,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(et(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length));let y=us([r,g.relativePath]),T=t.concat(g);c.children&&c.children.length>0&&(et(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),VT(c.children,e,T,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:fA(y,c.index),routesMeta:T})};return i.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,d);else for(let g of LT(c.path))o(c,d,g)}),e}function LT(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=LT(r.join("/")),m=[];return m.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...d),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function aA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:mA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var oA=/^:[\w-]+$/,lA=3,cA=2,uA=1,hA=10,dA=-2,V_=i=>i==="*";function fA(i,e){let t=i.split("/"),r=t.length;return t.some(V_)&&(r+=dA),e&&(r+=cA),t.filter(o=>!V_(o)).reduce((o,c)=>o+(oA.test(c)?lA:c===""?uA:hA),r)}function mA(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function pA(i,e,t=!1){let{routesMeta:r}=i,o={},c="/",d=[];for(let m=0;m<r.length;++m){let g=r[m],y=m===r.length-1,T=c==="/"?e:e.slice(c.length)||"/",x=yh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),R=g.route;if(!x&&y&&t&&!r[r.length-1].route.index&&(x=yh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:us([c,x.pathname]),pathnameBase:TA(us([c,x.pathnameBase])),route:R}),x.pathnameBase!=="/"&&(c=us([c,x.pathnameBase]))}return d}function yh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=gA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:T,isOptional:x},R)=>{if(T==="*"){let V=m[R]||"";d=c.slice(0,c.length-V.length).replace(/(.)\/+$/,"$1")}const O=m[R];return x&&!O?y[T]=void 0:y[T]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:i}}function gA(i,e=!1,t=!0){si(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function yA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ms(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function vA(i,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof i=="string"?Ao(i):i;return{pathname:t?t.startsWith("/")?t:_A(t,e):e,search:bA(r),hash:wA(o)}}function _A(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function vm(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fp(i){let e=EA(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function mp(i,e,t,r=!1){let o;typeof i=="string"?o=Ao(i):(o={...i},et(!o.pathname||!o.pathname.includes("?"),vm("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),vm("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),vm("#","search","hash",o)));let c=i===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=t;else{let x=e.length-1;if(!r&&d.startsWith("..")){let R=d.split("/");for(;R[0]==="..";)R.shift(),x-=1;o.pathname=R.join("/")}m=x>=0?e[x]:"/"}let g=vA(o,m),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var us=i=>i.join("/").replace(/\/\/+/g,"/"),TA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),bA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,wA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function xA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var UT=["POST","PUT","PATCH","DELETE"];new Set(UT);var SA=["GET",...UT];new Set(SA);var Ro=B.createContext(null);Ro.displayName="DataRouter";var Bh=B.createContext(null);Bh.displayName="DataRouterState";var zT=B.createContext({isTransitioning:!1});zT.displayName="ViewTransition";var AA=B.createContext(new Map);AA.displayName="Fetchers";var RA=B.createContext(null);RA.displayName="Await";var oi=B.createContext(null);oi.displayName="Navigation";var yc=B.createContext(null);yc.displayName="Location";var ji=B.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var pp=B.createContext(null);pp.displayName="RouteError";function CA(i,{relative:e}={}){et(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=B.useContext(oi),{hash:o,pathname:c,search:d}=vc(i,{relative:e}),m=c;return t!=="/"&&(m=c==="/"?t:us([t,c])),r.createHref({pathname:m,search:d,hash:o})}function Co(){return B.useContext(yc)!=null}function Ni(){return et(Co(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(yc).location}var BT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qT(i){B.useContext(oi).static||B.useLayoutEffect(i)}function Di(){let{isDataRoute:i}=B.useContext(ji);return i?BA():IA()}function IA(){et(Co(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(Ro),{basename:e,navigator:t}=B.useContext(oi),{matches:r}=B.useContext(ji),{pathname:o}=Ni(),c=JSON.stringify(fp(r)),d=B.useRef(!1);return qT(()=>{d.current=!0}),B.useCallback((g,y={})=>{if(si(d.current,BT),!d.current)return;if(typeof g=="number"){t.go(g);return}let T=mp(g,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:us([e,T.pathname])),(y.replace?t.replace:t.push)(T,y.state,y)},[e,t,c,o,i])}B.createContext(null);function vc(i,{relative:e}={}){let{matches:t}=B.useContext(ji),{pathname:r}=Ni(),o=JSON.stringify(fp(t));return B.useMemo(()=>mp(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function jA(i,e){return HT(i,e)}function HT(i,e,t,r){var Z;et(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=B.useContext(oi),{matches:d}=B.useContext(ji),m=d[d.length-1],g=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",x=m&&m.route;{let Q=x&&x.path||"";FT(y,!x||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let R=Ni(),O;if(e){let Q=typeof e=="string"?Ao(e):e;et(T==="/"||((Z=Q.pathname)==null?void 0:Z.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),O=Q}else O=R;let V=O.pathname||"/",K=V;if(T!=="/"){let Q=T.replace(/^\//,"").split("/");K="/"+V.replace(/^\//,"").split("/").slice(Q.length).join("/")}let q=!c&&t&&t.matches&&t.matches.length>0?t.matches:PT(i,{pathname:K});si(x||q!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),si(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=MA(q&&q.map(Q=>Object.assign({},Q,{params:Object.assign({},g,Q.params),pathname:us([T,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?T:us([T,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),d,t,r);return e&&$?B.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function NA(){let i=zA(),e=xA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:c},"ErrorBoundary")," or"," ",B.createElement("code",{style:c},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,d)}var DA=B.createElement(NA,null),OA=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?B.createElement(ji.Provider,{value:this.props.routeContext},B.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kA({routeContext:i,match:e,children:t}){let r=B.useContext(Ro);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ji.Provider,{value:i},t)}function MA(i,e=[],t=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,c=t==null?void 0:t.errors;if(c!=null){let g=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:T,errors:x}=t,R=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||R){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,T)=>{let x,R=!1,O=null,V=null;t&&(x=c&&y.route.id?c[y.route.id]:void 0,O=y.route.errorElement||DA,d&&(m<0&&T===0?(FT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,V=null):m===T&&(R=!0,V=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,T+1)),q=()=>{let $;return x?$=O:R?$=V:y.route.Component?$=B.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,B.createElement(kA,{match:y,routeContext:{outlet:g,matches:K,isDataRoute:t!=null},children:$})};return t&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?B.createElement(OA,{location:t.location,revalidation:t.revalidation,component:O,error:x,children:q(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):q()},null)}function gp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PA(i){let e=B.useContext(Ro);return et(e,gp(i)),e}function VA(i){let e=B.useContext(Bh);return et(e,gp(i)),e}function LA(i){let e=B.useContext(ji);return et(e,gp(i)),e}function yp(i){let e=LA(i),t=e.matches[e.matches.length-1];return et(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function UA(){return yp("useRouteId")}function zA(){var r;let i=B.useContext(pp),e=VA("useRouteError"),t=yp("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[t]}function BA(){let{router:i}=PA("useNavigate"),e=yp("useNavigate"),t=B.useRef(!1);return qT(()=>{t.current=!0}),B.useCallback(async(o,c={})=>{si(t.current,BT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var L_={};function FT(i,e,t){!e&&!L_[i]&&(L_[i]=!0,si(!1,t))}B.memo(qA);function qA({routes:i,future:e,state:t}){return HT(i,void 0,t,e)}function GT({to:i,replace:e,state:t,relative:r}){et(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(oi);si(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=B.useContext(ji),{pathname:d}=Ni(),m=Di(),g=mp(i,fp(c),d,r==="path"),y=JSON.stringify(g);return B.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:r})},[m,y,r,e,t]),null}function st(i){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HA({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:c=!1}){et(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof t=="string"&&(t=Ao(t));let{pathname:g="/",search:y="",hash:T="",state:x=null,key:R="default"}=t,O=B.useMemo(()=>{let V=ms(g,d);return V==null?null:{location:{pathname:V,search:y,hash:T,state:x,key:R},navigationType:r}},[d,g,y,T,x,R,r]);return si(O!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:B.createElement(oi.Provider,{value:m},B.createElement(yc.Provider,{children:e,value:O}))}function FA({children:i,location:e}){return jA(Lm(i),e)}function Lm(i,e=[]){let t=[];return B.Children.forEach(i,(r,o)=>{if(!B.isValidElement(r))return;let c=[...e,o];if(r.type===B.Fragment){t.push.apply(t,Lm(r.props.children,c));return}et(r.type===st,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Lm(r.props.children,c)),t.push(d)}),t}var rh="get",ah="application/x-www-form-urlencoded";function qh(i){return i!=null&&typeof i.tagName=="string"}function GA(i){return qh(i)&&i.tagName.toLowerCase()==="button"}function $A(i){return qh(i)&&i.tagName.toLowerCase()==="form"}function KA(i){return qh(i)&&i.tagName.toLowerCase()==="input"}function QA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function YA(i,e){return i.button===0&&(!e||e==="_self")&&!QA(i)}var Xu=null;function XA(){if(Xu===null)try{new FormData(document.createElement("form"),0),Xu=!1}catch{Xu=!0}return Xu}var WA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(i){return i!=null&&!WA.has(i)?(si(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):i}function ZA(i,e){let t,r,o,c,d;if($A(i)){let m=i.getAttribute("action");r=m?ms(m,e):null,t=i.getAttribute("method")||rh,o=_m(i.getAttribute("enctype"))||ah,c=new FormData(i)}else if(GA(i)||KA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(r=g?ms(g,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||rh,o=_m(i.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||ah,c=new FormData(m,i),!XA()){let{name:y,type:T,value:x}=i;if(T==="image"){let R=y?`${y}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else y&&c.append(y,x)}}else{if(qh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rh,r=null,o=ah,d=i}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:c,body:d}}function vp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function JA(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function tR(i,e,t){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await JA(c,t);return d.links?d.links():[]}return[]}));return rR(r.flat(1).filter(eR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function U_(i,e,t,r,o,c){let d=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,m=(g,y)=>{var T;return t[y].pathname!==g.pathname||((T=t[y].route.path)==null?void 0:T.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,y)=>d(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{var x;let T=r.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(d(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function nR(i,e,{includeHydrateFallback:t}={}){return iR(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function iR(i){return[...new Set(i)]}function sR(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function rR(i,e){let t=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify(sR(o));return t.has(c)||(t.add(c),r.push({key:c,link:o})),r},[])}function aR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&ms(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function $T(){let i=B.useContext(Ro);return vp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function oR(){let i=B.useContext(Bh);return vp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var _p=B.createContext(void 0);_p.displayName="FrameworkContext";function KT(){let i=B.useContext(_p);return vp(i,"You must render this element inside a <HydratedRouter> element"),i}function lR(i,e){let t=B.useContext(_p),[r,o]=B.useState(!1),[c,d]=B.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:x}=e,R=B.useRef(null);B.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let K=$=>{$.forEach(Z=>{d(Z.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[i]),B.useEffect(()=>{if(r){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[r]);let O=()=>{o(!0)},V=()=>{o(!1),d(!1)};return t?i!=="intent"?[c,R,{}]:[c,R,{onFocus:Gl(m,O),onBlur:Gl(g,V),onMouseEnter:Gl(y,O),onMouseLeave:Gl(T,V),onTouchStart:Gl(x,O)}]:[!1,R,{}]}function Gl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function cR({page:i,...e}){let{router:t}=$T(),r=B.useMemo(()=>PT(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?B.createElement(hR,{page:i,matches:r,...e}):null}function uR(i){let{manifest:e,routeModules:t}=KT(),[r,o]=B.useState([]);return B.useEffect(()=>{let c=!1;return tR(i,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[i,e,t]),r}function hR({page:i,matches:e,...t}){let r=Ni(),{manifest:o,routeModules:c}=KT(),{basename:d}=$T(),{loaderData:m,matches:g}=oR(),y=B.useMemo(()=>U_(i,e,g,o,r,"data"),[i,e,g,o,r]),T=B.useMemo(()=>U_(i,e,g,o,r,"assets"),[i,e,g,o,r]),x=B.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let V=new Set,K=!1;if(e.forEach($=>{var Q;let Z=o.routes[$.route.id];!Z||!Z.hasLoader||(!y.some(ae=>ae.route.id===$.route.id)&&$.route.id in m&&((Q=c[$.route.id])!=null&&Q.shouldRevalidate)||Z.hasClientLoader?K=!0:V.add($.route.id))}),V.size===0)return[];let q=aR(i,d);return K&&V.size>0&&q.searchParams.set("_routes",e.filter($=>V.has($.route.id)).map($=>$.route.id).join(",")),[q.pathname+q.search]},[d,m,r,o,y,e,i,c]),R=B.useMemo(()=>nR(T,o),[T,o]),O=uR(T);return B.createElement(B.Fragment,null,x.map(V=>B.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),R.map(V=>B.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),O.map(({key:V,link:K})=>B.createElement("link",{key:V,...K})))}function dR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QT&&(window.__reactRouterVersion="7.3.0")}catch{}function fR({basename:i,children:e,window:t}){let r=B.useRef();r.current==null&&(r.current=nA({window:t,v5Compat:!0}));let o=r.current,[c,d]=B.useState({action:o.action,location:o.location}),m=B.useCallback(g=>{B.startTransition(()=>d(g))},[d]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(HA,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var YT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=B.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:m,target:g,to:y,preventScrollReset:T,viewTransition:x,...R},O){let{basename:V}=B.useContext(oi),K=typeof y=="string"&&YT.test(y),q,$=!1;if(typeof y=="string"&&K&&(q=y,QT))try{let S=new URL(window.location.href),I=y.startsWith("//")?new URL(S.protocol+y):new URL(y),k=ms(I.pathname,V);I.origin===S.origin&&k!=null?y=k+I.search+I.hash:$=!0}catch{si(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=CA(y,{relative:o}),[Q,ae,ce]=lR(r,R),me=yR(y,{replace:d,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:x});function N(S){e&&e(S),S.defaultPrevented||me(S)}let A=B.createElement("a",{...R,...ce,href:q||Z,onClick:$||c?e:N,ref:dR(O,ae),target:g,"data-discover":!K&&t==="render"?"true":void 0});return Q&&!K?B.createElement(B.Fragment,null,A,B.createElement(cR,{page:Z})):A});Ze.displayName="Link";var mR=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:m,children:g,...y},T){let x=vc(d,{relative:y.relative}),R=Ni(),O=B.useContext(Bh),{navigator:V,basename:K}=B.useContext(oi),q=O!=null&&bR(x)&&m===!0,$=V.encodeLocation?V.encodeLocation(x).pathname:x.pathname,Z=R.pathname,Q=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),Q=Q?Q.toLowerCase():null,$=$.toLowerCase()),Q&&K&&(Q=ms(Q,K)||Q);const ae=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ce=Z===$||!o&&Z.startsWith($)&&Z.charAt(ae)==="/",me=Q!=null&&(Q===$||!o&&Q.startsWith($)&&Q.charAt($.length)==="/"),N={isActive:ce,isPending:me,isTransitioning:q},A=ce?e:void 0,S;typeof r=="function"?S=r(N):S=[r,ce?"active":null,me?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(N):c;return B.createElement(Ze,{...y,"aria-current":A,className:S,ref:T,style:I,to:d,viewTransition:m},typeof g=="function"?g(N):g)});mR.displayName="NavLink";var pR=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:c,method:d=rh,action:m,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:x,...R},O)=>{let V=ER(),K=TR(m,{relative:y}),q=d.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&YT.test(m),Z=Q=>{if(g&&g(Q),Q.defaultPrevented)return;Q.preventDefault();let ae=Q.nativeEvent.submitter,ce=(ae==null?void 0:ae.getAttribute("formmethod"))||d;V(ae||Q.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:o,state:c,relative:y,preventScrollReset:T,viewTransition:x})};return B.createElement("form",{ref:O,method:q,action:K,onSubmit:r?g:Z,...R,"data-discover":!$&&i==="render"?"true":void 0})});pR.displayName="Form";function gR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(i){let e=B.useContext(Ro);return et(e,gR(i)),e}function yR(i,{target:e,replace:t,state:r,preventScrollReset:o,relative:c,viewTransition:d}={}){let m=Di(),g=Ni(),y=vc(i,{relative:c});return B.useCallback(T=>{if(YA(T,e)){T.preventDefault();let x=t!==void 0?t:ac(g)===ac(y);m(i,{replace:x,state:r,preventScrollReset:o,relative:c,viewTransition:d})}},[g,m,y,t,r,e,i,o,c,d])}var vR=0,_R=()=>`__${String(++vR)}__`;function ER(){let{router:i}=XT("useSubmit"),{basename:e}=B.useContext(oi),t=UA();return B.useCallback(async(r,o={})=>{let{action:c,method:d,encType:m,formData:g,body:y}=ZA(r,e);if(o.navigate===!1){let T=o.fetcherKey||_R();await i.fetch(T,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function TR(i,{relative:e}={}){let{basename:t}=B.useContext(oi),r=B.useContext(ji);et(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...vc(i||".",{relative:e})},d=Ni();if(i==null){c.search=d.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(x=>x).forEach(x=>m.append("index",x));let T=m.toString();c.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:us([t,c.pathname])),ac(c)}function bR(i,e={}){let t=B.useContext(zT);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XT("useViewTransitionState"),o=vc(i,{relative:e.relative});if(!t.isTransitioning)return!1;let c=ms(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=ms(t.nextLocation.pathname,r)||t.nextLocation.pathname;return yh(o.pathname,d)!=null||yh(o.pathname,c)!=null}new TextEncoder;var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},wR=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[t++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[t++],d=i[t++],m=i[t++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=i[t++],d=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},ZT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,m=d?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,T=c>>2,x=(c&3)<<4|m>>4;let R=(m&15)<<2|y>>6,O=y&63;g||(O=64,d||(R=64)),r.push(t[T],t[x],t[R],t[O])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(WT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):wR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const x=o<i.length?t[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||x==null)throw new xR;const R=c<<2|m>>4;if(r.push(R),y!==64){const O=m<<4&240|y>>2;if(r.push(O),x!==64){const V=y<<6&192|x;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class xR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SR=function(i){const e=WT(i);return ZT.encodeByteArray(e,!0)},vh=function(i){return SR(i).replace(/\./g,"")},JT=function(i){try{return ZT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=()=>AR().__FIREBASE_DEFAULTS__,CR=()=>{if(typeof process>"u"||typeof z_>"u")return;const i=z_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},IR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&JT(i[1]);return e&&JSON.parse(e)},Hh=()=>{try{return RR()||CR()||IR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},e0=i=>{var e,t;return(t=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},t0=i=>{const e=e0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},n0=()=>{var i;return(i=Hh())===null||i===void 0?void 0:i.config},i0=i=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[vh(JSON.stringify(t)),vh(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function DR(){var i;const e=(i=Hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function kR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MR(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function PR(){return!DR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function a0(){try{return typeof indexedDB=="object"}catch{return!1}}function o0(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}function VR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="FirebaseError";class Qn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=LR,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma.prototype.create)}}class ma{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?UR(c,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Qn(o,m,r)}}function UR(i,e){return i.replace(zR,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const zR=/\{\$([^}]+)}/g;function BR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function oc(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const c=i[o],d=e[o];if(B_(c)&&B_(d)){if(!oc(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function B_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ql(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function qR(i,e){const t=new HR(i,e);return t.subscribe.bind(t)}class HR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=1e3,$R=2,KR=4*60*60*1e3,QR=.5;function q_(i,e=GR,t=$R){const r=e*Math.pow(t,i),o=Math.round(QR*r*(Math.random()-.5)*2);return Math.min(KR,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(i){return i&&i._delegate?i._delegate:i}class $n{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new jR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WR(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&d.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XR(i){return i===ea?void 0:i}function WR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new YR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const JR={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},e1=De.INFO,t1={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},n1=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=t1[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fh{constructor(e){this.name=e,this._logLevel=e1,this._logHandler=n1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const i1=(i,e)=>e.some(t=>i instanceof t);let H_,F_;function s1(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r1(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l0=new WeakMap,Um=new WeakMap,c0=new WeakMap,Tm=new WeakMap,Ep=new WeakMap;function a1(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{t(lr(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&l0.set(t,i)}).catch(()=>{}),Ep.set(e,i),e}function o1(i){if(Um.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Um.set(i,e)}let zm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Um.get(i);if(e==="objectStoreNames")return i.objectStoreNames||c0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function l1(i){zm=i(zm)}function c1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(bm(this),e,...t);return c0.set(r,e.sort?e.sort():[e]),lr(r)}:r1().includes(i)?function(...e){return i.apply(bm(this),e),lr(l0.get(this))}:function(...e){return lr(i.apply(bm(this),e))}}function u1(i){return typeof i=="function"?c1(i):(i instanceof IDBTransaction&&o1(i),i1(i,s1())?new Proxy(i,zm):i)}function lr(i){if(i instanceof IDBRequest)return a1(i);if(Tm.has(i))return Tm.get(i);const e=u1(i);return e!==i&&(Tm.set(i,e),Ep.set(e,i)),e}const bm=i=>Ep.get(i);function u0(i,e,{blocked:t,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),m=lr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(lr(d.result),g.oldVersion,g.newVersion,lr(d.transaction),g)}),t&&d.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const h1=["get","getKey","getAll","getAllKeys","count"],d1=["put","add","delete","clear"],wm=new Map;function G_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=d1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||h1.includes(t)))return;const c=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&g.done]))[0]};return wm.set(e,c),c}l1(i=>({...i,get:(e,t,r)=>G_(e,t)||i.get(e,t,r),has:(e,t)=>!!G_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(m1(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function m1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bm="@firebase/app",$_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Fh("@firebase/app"),p1="@firebase/app-compat",g1="@firebase/analytics-compat",y1="@firebase/analytics",v1="@firebase/app-check-compat",_1="@firebase/app-check",E1="@firebase/auth",T1="@firebase/auth-compat",b1="@firebase/database",w1="@firebase/data-connect",x1="@firebase/database-compat",S1="@firebase/functions",A1="@firebase/functions-compat",R1="@firebase/installations",C1="@firebase/installations-compat",I1="@firebase/messaging",j1="@firebase/messaging-compat",N1="@firebase/performance",D1="@firebase/performance-compat",O1="@firebase/remote-config",k1="@firebase/remote-config-compat",M1="@firebase/storage",P1="@firebase/storage-compat",V1="@firebase/firestore",L1="@firebase/vertexai",U1="@firebase/firestore-compat",z1="firebase",B1="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",q1={[Bm]:"fire-core",[p1]:"fire-core-compat",[y1]:"fire-analytics",[g1]:"fire-analytics-compat",[_1]:"fire-app-check",[v1]:"fire-app-check-compat",[E1]:"fire-auth",[T1]:"fire-auth-compat",[b1]:"fire-rtdb",[w1]:"fire-data-connect",[x1]:"fire-rtdb-compat",[S1]:"fire-fn",[A1]:"fire-fn-compat",[R1]:"fire-iid",[C1]:"fire-iid-compat",[I1]:"fire-fcm",[j1]:"fire-fcm-compat",[N1]:"fire-perf",[D1]:"fire-perf-compat",[O1]:"fire-rc",[k1]:"fire-rc-compat",[M1]:"fire-gcs",[P1]:"fire-gcs-compat",[V1]:"fire-fst",[U1]:"fire-fst-compat",[L1]:"fire-vertex","fire-js":"fire-js",[z1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,H1=new Map,Hm=new Map;function K_(i,e){try{i.container.addComponent(e)}catch(t){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ri(i){const e=i.name;if(Hm.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,i);for(const t of _h.values())K_(t,i);for(const t of H1.values())K_(t,i);return!0}function vr(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function mn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new ma("app","Firebase",F1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=B1;function h0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(t||(t=n0()),!t)throw cr.create("no-options");const c=_h.get(o);if(c){if(oc(t,c.options)&&oc(r,c.config))return c;throw cr.create("duplicate-app",{appName:o})}const d=new ZR(o);for(const g of Hm.values())d.addComponent(g);const m=new G1(t,r,d);return _h.set(o,m),m}function Gh(i=qm){const e=_h.get(i);if(!e&&i===qm&&n0())return h0();if(!e)throw cr.create("no-app",{appName:i});return e}function pn(i,e,t){var r;let o=(r=q1[i])!==null&&r!==void 0?r:i;t&&(o+=`-${t}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(m.join(" "));return}ri(new $n(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="firebase-heartbeat-database",K1=1,lc="firebase-heartbeat-store";let xm=null;function d0(){return xm||(xm=u0($1,K1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(lc)}catch(t){console.warn(t)}}}}).catch(i=>{throw cr.create("idb-open",{originalErrorMessage:i.message})})),xm}async function Q1(i){try{const t=(await d0()).transaction(lc),r=await t.objectStore(lc).get(f0(i));return await t.done,r}catch(e){if(e instanceof Qn)ps.warn(e.message);else{const t=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(t.message)}}}async function Q_(i,e){try{const r=(await d0()).transaction(lc,"readwrite");await r.objectStore(lc).put(e,f0(i)),await r.done}catch(t){if(t instanceof Qn)ps.warn(t.message);else{const r=cr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ps.warn(r.message)}}}function f0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=1024,X1=30;class W1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new J1(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Y_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>X1){const d=eC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Y_(),{heartbeatsToSend:r,unsentEntries:o}=Z1(this._heartbeatsCache.heartbeats),c=vh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return ps.warn(t),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function Z1(i,e=Y1){const t=[];let r=i.slice();for(const o of i){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),X_(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),X_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class J1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a0()?o0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Q1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Q_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Q_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function X_(i){return vh(JSON.stringify({version:2,heartbeats:i})).length}function eC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(i){ri(new $n("platform-logger",e=>new f1(e),"PRIVATE")),ri(new $n("heartbeat",e=>new W1(e),"PRIVATE")),pn(Bm,$_,i),pn(Bm,$_,"esm2017"),pn("fire-js","")}tC("");var nC="firebase",iC="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(nC,iC,"app");const m0="@firebase/installations",Tp="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=1e4,g0=`w:${Tp}`,y0="FIS_v2",sC="https://firebaseinstallations.googleapis.com/v1",rC=60*60*1e3,aC="installations",oC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},aa=new ma(aC,oC,lC);function v0(i){return i instanceof Qn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0({projectId:i}){return`${sC}/projects/${i}/installations`}function E0(i){return{token:i.token,requestStatus:2,expiresIn:uC(i.expiresIn),creationTime:Date.now()}}async function T0(i,e){const r=(await e.json()).error;return aa.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function b0({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function cC(i,{refreshToken:e}){const t=b0(i);return t.append("Authorization",hC(e)),t}async function w0(i){const e=await i();return e.status>=500&&e.status<600?i():e}function uC(i){return Number(i.replace("s","000"))}function hC(i){return`${y0} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const r=_0(i),o=b0(i),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={fid:t,authVersion:y0,appId:i.appId,sdkVersion:g0},m={method:"POST",headers:o,body:JSON.stringify(d)},g=await w0(()=>fetch(r,m));if(g.ok){const y=await g.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:E0(y.authToken)}}else throw await T0("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^[cdef][\w-]{21}$/,Fm="";function pC(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=gC(i);return mC.test(t)?t:Fm}catch{return Fm}}function gC(i){return fC(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=new Map;function A0(i,e){const t=$h(i);R0(t,e),yC(t,e)}function R0(i,e){const t=S0.get(i);if(t)for(const r of t)r(e)}function yC(i,e){const t=vC();t&&t.postMessage({key:i,fid:e}),_C()}let ta=null;function vC(){return!ta&&"BroadcastChannel"in self&&(ta=new BroadcastChannel("[Firebase] FID Change"),ta.onmessage=i=>{R0(i.data.key,i.data.fid)}),ta}function _C(){S0.size===0&&ta&&(ta.close(),ta=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebase-installations-database",TC=1,oa="firebase-installations-store";let Sm=null;function bp(){return Sm||(Sm=u0(EC,TC,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(oa)}}})),Sm}async function Eh(i,e){const t=$h(i),o=(await bp()).transaction(oa,"readwrite"),c=o.objectStore(oa),d=await c.get(t);return await c.put(e,t),await o.done,(!d||d.fid!==e.fid)&&A0(i,e.fid),e}async function C0(i){const e=$h(i),r=(await bp()).transaction(oa,"readwrite");await r.objectStore(oa).delete(e),await r.done}async function Kh(i,e){const t=$h(i),o=(await bp()).transaction(oa,"readwrite"),c=o.objectStore(oa),d=await c.get(t),m=e(d);return m===void 0?await c.delete(t):await c.put(m,t),await o.done,m&&(!d||d.fid!==m.fid)&&A0(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(i){let e;const t=await Kh(i.appConfig,r=>{const o=bC(r),c=wC(i,o);return e=c.registrationPromise,c.installationEntry});return t.fid===Fm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function bC(i){const e=i||{fid:pC(),registrationStatus:0};return I0(e)}function wC(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(aa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=xC(i,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:SC(i)}:{installationEntry:e}}async function xC(i,e){try{const t=await dC(i,e);return Eh(i.appConfig,t)}catch(t){throw v0(t)&&t.customData.serverCode===409?await C0(i.appConfig):await Eh(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function SC(i){let e=await W_(i.appConfig);for(;e.registrationStatus===1;)await x0(100),e=await W_(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await wp(i);return r||t}return e}function W_(i){return Kh(i,e=>{if(!e)throw aa.create("installation-not-found");return I0(e)})}function I0(i){return AC(i)?{fid:i.fid,registrationStatus:0}:i}function AC(i){return i.registrationStatus===1&&i.registrationTime+p0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC({appConfig:i,heartbeatServiceProvider:e},t){const r=CC(i,t),o=cC(i,t),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={installation:{sdkVersion:g0,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(d)},g=await w0(()=>fetch(r,m));if(g.ok){const y=await g.json();return E0(y)}else throw await T0("Generate Auth Token",g)}function CC(i,{fid:e}){return`${_0(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(i,e=!1){let t;const r=await Kh(i.appConfig,c=>{if(!j0(c))throw aa.create("not-registered");const d=c.authToken;if(!e&&NC(d))return c;if(d.requestStatus===1)return t=IC(i,e),c;{if(!navigator.onLine)throw aa.create("app-offline");const m=OC(c);return t=jC(i,m),m}});return t?await t:r.authToken}async function IC(i,e){let t=await Z_(i.appConfig);for(;t.authToken.requestStatus===1;)await x0(100),t=await Z_(i.appConfig);const r=t.authToken;return r.requestStatus===0?xp(i,e):r}function Z_(i){return Kh(i,e=>{if(!j0(e))throw aa.create("not-registered");const t=e.authToken;return kC(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function jC(i,e){try{const t=await RC(i,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Eh(i.appConfig,r),t}catch(t){if(v0(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await C0(i.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Eh(i.appConfig,r)}throw t}}function j0(i){return i!==void 0&&i.registrationStatus===2}function NC(i){return i.requestStatus===2&&!DC(i)}function DC(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+rC}function OC(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function kC(i){return i.requestStatus===1&&i.requestTime+p0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(i){const e=i,{installationEntry:t,registrationPromise:r}=await wp(e);return r?r.catch(console.error):xp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(i,e=!1){const t=i;return await VC(t),(await xp(t,e)).token}async function VC(i){const{registrationPromise:e}=await wp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(i){if(!i||!i.options)throw Am("App Configuration");if(!i.name)throw Am("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Am(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Am(i){return aa.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="installations",UC="installations-internal",zC=i=>{const e=i.getProvider("app").getImmediate(),t=LC(e),r=vr(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},BC=i=>{const e=i.getProvider("app").getImmediate(),t=vr(e,N0).getImmediate();return{getId:()=>MC(t),getToken:o=>PC(t,o)}};function qC(){ri(new $n(N0,zC,"PUBLIC")),ri(new $n(UC,BC,"PRIVATE"))}qC();pn(m0,Tp);pn(m0,Tp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="analytics",HC="firebase_id",FC="origin",GC=60*1e3,$C="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new Fh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new ma("analytics","Analytics",KC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(i){if(!i.startsWith(Sp)){const e=An.create("invalid-gtag-resource",{gtagURL:i});return gn.warn(e.message),""}return i}function D0(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function YC(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function XC(i,e){const t=YC("firebase-js-sdk-policy",{createScriptURL:QC}),r=document.createElement("script"),o=`${Sp}?l=${i}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function WC(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function ZC(i,e,t,r,o,c){const d=r[o];try{if(d)await e[d];else{const g=(await D0(t)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(m){gn.error(m)}i("config",o,c)}async function JC(i,e,t,r,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const m=await D0(t);for(const g of d){const y=m.find(x=>x.measurementId===g),T=y&&e[y.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",r,o||{})}catch(c){gn.error(c)}}function eI(i,e,t,r){async function o(c,...d){try{if(c==="event"){const[m,g]=d;await JC(i,e,t,m,g)}else if(c==="config"){const[m,g]=d;await ZC(i,e,t,r,m,g)}else if(c==="consent"){const[m,g]=d;i("consent",m,g)}else if(c==="get"){const[m,g,y]=d;i("get",m,g,y)}else if(c==="set"){const[m]=d;i("set",m)}else i(c,...d)}catch(m){gn.error(m)}}return o}function tI(i,e,t,r,o){let c=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=eI(c,i,e,t),{gtagCore:c,wrappedGtag:window[o]}}function nI(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Sp)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=30,sI=1e3;class rI{constructor(e={},t=sI){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const O0=new rI;function aI(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function oI(i){var e;const{appId:t,apiKey:r}=i,o={method:"GET",headers:aI(r)},c=$C.replace("{app-id}",t),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let m="";try{const g=await d.json();!((e=g.error)===null||e===void 0)&&e.message&&(m=g.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:d.status,responseMessage:m})}return d.json()}async function lI(i,e=O0,t){const{appId:r,apiKey:o,measurementId:c}=i.options;if(!r)throw An.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw An.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new hI;return setTimeout(async()=>{m.abort()},GC),k0({appId:r,apiKey:o,measurementId:c},d,m,e)}async function k0(i,{throttleEndTimeMillis:e,backoffCount:t},r,o=O0){var c;const{appId:d,measurementId:m}=i;try{await cI(r,e)}catch(g){if(m)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:d,measurementId:m};throw g}try{const g=await oI(i);return o.deleteThrottleMetadata(d),g}catch(g){const y=g;if(!uI(y)){if(o.deleteThrottleMetadata(d),m)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:m};throw g}const T=Number((c=y==null?void 0:y.customData)===null||c===void 0?void 0:c.httpStatus)===503?q_(t,o.intervalMillis,iI):q_(t,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+T,backoffCount:t+1};return o.setThrottleMetadata(d,x),gn.debug(`Calling attemptFetch again in ${T} millis`),k0(i,x,r,o)}}function cI(i,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(c),r(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function uI(i){if(!(i instanceof Qn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class hI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function dI(i,e,t,r,o){if(o&&o.global){i("event",t,r);return}else{const c=await e,d=Object.assign(Object.assign({},r),{send_to:c});i("event",t,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(){if(a0())try{await o0()}catch(i){return gn.warn(An.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return gn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function mI(i,e,t,r,o,c,d){var m;const g=lI(i);g.then(O=>{t[O.measurementId]=O.appId,i.options.measurementId&&O.measurementId!==i.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>gn.error(O)),e.push(g);const y=fI().then(O=>{if(O)return r.getId()}),[T,x]=await Promise.all([g,y]);nI(c)||XC(c,T.measurementId),o("js",new Date);const R=(m=d==null?void 0:d.config)!==null&&m!==void 0?m:{};return R[FC]="firebase",R.update=!0,x!=null&&(R[HC]=x),o("config",T.measurementId,R),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.app=e}_delete(){return delete Jl[this.app.options.appId],Promise.resolve()}}let Jl={},J_=[];const eE={};let Rm="dataLayer",gI="gtag",tE,M0,nE=!1;function yI(){const i=[];if(r0()&&i.push("This is a browser extension environment."),VR()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=An.create("invalid-analytics-context",{errorInfo:e});gn.warn(t.message)}}function vI(i,e,t){yI();const r=i.options.appId;if(!r)throw An.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(Jl[r]!=null)throw An.create("already-exists",{id:r});if(!nE){WC(Rm);const{wrappedGtag:c,gtagCore:d}=tI(Jl,J_,eE,Rm,gI);M0=c,tE=d,nE=!0}return Jl[r]=mI(i,J_,eE,e,tE,Rm,t),new pI(i)}function _I(i=Gh()){i=vt(i);const e=vr(i,Th);return e.isInitialized()?e.getImmediate():EI(i)}function EI(i,e={}){const t=vr(i,Th);if(t.isInitialized()){const o=t.getImmediate();if(oc(e,t.getOptions()))return o;throw An.create("already-initialized")}return t.initialize({options:e})}function TI(i,e,t,r){i=vt(i),dI(M0,Jl[i.app.options.appId],e,t,r).catch(o=>gn.error(o))}const iE="@firebase/analytics",sE="0.10.11";function bI(){ri(new $n(Th,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return vI(r,o,t)},"PUBLIC")),ri(new $n("analytics-internal",i,"PRIVATE")),pn(iE,sE),pn(iE,sE,"esm2017");function i(e){try{const t=e.getProvider(Th).getImmediate();return{logEvent:(r,o,c)=>TI(t,r,o,c)}}catch(t){throw An.create("interop-component-reg-failed",{reason:t})}}}bI();function Ap(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(t[r[o]]=i[r[o]]);return t}function P0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wI=P0,V0=new ma("auth","Firebase",P0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Fh("@firebase/auth");function xI(i,...e){bh.logLevel<=De.WARN&&bh.warn(`Auth (${pa}): ${i}`,...e)}function oh(i,...e){bh.logLevel<=De.ERROR&&bh.error(`Auth (${pa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(i,...e){throw Cp(i,...e)}function ii(i,...e){return Cp(i,...e)}function Rp(i,e,t){const r=Object.assign(Object.assign({},wI()),{[e]:t});return new ma("auth","Firebase",r).create(e,{appName:i.name})}function hs(i){return Rp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SI(i,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kn(i,"argument-error"),Rp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cp(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return V0.create(i,...e)}function Ee(i,e,...t){if(!i)throw Cp(e,...t)}function os(i){const e="INTERNAL ASSERTION FAILED: "+i;throw oh(e),new Error(e)}function gs(i,e){i||os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function AI(){return rE()==="http:"||rE()==="https:"}function rE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AI()||r0()||"connection"in navigator)?navigator.onLine:!0}function CI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=NR()||kR()}get(){return RI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i,e){gs(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Ec(3e4,6e4);function _r(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Er(i,e,t,r,o={}){return U0(i,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const m=_c(Object.assign({key:i.config.apiKey},d)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:g},c);return OR()||(y.referrerPolicy="no-referrer"),L0.fetch()(z0(i,i.config.apiHost,t,m),y)})}async function U0(i,e,t){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},II),e);try{const o=new DI(i),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Wu(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Wu(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw Wu(i,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Rp(i,T,y);Kn(i,T)}}catch(o){if(o instanceof Qn)throw o;Kn(i,"network-request-failed",{message:String(o)})}}async function Tc(i,e,t,r,o={}){const c=await Er(i,e,t,r,o);return"mfaPendingCredential"in c&&Kn(i,"multi-factor-auth-required",{_serverResponse:c}),c}function z0(i,e,t,r){const o=`${e}${t}?${r}`;return i.config.emulator?Ip(i.config,o):`${i.config.apiScheme}://${o}`}function NI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ii(this.auth,"network-request-failed")),jI.get())})}}function Wu(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=ii(i,e,r);return o.customData._tokenResponse=t,o}function aE(i){return i!==void 0&&i.enterprise!==void 0}class OI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kI(i,e){return Er(i,"GET","/v2/recaptchaConfig",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(i,e){return Er(i,"POST","/v1/accounts:delete",e)}async function B0(i,e){return Er(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PI(i,e=!1){const t=vt(i),r=await t.getIdToken(e),o=jp(r);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:ec(Cm(o.auth_time)),issuedAtTime:ec(Cm(o.iat)),expirationTime:ec(Cm(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Cm(i){return Number(i)*1e3}function jp(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=JT(t);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function oE(i){const e=jp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Qn&&VI(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function VI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i){var e;const t=i.auth,r=await i.getIdToken(),o=await cc(i,B0(t,{idToken:r}));Ee(o==null?void 0:o.users.length,t,"internal-error");const c=o.users[0];i._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?q0(c.providerUserInfo):[],m=zI(i.providerData,d),g=i.isAnonymous,y=!(i.email&&c.passwordHash)&&!(m!=null&&m.length),T=g?y:!1,x={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new $m(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(i,x)}async function UI(i){const e=vt(i);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zI(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function q0(i){return i.map(e=>{var{providerId:t}=e,r=Ap(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(i,e){const t=await U0(i,{},async()=>{const r=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,d=z0(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",L0.fetch()(d,{method:"POST",headers:m,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qI(i,e){return Er(i,"POST","/v2/accounts:revokeToken",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=oE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:c}=await BI(e,t);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:c}=t,d=new po;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ls{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,c=Ap(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new $m(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await cc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return PI(this,e)}reload(){return UI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await cc(this,MI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,c,d,m,g,y,T;const x=(r=t.displayName)!==null&&r!==void 0?r:void 0,R=(o=t.email)!==null&&o!==void 0?o:void 0,O=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,V=(d=t.photoURL)!==null&&d!==void 0?d:void 0,K=(m=t.tenantId)!==null&&m!==void 0?m:void 0,q=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,$=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Z=(T=t.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:Q,emailVerified:ae,isAnonymous:ce,providerData:me,stsTokenManager:N}=t;Ee(Q&&N,e,"internal-error");const A=po.fromJSON(this.name,N);Ee(typeof Q=="string",e,"internal-error"),nr(x,e.name),nr(R,e.name),Ee(typeof ae=="boolean",e,"internal-error"),Ee(typeof ce=="boolean",e,"internal-error"),nr(O,e.name),nr(V,e.name),nr(K,e.name),nr(q,e.name),nr($,e.name),nr(Z,e.name);const S=new ls({uid:Q,auth:e,email:R,emailVerified:ae,displayName:x,isAnonymous:ce,photoURL:V,phoneNumber:O,tenantId:K,stsTokenManager:A,createdAt:$,lastLoginAt:Z});return me&&Array.isArray(me)&&(S.providerData=me.map(I=>Object.assign({},I))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,t,r=!1){const o=new po;o.updateFromServerResponse(t);const c=new ls({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await wh(c),c}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?q0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new po;m.updateFromIdToken(r);const g=new ls({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;function cs(i){gs(i instanceof Function,"Expected a class definition");let e=lE.get(i);return e?(gs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,lE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}H0.type="NONE";const cE=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(i,e,t){return`firebase:${i}:${e}:${t}`}class go{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,c),this.fullPersistenceKey=lh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new go(cs(cE),e,r);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||cs(cE);const d=lh(r,e.config.apiKey,e.name);let m=null;for(const y of t)try{const T=await y._get(d);if(T){const x=ls._fromJSON(e,T);y!==c&&(m=x),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new go(c,e,r):(c=g[0],m&&await c._set(d,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new go(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y0(e))return"Blackberry";if(X0(e))return"Webos";if(G0(e))return"Safari";if((e.includes("chrome/")||$0(e))&&!e.includes("edge/"))return"Chrome";if(Q0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function F0(i=tn()){return/firefox\//i.test(i)}function G0(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $0(i=tn()){return/crios\//i.test(i)}function K0(i=tn()){return/iemobile/i.test(i)}function Q0(i=tn()){return/android/i.test(i)}function Y0(i=tn()){return/blackberry/i.test(i)}function X0(i=tn()){return/webos/i.test(i)}function Np(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function HI(i=tn()){var e;return Np(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FI(){return MR()&&document.documentMode===10}function W0(i=tn()){return Np(i)||Q0(i)||X0(i)||Y0(i)||/windows phone/i.test(i)||K0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(i,e=[]){let t;switch(i){case"Browser":t=uE(tn());break;case"Worker":t=`${uE(tn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=c=>new Promise((d,m)=>{try{const g=e(c);d(g)}catch(g){m(g)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(i,e={}){return Er(i,"GET","/v2/passwordPolicy",_r(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=6;class QI{constructor(e){var t,r,o,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:KI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,c,d,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new GI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cs(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await B0(this,{idToken:e}),r=await ls._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(mn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===m)&&(g!=null&&g.user)&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(hs(this));const t=e?vt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $I(this),t=new QI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ma("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await qI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cs(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[cs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,o);return()=>{d=!0,g()}}else{const g=e.addObserver(t);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&xI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Tr(i){return vt(i)}class hE{constructor(e){this.auth=e,this.observer=null,this.addObserver=qR(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XI(i){Qh=i}function J0(i){return Qh.loadJS(i)}function WI(){return Qh.recaptchaEnterpriseScript}function ZI(){return Qh.gapiScript}function JI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class ej{constructor(){this.enterprise=new tj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nj="recaptcha-enterprise",eb="NO_RECAPTCHA";class ij{constructor(e){this.type=nj,this.auth=Tr(e)}async verify(e="verify",t=!1){async function r(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{kI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new OI(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{m(g)})})}function o(c,d,m){const g=window.grecaptcha;aE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(eb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ej().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(m=>{if(!t&&aE(window.grecaptcha))o(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=WI();g.length!==0&&(g+=m),J0(g).then(()=>{o(m,c,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function dE(i,e,t,r=!1,o=!1){const c=new ij(i);let d;if(o)d=eb;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Km(i,e,t,r,o){var c;if(!((c=i._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await dE(i,e,t,t==="getOobCode");return r(i,d)}else return r(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await dE(i,e,t,t==="getOobCode");return r(i,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(i,e){const t=vr(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(oc(c,e??{}))return o;Kn(o,"already-initialized")}return t.initialize({options:e})}function rj(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(cs);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aj(i,e,t){const r=Tr(i);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=tb(e),{host:d,port:m}=oj(e),g=m===null?"":`:${m}`;r.config.emulator={url:`${c}//${d}${g}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),lj()}function tb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function oj(i){const e=tb(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:fE(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:fE(d)}}}function fE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function lj(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,t){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function cj(i,e){return Er(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(i,e){return Tc(i,"POST","/v1/accounts:signInWithPassword",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(i,e){return Tc(i,"POST","/v1/accounts:signInWithEmailLink",_r(i,e))}async function dj(i,e){return Tc(i,"POST","/v1/accounts:signInWithEmailLink",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Dp{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new uc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new uc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,t,"signInWithPassword",uj);case"emailLink":return hj(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,r,"signUpPassword",cj);case"emailLink":return dj(e,{idToken:t,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(i,e){return Tc(i,"POST","/v1/accounts:signInWithIdp",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="http://localhost";class la extends Dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,c=Ap(t,["providerId","signInMethod"]);if(!r||!o)return null;const d=new la(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return yo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,yo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yo(e,t)}buildRequest(){const e={requestUri:fj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_c(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pj(i){const e=Kl(Ql(i)).link,t=e?Kl(Ql(e)).deep_link_id:null,r=Kl(Ql(i)).deep_link_id;return(r?Kl(Ql(r)).link:null)||r||t||e||i}class Op{constructor(e){var t,r,o,c,d,m;const g=Kl(Ql(e)),y=(t=g.apiKey)!==null&&t!==void 0?t:null,T=(r=g.oobCode)!==null&&r!==void 0?r:null,x=mj((o=g.mode)!==null&&o!==void 0?o:null);Ee(y&&T&&x,"argument-error"),this.apiKey=y,this.operation=x,this.code=T,this.continueUrl=(c=g.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=g.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=pj(e);try{return new Op(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,t){return uc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Op.parseLink(t);return Ee(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends bc{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return la._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return as.credential(t,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends bc{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends bc{constructor(){super("twitter.com")}static credential(e,t){return la._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return rr.credential(t,r)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(i,e){return Tc(i,"POST","/v1/accounts:signUp",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const c=await ls._fromIdTokenResponse(e,r,o),d=mE(r);return new ca({user:c,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=mE(r);return new ca({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function mE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Qn{constructor(e,t,r,o){var c;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new xh(e,t,r,o)}}function nb(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(i,c,e,r):c})}async function yj(i,e,t=!1){const r=await cc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ca._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(i,e,t=!1){const{auth:r}=i;if(mn(r.app))return Promise.reject(hs(r));const o="reauthenticate";try{const c=await cc(i,nb(r,o,e,i),t);Ee(c.idToken,r,"internal-error");const d=jp(c.idToken);Ee(d,r,"internal-error");const{sub:m}=d;return Ee(i.uid===m,r,"user-mismatch"),ca._forOperation(i,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(i,e,t=!1){if(mn(i.app))return Promise.reject(hs(i));const r="signIn",o=await nb(i,r,e),c=await ca._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(c.user),c}async function _j(i,e){return ib(Tr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sb(i){const e=Tr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ej(i,e,t){if(mn(i.app))return Promise.reject(hs(i));const r=Tr(i),d=await Km(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gj).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&sb(i),g}),m=await ca._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(m.user),m}function Tj(i,e,t){return mn(i.app)?Promise.reject(hs(i)):_j(vt(i),Io.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sb(i),r})}function bj(i,e,t,r){return vt(i).onIdTokenChanged(e,t,r)}function wj(i,e,t){return vt(i).beforeAuthStateChanged(e,t)}function rb(i,e,t,r){return vt(i).onAuthStateChanged(e,t,r)}function xj(i){return vt(i).signOut()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=1e3,Aj=10;class ob extends ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);FI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Aj):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ob.type="LOCAL";const Rj=ob;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lb.type="SESSION";const cb=lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(d).map(async y=>y(t.origin,c)),g=await Cj(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,g)=>{const y=Mp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(x){const R=x;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(R.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function jj(i){Ai().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function Nj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dj(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Oj(){return ub()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="firebaseLocalStorageDb",kj=1,Ah="firebaseLocalStorage",db="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xh(i,e){return i.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function Mj(){const i=indexedDB.deleteDatabase(hb);return new wc(i).toPromise()}function Qm(){const i=indexedDB.open(hb,kj);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Ah,{keyPath:db})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await Mj(),e(await Qm()))})})}async function pE(i,e,t){const r=Xh(i,!0).put({[db]:e,value:t});return new wc(r).toPromise()}async function Pj(i,e){const t=Xh(i,!1).get(e),r=await new wc(t).toPromise();return r===void 0?null:r.value}function gE(i,e){const t=Xh(i,!0).delete(e);return new wc(t).toPromise()}const Vj=800,Lj=3;class fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Lj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(Oj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Nj(),!this.activeServiceWorker)return;this.sender=new Ij(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await pE(e,Sh,"1"),await gE(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>pE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Pj(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Xh(o,!1).getAll();return new wc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fb.type="LOCAL";const Uj=fb;new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(i,e){return e?cs(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends Dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zj(i){return ib(i.auth,new Pp(i),i.bypassAuthState)}function Bj(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),vj(t,new Pp(i),i.bypassAuthState)}async function qj(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),yj(t,new Pp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zj;case"linkViaPopup":case"linkViaRedirect":return qj;case"reauthViaPopup":case"reauthViaRedirect":return Bj;default:Kn(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=new Ec(2e3,1e4);async function Fj(i,e,t){if(mn(i.app))return Promise.reject(ii(i,"operation-not-supported-in-this-environment"));const r=Tr(i);SI(i,e,kp);const o=mb(r,t);return new na(r,"signInViaPopup",e,o).executeNotNull()}class na extends pb{constructor(e,t,r,o,c){super(e,t,o,c),this.provider=r,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hj.get())};e()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="pendingRedirect",ch=new Map;class $j extends pb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await Kj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kj(i,e){const t=Xj(e),r=Yj(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function Qj(i,e){ch.set(i._key(),e)}function Yj(i){return cs(i._redirectPersistence)}function Xj(i){return lh(Gj,i.config.apiKey,i.name)}async function Wj(i,e,t=!1){if(mn(i.app))return Promise.reject(hs(i));const r=Tr(i),o=mb(r,e),d=await new $j(r,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=10*60*1e3;class Jj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gb(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ii(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zj&&this.cachedEventUids.clear(),this.cachedEventUids.has(yE(e))}saveEventToCache(e){this.cachedEventUids.add(yE(e)),this.lastProcessedEventTime=Date.now()}}function yE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function gb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(i,e={}){return Er(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iN=/^https?/;async function sN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await tN(i);for(const t of e)try{if(rN(t))return}catch{}Kn(i,"unauthorized-domain")}function rN(i){const e=Gm(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!iN.test(t))return!1;if(nN.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Ec(3e4,6e4);function vE(){const i=Ai().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function oN(i){return new Promise((e,t)=>{var r,o,c;function d(){vE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vE(),t(ii(i,"network-request-failed"))},timeout:aN.get()})}if(!((o=(r=Ai().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=Ai().gapi)===null||c===void 0)&&c.load)d();else{const m=JI("iframefcb");return Ai()[m]=()=>{gapi.load?d():t(ii(i,"network-request-failed"))},J0(`${ZI()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw uh=null,e})}let uh=null;function lN(i){return uh=uh||oN(i),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new Ec(5e3,15e3),uN="__/auth/iframe",hN="emulator/auth/iframe",dN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mN(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Ip(e,hN):`https://${i.config.authDomain}/${uN}`,r={apiKey:e.apiKey,appName:i.name,v:pa},o=fN.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${t}?${_c(r).slice(1)}`}async function pN(i){const e=await lN(i),t=Ai().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:mN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dN,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=ii(i,"network-request-failed"),m=Ai().setTimeout(()=>{c(d)},cN.get());function g(){Ai().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yN=500,vN=600,_N="_blank",EN="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TN(i,e,t,r=yN,o=vN){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g=Object.assign(Object.assign({},gN),{width:r.toString(),height:o.toString(),top:c,left:d}),y=tn().toLowerCase();t&&(m=$0(y)?_N:t),F0(y)&&(e=e||EN,g.scrollbars="yes");const T=Object.entries(g).reduce((R,[O,V])=>`${R}${O}=${V},`,"");if(HI(y)&&m!=="_self")return bN(e||"",m),new _E(null);const x=window.open(e||"",m,T);Ee(x,i,"popup-blocked");try{x.focus()}catch{}return new _E(x)}function bN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="__/auth/handler",xN="emulator/auth/handler",SN=encodeURIComponent("fac");async function EE(i,e,t,r,o,c){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:pa,eventId:o};if(e instanceof kp){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",BR(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,x]of Object.entries({}))d[T]=x}if(e instanceof bc){const T=e.getScopes().filter(x=>x!=="");T.length>0&&(d.scopes=T.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await i._getAppCheckToken(),y=g?`#${SN}=${encodeURIComponent(g)}`:"";return`${AN(i)}?${_c(m).slice(1)}${y}`}function AN({config:i}){return i.emulator?Ip(i,xN):`https://${i.authDomain}/${wN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class RN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=Wj,this._overrideRedirectResult=Qj}async _openPopup(e,t,r,o){var c;gs((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await EE(e,t,r,Gm(),o);return TN(e,d,Mp())}async _openRedirect(e,t,r,o){await this._originValidation(e);const c=await EE(e,t,r,Gm(),o);return jj(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(gs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await pN(e),r=new Jj(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Im,{type:Im},o=>{var c;const d=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Im];d!==void 0&&t(!!d),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return W0()||G0()||Np()}}const CN=RN;var TE="@firebase/auth",bE="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NN(i){ri(new $n("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z0(i)},y=new YI(r,o,c,g);return rj(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ri(new $n("auth-internal",e=>{const t=Tr(e.getProvider("auth").getImmediate());return(r=>new IN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(TE,bE,jN(i)),pn(TE,bE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=5*60,ON=i0("authIdTokenMaxAge")||DN;let wE=null;const kN=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ON)return;const o=t==null?void 0:t.token;wE!==o&&(wE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Vp(i=Gh()){const e=vr(i,"auth");if(e.isInitialized())return e.getImmediate();const t=sj(i,{popupRedirectResolver:CN,persistence:[Uj,Rj,cb]}),r=i0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=kN(c.toString());wj(t,d,()=>d(t.currentUser)),bj(t,m=>d(m))}}const o=e0("auth");return o&&aj(t,`http://${o}`),t}function MN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}XI({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=ii("internal-error");c.customData=o,t(c)},r.type="text/javascript",r.charset="UTF-8",MN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NN("Browser");const PN={apiKey:"AIzaSyD3pEM49vWCUqZxvE8W2KhDRc3niHfT7p8",authDomain:"psych-67c1c.firebaseapp.com",projectId:"psych-67c1c",storageBucket:"psych-67c1c.firebasestorage.app",messagingSenderId:"183648512326",appId:"1:183648512326:web:8e382ca479ea61342f9d47",measurementId:"G-9TRYDJJCDP"},yb=h0(PN);_I(yb);const vb=Vp(yb),Lp=B.createContext({darkMode:!1,toggleDarkMode:()=>{}}),VN=({children:i})=>{const e=()=>{const c=localStorage.getItem("darkMode");return c!==null?c==="true":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches},[t,r]=B.useState(e),o=()=>{r(c=>!c)};return B.useEffect(()=>{localStorage.setItem("darkMode",t),t?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[t]),B.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{localStorage.getItem("darkMode")===null&&r(c.matches)};return c.addEventListener("change",d),()=>c.removeEventListener("change",d)},[]),u.jsx(Lp.Provider,{value:{darkMode:t,toggleDarkMode:o},children:i})};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_b=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=B.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...m},g)=>B.createElement("svg",{ref:g,...UN,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:_b("lucide",o),...m},[...d.map(([y,T])=>B.createElement(y,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=(i,e)=>{const t=B.forwardRef(({className:r,...o},c)=>B.createElement(zN,{ref:c,iconNode:e,className:_b(`lucide-${LN(i)}`,r),...o}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qN=Rn("Bell",BN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],FN=Rn("Calendar",HN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ti=Rn("ChevronRight",GN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],xE=Rn("CircleUser",$N);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QN=Rn("FileText",KN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],XN=Rn("LogOut",YN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],ZN=Rn("Moon",WN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eD=Rn("Settings",JN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nD=Rn("Shield",tD);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],sD=Rn("SquareActivity",iD);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],aD=Rn("User",rD);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],lD=Rn("Users",oD);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],SE=Rn("X",cD);var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ur,Eb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function S(){}S.prototype=A.prototype,N.D=A.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(I,k,U){for(var j=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)j[mt-2]=arguments[mt];return A.prototype[k].apply(I,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,S){S||(S=0);var I=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)I[k]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(k=0;16>k;++k)I[k]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=N.g[0],S=N.g[1],k=N.g[2];var U=N.g[3],j=A+(U^S&(k^U))+I[0]+3614090360&4294967295;A=S+(j<<7&4294967295|j>>>25),j=U+(k^A&(S^k))+I[1]+3905402710&4294967295,U=A+(j<<12&4294967295|j>>>20),j=k+(S^U&(A^S))+I[2]+606105819&4294967295,k=U+(j<<17&4294967295|j>>>15),j=S+(A^k&(U^A))+I[3]+3250441966&4294967295,S=k+(j<<22&4294967295|j>>>10),j=A+(U^S&(k^U))+I[4]+4118548399&4294967295,A=S+(j<<7&4294967295|j>>>25),j=U+(k^A&(S^k))+I[5]+1200080426&4294967295,U=A+(j<<12&4294967295|j>>>20),j=k+(S^U&(A^S))+I[6]+2821735955&4294967295,k=U+(j<<17&4294967295|j>>>15),j=S+(A^k&(U^A))+I[7]+4249261313&4294967295,S=k+(j<<22&4294967295|j>>>10),j=A+(U^S&(k^U))+I[8]+1770035416&4294967295,A=S+(j<<7&4294967295|j>>>25),j=U+(k^A&(S^k))+I[9]+2336552879&4294967295,U=A+(j<<12&4294967295|j>>>20),j=k+(S^U&(A^S))+I[10]+4294925233&4294967295,k=U+(j<<17&4294967295|j>>>15),j=S+(A^k&(U^A))+I[11]+2304563134&4294967295,S=k+(j<<22&4294967295|j>>>10),j=A+(U^S&(k^U))+I[12]+1804603682&4294967295,A=S+(j<<7&4294967295|j>>>25),j=U+(k^A&(S^k))+I[13]+4254626195&4294967295,U=A+(j<<12&4294967295|j>>>20),j=k+(S^U&(A^S))+I[14]+2792965006&4294967295,k=U+(j<<17&4294967295|j>>>15),j=S+(A^k&(U^A))+I[15]+1236535329&4294967295,S=k+(j<<22&4294967295|j>>>10),j=A+(k^U&(S^k))+I[1]+4129170786&4294967295,A=S+(j<<5&4294967295|j>>>27),j=U+(S^k&(A^S))+I[6]+3225465664&4294967295,U=A+(j<<9&4294967295|j>>>23),j=k+(A^S&(U^A))+I[11]+643717713&4294967295,k=U+(j<<14&4294967295|j>>>18),j=S+(U^A&(k^U))+I[0]+3921069994&4294967295,S=k+(j<<20&4294967295|j>>>12),j=A+(k^U&(S^k))+I[5]+3593408605&4294967295,A=S+(j<<5&4294967295|j>>>27),j=U+(S^k&(A^S))+I[10]+38016083&4294967295,U=A+(j<<9&4294967295|j>>>23),j=k+(A^S&(U^A))+I[15]+3634488961&4294967295,k=U+(j<<14&4294967295|j>>>18),j=S+(U^A&(k^U))+I[4]+3889429448&4294967295,S=k+(j<<20&4294967295|j>>>12),j=A+(k^U&(S^k))+I[9]+568446438&4294967295,A=S+(j<<5&4294967295|j>>>27),j=U+(S^k&(A^S))+I[14]+3275163606&4294967295,U=A+(j<<9&4294967295|j>>>23),j=k+(A^S&(U^A))+I[3]+4107603335&4294967295,k=U+(j<<14&4294967295|j>>>18),j=S+(U^A&(k^U))+I[8]+1163531501&4294967295,S=k+(j<<20&4294967295|j>>>12),j=A+(k^U&(S^k))+I[13]+2850285829&4294967295,A=S+(j<<5&4294967295|j>>>27),j=U+(S^k&(A^S))+I[2]+4243563512&4294967295,U=A+(j<<9&4294967295|j>>>23),j=k+(A^S&(U^A))+I[7]+1735328473&4294967295,k=U+(j<<14&4294967295|j>>>18),j=S+(U^A&(k^U))+I[12]+2368359562&4294967295,S=k+(j<<20&4294967295|j>>>12),j=A+(S^k^U)+I[5]+4294588738&4294967295,A=S+(j<<4&4294967295|j>>>28),j=U+(A^S^k)+I[8]+2272392833&4294967295,U=A+(j<<11&4294967295|j>>>21),j=k+(U^A^S)+I[11]+1839030562&4294967295,k=U+(j<<16&4294967295|j>>>16),j=S+(k^U^A)+I[14]+4259657740&4294967295,S=k+(j<<23&4294967295|j>>>9),j=A+(S^k^U)+I[1]+2763975236&4294967295,A=S+(j<<4&4294967295|j>>>28),j=U+(A^S^k)+I[4]+1272893353&4294967295,U=A+(j<<11&4294967295|j>>>21),j=k+(U^A^S)+I[7]+4139469664&4294967295,k=U+(j<<16&4294967295|j>>>16),j=S+(k^U^A)+I[10]+3200236656&4294967295,S=k+(j<<23&4294967295|j>>>9),j=A+(S^k^U)+I[13]+681279174&4294967295,A=S+(j<<4&4294967295|j>>>28),j=U+(A^S^k)+I[0]+3936430074&4294967295,U=A+(j<<11&4294967295|j>>>21),j=k+(U^A^S)+I[3]+3572445317&4294967295,k=U+(j<<16&4294967295|j>>>16),j=S+(k^U^A)+I[6]+76029189&4294967295,S=k+(j<<23&4294967295|j>>>9),j=A+(S^k^U)+I[9]+3654602809&4294967295,A=S+(j<<4&4294967295|j>>>28),j=U+(A^S^k)+I[12]+3873151461&4294967295,U=A+(j<<11&4294967295|j>>>21),j=k+(U^A^S)+I[15]+530742520&4294967295,k=U+(j<<16&4294967295|j>>>16),j=S+(k^U^A)+I[2]+3299628645&4294967295,S=k+(j<<23&4294967295|j>>>9),j=A+(k^(S|~U))+I[0]+4096336452&4294967295,A=S+(j<<6&4294967295|j>>>26),j=U+(S^(A|~k))+I[7]+1126891415&4294967295,U=A+(j<<10&4294967295|j>>>22),j=k+(A^(U|~S))+I[14]+2878612391&4294967295,k=U+(j<<15&4294967295|j>>>17),j=S+(U^(k|~A))+I[5]+4237533241&4294967295,S=k+(j<<21&4294967295|j>>>11),j=A+(k^(S|~U))+I[12]+1700485571&4294967295,A=S+(j<<6&4294967295|j>>>26),j=U+(S^(A|~k))+I[3]+2399980690&4294967295,U=A+(j<<10&4294967295|j>>>22),j=k+(A^(U|~S))+I[10]+4293915773&4294967295,k=U+(j<<15&4294967295|j>>>17),j=S+(U^(k|~A))+I[1]+2240044497&4294967295,S=k+(j<<21&4294967295|j>>>11),j=A+(k^(S|~U))+I[8]+1873313359&4294967295,A=S+(j<<6&4294967295|j>>>26),j=U+(S^(A|~k))+I[15]+4264355552&4294967295,U=A+(j<<10&4294967295|j>>>22),j=k+(A^(U|~S))+I[6]+2734768916&4294967295,k=U+(j<<15&4294967295|j>>>17),j=S+(U^(k|~A))+I[13]+1309151649&4294967295,S=k+(j<<21&4294967295|j>>>11),j=A+(k^(S|~U))+I[4]+4149444226&4294967295,A=S+(j<<6&4294967295|j>>>26),j=U+(S^(A|~k))+I[11]+3174756917&4294967295,U=A+(j<<10&4294967295|j>>>22),j=k+(A^(U|~S))+I[2]+718787259&4294967295,k=U+(j<<15&4294967295|j>>>17),j=S+(U^(k|~A))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(k+(j<<21&4294967295|j>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var S=A-this.blockSize,I=this.B,k=this.h,U=0;U<A;){if(k==0)for(;U<=S;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(I[k++]=N.charCodeAt(U++),k==this.blockSize){o(this,I),k=0;break}}else for(;U<A;)if(I[k++]=N[U++],k==this.blockSize){o(this,I),k=0;break}}this.h=k,this.o+=A},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var S=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=S&255,S/=256;for(this.u(N),N=Array(16),A=S=0;4>A;++A)for(var I=0;32>I;I+=8)N[S++]=this.g[A]>>>I&255;return N};function c(N,A){var S=m;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=A(N)}function d(N,A){this.h=A;for(var S=[],I=!0,k=N.length-1;0<=k;k--){var U=N[k]|0;I&&U==A||(S[k]=U,I=!1)}this.g=S}var m={};function g(N){return-128<=N&&128>N?c(N,function(A){return new d([A|0],0>A?-1:0)}):new d([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return x;if(0>N)return q(y(-N));for(var A=[],S=1,I=0;N>=S;I++)A[I]=N/S|0,S*=4294967296;return new d(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return q(T(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(A,8)),I=x,k=0;k<N.length;k+=8){var U=Math.min(8,N.length-k),j=parseInt(N.substring(k,k+U),A);8>U?(U=y(Math.pow(A,U)),I=I.j(U).add(y(j))):(I=I.j(S),I=I.add(y(j)))}return I}var x=g(0),R=g(1),O=g(16777216);i=d.prototype,i.m=function(){if(K(this))return-q(this).m();for(var N=0,A=1,S=0;S<this.g.length;S++){var I=this.i(S);N+=(0<=I?I:4294967296+I)*A,A*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(V(this))return"0";if(K(this))return"-"+q(this).toString(N);for(var A=y(Math.pow(N,6)),S=this,I="";;){var k=ae(S,A).g;S=$(S,k.j(A));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=k,V(S))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function V(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function K(N){return N.h==-1}i.l=function(N){return N=$(this,N),K(N)?-1:V(N)?0:1};function q(N){for(var A=N.g.length,S=[],I=0;I<A;I++)S[I]=~N.g[I];return new d(S,~N.h).add(R)}i.abs=function(){return K(this)?q(this):this},i.add=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],I=0,k=0;k<=A;k++){var U=I+(this.i(k)&65535)+(N.i(k)&65535),j=(U>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);I=j>>>16,U&=65535,j&=65535,S[k]=j<<16|U}return new d(S,S[S.length-1]&-2147483648?-1:0)};function $(N,A){return N.add(q(A))}i.j=function(N){if(V(this)||V(N))return x;if(K(this))return K(N)?q(this).j(q(N)):q(q(this).j(N));if(K(N))return q(this.j(q(N)));if(0>this.l(O)&&0>N.l(O))return y(this.m()*N.m());for(var A=this.g.length+N.g.length,S=[],I=0;I<2*A;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<N.g.length;k++){var U=this.i(I)>>>16,j=this.i(I)&65535,mt=N.i(k)>>>16,at=N.i(k)&65535;S[2*I+2*k]+=j*at,Z(S,2*I+2*k),S[2*I+2*k+1]+=U*at,Z(S,2*I+2*k+1),S[2*I+2*k+1]+=j*mt,Z(S,2*I+2*k+1),S[2*I+2*k+2]+=U*mt,Z(S,2*I+2*k+2)}for(I=0;I<A;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=A;I<2*A;I++)S[I]=0;return new d(S,0)};function Z(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function Q(N,A){this.g=N,this.h=A}function ae(N,A){if(V(A))throw Error("division by zero");if(V(N))return new Q(x,x);if(K(N))return A=ae(q(N),A),new Q(q(A.g),q(A.h));if(K(A))return A=ae(N,q(A)),new Q(q(A.g),A.h);if(30<N.g.length){if(K(N)||K(A))throw Error("slowDivide_ only works with positive integers.");for(var S=R,I=A;0>=I.l(N);)S=ce(S),I=ce(I);var k=me(S,1),U=me(I,1);for(I=me(I,2),S=me(S,2);!V(I);){var j=U.add(I);0>=j.l(N)&&(k=k.add(S),U=j),I=me(I,1),S=me(S,1)}return A=$(N,k.j(A)),new Q(k,A)}for(k=x;0<=N.l(A);){for(S=Math.max(1,Math.floor(N.m()/A.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=y(S),j=U.j(A);K(j)||0<j.l(N);)S-=I,U=y(S),j=U.j(A);V(U)&&(U=R),k=k.add(U),N=$(N,j)}return new Q(k,N)}i.A=function(N){return ae(this,N).h},i.and=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)&N.i(I);return new d(S,this.h&N.h)},i.or=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)|N.i(I);return new d(S,this.h|N.h)},i.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)^N.i(I);return new d(S,this.h^N.h)};function ce(N){for(var A=N.g.length+1,S=[],I=0;I<A;I++)S[I]=N.i(I)<<1|N.i(I-1)>>>31;return new d(S,N.h)}function me(N,A){var S=A>>5;A%=32;for(var I=N.g.length-S,k=[],U=0;U<I;U++)k[U]=0<A?N.i(U+S)>>>A|N.i(U+S+1)<<32-A:N.i(U+S);return new d(k,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Eb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,ur=d}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tb,Yl,bb,hh,Ym,wb,xb,Sb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(h,v){if(v)e:{var _=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var z=h[w];if(!(z in _))break e;_=_[z]}h=h[h.length-1],w=_[h],v=v(w),v!=w&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}function c(h,v){h instanceof String&&(h+="");var _=0,w=!1,z={next:function(){if(!w&&_<h.length){var G=_++;return{value:v(G,h[G]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(h){return h||function(){return c(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function y(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function T(h,v,_){return h.call.apply(h.bind,arguments)}function x(h,v,_){if(!h)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),h.apply(v,z)}}return function(){return h.apply(v,arguments)}}function R(h,v,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:x,R.apply(null,arguments)}function O(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function V(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(w,z,G){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return v.prototype[z].apply(w,se)}}function K(h){const v=h.length;if(0<v){const _=Array(v);for(let w=0;w<v;w++)_[w]=h[w];return _}return[]}function q(h,v){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(g(w)){const z=h.length||0,G=w.length||0;h.length=z+G;for(let se=0;se<G;se++)h[z+se]=w[se]}else h.push(w)}}class ${constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Z(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function ae(h){return ae[" "](h),h}ae[" "]=function(){};var ce=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function me(h,v,_){for(const w in h)v.call(_,h[w],w,h)}function N(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function A(h){const v={};for(const _ in h)v[_]=h[_];return v}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,v){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)h[_]=w[_];for(let G=0;G<S.length;G++)_=S[G],Object.prototype.hasOwnProperty.call(w,_)&&(h[_]=w[_])}}function k(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function U(h){m.setTimeout(()=>{throw h},0)}function j(){var h=be;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class mt{constructor(){this.h=this.g=null}add(v,_){const w=at.get();w.set(v,_),this.h?this.h.next=w:this.g=w,this.h=w}}var at=new $(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ie=!1,be=new mt,D=()=>{const h=m.Promise.resolve(void 0);ve=()=>{h.then(Y)}};var Y=()=>{for(var h;h=j();){try{h.h.call(h.g)}catch(_){U(_)}var v=at;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ie=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};m.addEventListener("test",_,v),m.removeEventListener("test",_,v)}catch{}return h}();function Ce(h,v){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ce){e:{try{ae(v.nodeName);var z=!0;break e}catch{}z=!1}z||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ae[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}V(Ce,oe);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),ze=0;function ot(h,v,_,w,z){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!w,this.ha=z,this.key=++ze,this.da=this.fa=!1}function $e(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function nn(h){this.src=h,this.g={},this.h=0}nn.prototype.add=function(h,v,_,w,z){var G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);var se=Cn(h,v,w,z);return-1<se?(v=h[se],_||(v.fa=!1)):(v=new ot(v,this.src,G,!!w,z),v.fa=_,h.push(v)),v};function Oi(h,v){var _=v.type;if(_ in h.g){var w=h.g[_],z=Array.prototype.indexOf.call(w,v,void 0),G;(G=0<=z)&&Array.prototype.splice.call(w,z,1),G&&($e(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Cn(h,v,_,w){for(var z=0;z<h.length;++z){var G=h[z];if(!G.da&&G.listener==v&&G.capture==!!_&&G.ha==w)return z}return-1}var _s="closure_lm_"+(1e6*Math.random()|0),Es={};function ki(h,v,_,w,z){if(Array.isArray(v)){for(var G=0;G<v.length;G++)ki(h,v[G],_,w,z);return null}return _=Ic(_),h&&h[_t]?h.K(v,_,y(w)?!!w.capture:!1,z):Vo(h,v,_,!1,w,z)}function Vo(h,v,_,w,z,G){if(!v)throw Error("Invalid event type");var se=y(z)?!!z.capture:!!z,Pe=Lo(h);if(Pe||(h[_s]=Pe=new nn(h)),_=Pe.add(v,_,w,se,G),_.proxy)return _;if(w=Ea(),_.proxy=w,w.src=h,w.listener=_,h.addEventListener)ue||(z=se),z===void 0&&(z=!1),h.addEventListener(v.toString(),w,z);else if(h.attachEvent)h.attachEvent(ba(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ea(){function h(_){return v.call(h.src,h.listener,_)}const v=fd;return h}function Ta(h,v,_,w,z){if(Array.isArray(v))for(var G=0;G<v.length;G++)Ta(h,v[G],_,w,z);else w=y(w)?!!w.capture:!!w,_=Ic(_),h&&h[_t]?(h=h.i,v=String(v).toString(),v in h.g&&(G=h.g[v],_=Cn(G,_,w,z),-1<_&&($e(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete h.g[v],h.h--)))):h&&(h=Lo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Cn(v,_,w,z)),(_=-1<h?v[h]:null)&&br(_))}function br(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[_t])Oi(v.i,h);else{var _=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(_,w,h.capture):v.detachEvent?v.detachEvent(ba(_),w):v.addListener&&v.removeListener&&v.removeListener(w),(_=Lo(v))?(Oi(_,h),_.h==0&&(_.src=null,v[_s]=null)):$e(h)}}}function ba(h){return h in Es?Es[h]:Es[h]="on"+h}function fd(h,v){if(h.da)h=!0;else{v=new Ce(v,this);var _=h.listener,w=h.ha||h.src;h.fa&&br(h),h=_.call(w,v)}return h}function Lo(h){return h=h[_s],h instanceof nn?h:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ic(h){return typeof h=="function"?h:(h[un]||(h[un]=function(v){return h.handleEvent(v)}),h[un])}function St(){le.call(this),this.i=new nn(this),this.M=this,this.F=null}V(St,le),St.prototype[_t]=!0,St.prototype.removeEventListener=function(h,v,_,w){Ta(this,h,v,_,w)};function kt(h,v){var _,w=h.F;if(w)for(_=[];w;w=w.F)_.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new oe(v,h);else if(v instanceof oe)v.target=v.target||h;else{var z=v;v=new oe(w,h),I(v,z)}if(z=!0,_)for(var G=_.length-1;0<=G;G--){var se=v.g=_[G];z=Mi(se,w,!0,v)&&z}if(se=v.g=h,z=Mi(se,w,!0,v)&&z,z=Mi(se,w,!1,v)&&z,_)for(G=0;G<_.length;G++)se=v.g=_[G],z=Mi(se,w,!1,v)&&z}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],w=0;w<_.length;w++)$e(_[w]);delete h.g[v],h.h--}}this.F=null},St.prototype.K=function(h,v,_,w){return this.i.add(String(h),v,!1,_,w)},St.prototype.L=function(h,v,_,w){return this.i.add(String(h),v,!0,_,w)};function Mi(h,v,_,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var z=!0,G=0;G<v.length;++G){var se=v[G];if(se&&!se.da&&se.capture==_){var Pe=se.listener,Rt=se.ha||se.src;se.fa&&Oi(h.i,se),z=Pe.call(Rt,w)!==!1&&z}}return z&&!w.defaultPrevented}function jc(h,v,_){if(typeof h=="function")_&&(h=R(h,_));else if(h&&typeof h.handleEvent=="function")h=R(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(h,v||0)}function Uo(h){h.g=jc(()=>{h.g=null,h.i&&(h.i=!1,Uo(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class md extends le{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(h){le.call(this),this.h=h,this.g={}}V(wr,le);var Ts=[];function Yt(h){me(h.g,function(v,_){this.g.hasOwnProperty(_)&&br(v)},h),h.g={}}wr.prototype.N=function(){wr.aa.N.call(this),Yt(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zo=m.JSON.stringify,li=m.JSON.parse,sn=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function Bo(){}Bo.prototype.h=null;function Nc(h){return h.h||(h.h=h.i())}function Dc(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bs(){oe.call(this,"d")}V(bs,oe);function Yn(){oe.call(this,"c")}V(Yn,oe);var In={},ws=null;function wa(){return ws=ws||new St}In.La="serverreachability";function qo(h){oe.call(this,In.La,h)}V(qo,oe);function xs(h){const v=wa();kt(v,new qo(v))}In.STAT_EVENT="statevent";function xa(h,v){oe.call(this,In.STAT_EVENT,h),this.stat=v}V(xa,oe);function pt(h){const v=wa();kt(v,new xa(v,h))}In.Ma="timingevent";function Oc(h,v){oe.call(this,In.Ma,h),this.size=v}V(Oc,oe);function Ss(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},v)}function As(){this.g=!0}As.prototype.xa=function(){this.g=!1};function kc(h,v,_,w,z,G){h.info(function(){if(h.g)if(G)for(var se="",Pe=G.split("&"),Rt=0;Rt<Pe.length;Rt++){var Ve=Pe[Rt].split("=");if(1<Ve.length){var Vt=Ve[0];Ve=Ve[1];var Ct=Vt.split("_");se=2<=Ct.length&&Ct[1]=="type"?se+(Vt+"="+Ve+"&"):se+(Vt+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+v+`
`+_+`
`+se})}function Mc(h,v,_,w,z,G,se){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+v+`
`+_+`
`+G+" "+se})}function Rs(h,v,_,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Mt(h,_)+(w?" "+w:"")})}function ui(h,v){h.info(function(){return"TIMEOUT: "+v})}As.prototype.info=function(){};function Mt(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var w=_[h];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return zo(_)}catch{return v}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function Sa(){}V(Sa,Bo),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},xr=new Sa;function hi(h,v,_,w){this.j=h,this.i=v,this.l=_,this.R=w||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ho}function Ho(){this.i=null,this.g="",this.h=!1}var Cs={},Sr={};function Xn(h,v,_){h.L=1,h.v=Cr(lt(v)),h.m=_,h.P=!0,Vi(h,null)}function Vi(h,v){h.F=Date.now(),tt(h),h.A=lt(h.v);var _=h.A,w=h.R;Array.isArray(w)||(w=[String(w)]),zi(_.i,"t",w),h.C=0,_=h.j.J,h.h=new Ho,h.g=Yc(h.j,_?v:null,!h.m),0<h.O&&(h.M=new md(R(h.Y,h,h.g),h.O)),v=h.U,_=h.g,w=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ts[0]=z.toString()),z=Ts);for(var G=0;G<z.length;G++){var se=ki(_,z[G],w||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),xs(),kc(h.i,h.u,h.A,h.l,h.R,h.m)}hi.prototype.ca=function(h){h=h.target;const v=this.M;v&&kn(h)==3?v.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const Ct=kn(this.g);var v=this.g.Ba();const Fi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Bc(this.g)))){this.J||Ct!=4||v==7||(v==8||0>=Fi?xs(3):xs(2)),Aa(this);var _=this.g.Z();this.X=_;t:if(Is(this)){var w=Bc(this.g);h="";var z=w.length,G=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),vn(this);var se="";break t}this.h.i=new m.TextDecoder}for(v=0;v<z;v++)this.h.h=!0,h+=this.h.i.decode(w[v],{stream:!(G&&v==z-1)});w.length=0,this.h.g+=h,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Mc(this.i,this.u,this.A,this.l,this.R,Ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Rt=this.g;if((Pe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Pe)){var Ve=Pe;break t}}Ve=null}if(_=Ve)Rs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_n(this,_);else{this.o=!1,this.s=3,pt(12),hn(this),vn(this);break e}}if(this.P){_=!0;let qt;for(;!this.J&&this.C<se.length;)if(qt=js(this,se),qt==Sr){Ct==4&&(this.s=4,pt(14),_=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Cs){this.s=4,pt(15),Rs(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else Rs(this.i,this.l,qt,null),_n(this,qt);if(Is(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||se.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)Rs(this.i,this.l,se,"[Invalid Chunked Response]"),hn(this),vn(this);else if(0<se.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Mr(Vt),Vt.M=!0,pt(11))}}else Rs(this.i,this.l,se,null),_n(this,se);Ct==4&&hn(this),this.o&&!this.J&&(Ct==4?$c(this.j,this):(this.o=!1,tt(this)))}else Ed(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),hn(this),vn(this)}}}catch{}finally{}};function Is(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function js(h,v){var _=h.C,w=v.indexOf(`
`,_);return w==-1?Sr:(_=Number(v.substring(_,w)),isNaN(_)?Cs:(w+=1,w+_>v.length?Sr:(v=v.slice(w,w+_),h.C=w+_,v)))}hi.prototype.cancel=function(){this.J=!0,hn(this)};function tt(h){h.S=Date.now()+h.I,Fo(h,h.I)}function Fo(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ss(R(h.ba,h),v)}function Aa(h){h.B&&(m.clearTimeout(h.B),h.B=null)}hi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ui(this.i,this.A),this.L!=2&&(xs(),pt(17)),hn(this),this.s=2,vn(this)):Fo(this,this.S-h)};function vn(h){h.j.G==0||h.J||$c(h.j,h)}function hn(h){Aa(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Yt(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function _n(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||Ns(_.h,h))){if(!h.K&&Ns(_.h,h)&&_.G==3){try{var w=_.Da.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Pa(_),ka(_);else break e;tl(_),pt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ss(R(_.Za,_),6e3));if(1>=Pc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Hi(_,11)}else if((h.K||_.g==h)&&Pa(_),!Z(v))for(z=_.Da.g.parse(v),v=0;v<z.length;v++){let Ve=z[v];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Vt=Ve[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const Ct=Ve[4];Ct!=null&&(_.Aa=Ct,_.j.info("SVER="+_.Aa));const Fi=Ve[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(w=1.5*Fi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const qt=h.g;if(qt){const vi=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var G=w.h;G.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ds(G,G.h),G.h=null))}if(w.D){const il=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(w.ya=il,Be(w.I,w.D,il))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var se=h;if(w.qa=Qc(w,w.J?w.ia:null,w.W),se.K){jn(w.h,se);var Pe=se,Rt=w.L;Rt&&(Pe.I=Rt),Pe.B&&(Aa(Pe),tt(Pe)),w.g=se}else Fc(w);0<_.i.length&&Ma(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Hi(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Hi(_,7):Jo(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}xs(4)}catch{}}var pd=class{constructor(h,v){this.g=h,this.map=v}};function Go(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $o(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pc(h){return h.h?1:h.g?h.g.size:0}function Ns(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ds(h,v){h.g?h.g.add(v):h.h=v}function jn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Go.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return K(h.i)}function Vc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(g(h)){for(var v=[],_=h.length,w=0;w<_;w++)v.push(h[w]);return v}v=[],_=0;for(w in h)v[_++]=h[w];return v}function gd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(g(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const w in h)v[_++]=w;return v}}}function Ar(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(g(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=gd(h),w=Vc(h),z=w.length,G=0;G<z;G++)v.call(void 0,w[G],_&&_[G],h)}var Ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var w=h[_].indexOf("="),z=null;if(0<=w){var G=h[_].substring(0,w);z=h[_].substring(w+1)}else G=h[_];v(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Li(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Li){this.h=h.h,Os(this,h.j),this.o=h.o,this.g=h.g,Rr(this,h.s),this.l=h.l;var v=h.i,_=new di;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Ca(this,_),this.m=h.m}else h&&(v=String(h).match(Ko))?(this.h=!1,Os(this,v[1]||"",!0),this.o=ks(v[2]||""),this.g=ks(v[3]||"",!0),Rr(this,v[4]),this.l=ks(v[5]||"",!0),Ca(this,v[6]||"",!0),this.m=ks(v[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Li.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Nn(v,Qo,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Nn(v,Qo,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Nn(_,_.charAt(0)=="/"?Yo:Lc,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Nn(_,_d)),h.join("")};function lt(h){return new Li(h)}function Os(h,v,_){h.j=_?ks(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Rr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ca(h,v,_){v instanceof di?(h.i=v,Xo(h.i,h.h)):(_||(v=Nn(v,vd)),h.i=new di(v,h.h))}function Be(h,v,_){h.i.set(v,_)}function Cr(h){return Be(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ks(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Nn(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,yd),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Qo=/[#\/\?@]/g,Lc=/[#\?:]/g,Yo=/[#\?]/g,vd=/[#\?@]/g,_d=/#/g;function di(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ra(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=di.prototype,i.add=function(h,v){Dn(this),this.i=null,h=Bi(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function Ia(h,v){Dn(h),v=Bi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ui(h,v){return Dn(h),v=Bi(h,v),h.g.has(v)}i.forEach=function(h,v){Dn(this),this.g.forEach(function(_,w){_.forEach(function(z){h.call(v,z,w,this)},this)},this)},i.na=function(){Dn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let w=0;w<v.length;w++){const z=h[w];for(let G=0;G<z.length;G++)_.push(v[w])}return _},i.V=function(h){Dn(this);let v=[];if(typeof h=="string")Ui(this,h)&&(v=v.concat(this.g.get(Bi(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},i.set=function(h,v){return Dn(this),this.i=null,h=Bi(this,h),Ui(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function zi(h,v,_){Ia(h,v),0<_.length&&(h.i=null,h.g.set(Bi(h,v),K(_)),h.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var w=v[_];const G=encodeURIComponent(String(w)),se=this.V(w);for(w=0;w<se.length;w++){var z=G;se[w]!==""&&(z+="="+encodeURIComponent(String(se[w]))),h.push(z)}}return this.i=h.join("&")};function Bi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Xo(h,v){v&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(_,w){var z=w.toLowerCase();w!=z&&(Ia(this,w),zi(this,z,_))},h)),h.j=v}function Uc(h,v){const _=new As;if(m.Image){const w=new Image;w.onload=O(On,_,"TestLoadImage: loaded",!0,v,w),w.onerror=O(On,_,"TestLoadImage: error",!1,v,w),w.onabort=O(On,_,"TestLoadImage: abort",!1,v,w),w.ontimeout=O(On,_,"TestLoadImage: timeout",!1,v,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function Ir(h,v){const _=new As,w=new AbortController,z=setTimeout(()=>{w.abort(),On(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(G=>{clearTimeout(z),G.ok?On(_,"TestPingServer: ok",!0,v):On(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),On(_,"TestPingServer: error",!1,v)})}function On(h,v,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function jr(){this.g=new sn}function fi(h,v,_){const w=_||"";try{Ar(h,function(z,G){let se=z;y(z)&&(se=zo(z)),v.push(w+G+"="+encodeURIComponent(se))})}catch(z){throw v.push(w+"type="+encodeURIComponent("_badmap")),z}}function Ms(h){this.l=h.Ub||null,this.j=h.eb||!1}V(Ms,Bo),Ms.prototype.g=function(){return new qi(this.l,this.j)},Ms.prototype.i=function(h){return function(){return h}}({});function qi(h,v){St.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(qi,St),i=qi.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,pi(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?mi(this):pi(this),this.readyState==3&&Wo(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,mi(this))},i.Qa=function(h){this.g&&(this.response=h,mi(this))},i.ga=function(){this.g&&mi(this)};function mi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,pi(h)}i.setRequestHeader=function(h,v){this.u.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function pi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Zo(h){let v="";return me(h,function(_,w){v+=w,v+=":",v+=_,v+=`\r
`}),v}function Pt(h,v,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Zo(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Be(h,v,_))}function Fe(h){St.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Fe,St);var ja=/^https?$/i,Nr=["POST","PUT"];i=Fe.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,v,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?Nc(this.o):Nc(xr),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(G){zc(this,G);return}if(h=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())_.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Nr,v,void 0))||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of _)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dr(this),this.u=!0,this.g.send(h),this.u=!1}catch(G){zc(this,G)}};function zc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Na(h),gi(h)}function Na(h){h.A||(h.A=!0,kt(h,"complete"),kt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,kt(this,"complete"),kt(this,"abort"),gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},i.bb=function(){Da(this)};function Da(h){if(h.h&&typeof d<"u"&&(!h.v[1]||kn(h)!=4||h.Z()!=2)){if(h.u&&kn(h)==4)jc(h.Ea,0,h);else if(kt(h,"readystatechange"),kn(h)==4){h.h=!1;try{const se=h.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var w;if(w=se===0){var z=String(h.D).match(Ko)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!ja.test(z?z.toLowerCase():"")}_=w}if(_)kt(h,"complete"),kt(h,"success");else{h.m=6;try{var G=2<kn(h)?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.Z()+"]",Na(h)}}finally{gi(h)}}}}function gi(h,v){if(h.g){Dr(h);const _=h.g,w=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||kt(h,"ready");try{_.onreadystatechange=w}catch{}}}function Dr(h){h.I&&(m.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function kn(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),li(v)}};function Bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ed(h){const v={};h=(h.g&&2<=kn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(Z(h[w]))continue;var _=k(h[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=v[z]||[];v[z]=G,G.push(_)}N(v,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function Oa(h){this.Aa=0,this.i=[],this.j=new As,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,h),this.cb=Or("retryDelaySeedMs",1e4,h),this.Wa=Or("forwardChannelMaxRetries",2,h),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Go(h&&h.concurrentRequestLimit),this.Da=new jr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Oa.prototype,i.la=8,i.G=1,i.connect=function(h,v,_,w){pt(0),this.W=h,this.H=v||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Qc(this,null,this.W),Ma(this)};function Jo(h){if(qc(h),h.G==3){var v=h.U++,_=lt(h.I);if(Be(_,"SID",h.K),Be(_,"RID",v),Be(_,"TYPE","terminate"),kr(h,_),v=new hi(h,h.j,v),v.L=2,v.v=Cr(lt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=v.v,_=!0),_||(v.g=Yc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),tt(v)}Kc(h)}function ka(h){h.g&&(Mr(h),h.g.cancel(),h.g=null)}function qc(h){ka(h),h.u&&(m.clearTimeout(h.u),h.u=null),Pa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function Ma(h){if(!$o(h.h)&&!h.s){h.s=!0;var v=h.Ga;ve||D(),ie||(ve(),ie=!0),be.add(v,h),h.B=0}}function Td(h,v){return Pc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ss(R(h.Ga,h,v),nl(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new hi(this,this.j,h);let G=this.o;if(this.S&&(G?(G=A(G),I(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Hc(this,z,v),_=lt(this.I),Be(_,"RID",h),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),kr(this,_),G&&(this.O?v="headers="+encodeURIComponent(String(Zo(G)))+"&"+v:this.m&&Pt(_,this.m,G)),Ds(this.h,z),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",v),Be(_,"SID","null"),z.T=!0,Xn(z,_,null)):Xn(z,_,v),this.G=2}}else this.G==3&&(h?el(this,h):this.i.length==0||$o(this.h)||el(this))};function el(h,v){var _;v?_=v.l:_=h.U++;const w=lt(h.I);Be(w,"SID",h.K),Be(w,"RID",_),Be(w,"AID",h.T),kr(h,w),h.m&&h.o&&Pt(w,h.m,h.o),_=new hi(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Hc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ds(h.h,_),Xn(_,w,v)}function kr(h,v){h.H&&me(h.H,function(_,w){Be(v,w,_)}),h.l&&Ar({},function(_,w){Be(v,w,_)})}function Hc(h,v,_){_=Math.min(h.i.length,_);var w=h.l?R(h.l.Na,h.l,h):null;e:{var z=h.i;let G=-1;for(;;){const se=["count="+_];G==-1?0<_?(G=z[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let Pe=!0;for(let Rt=0;Rt<_;Rt++){let Ve=z[Rt].g;const Vt=z[Rt].map;if(Ve-=G,0>Ve)G=Math.max(0,z[Rt].g-100),Pe=!1;else try{fi(Vt,se,"req"+Ve+"_")}catch{w&&w(Vt)}}if(Pe){w=se.join("&");break e}}}return h=h.i.splice(0,_),v.D=h,w}function Fc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ve||D(),ie||(ve(),ie=!0),be.add(v,h),h.v=0}}function tl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ss(R(h.Fa,h),nl(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ss(R(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),ka(this),Gc(this))};function Mr(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function Gc(h){h.g=new hi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=lt(h.qa);Be(v,"RID","rpc"),Be(v,"SID",h.K),Be(v,"AID",h.T),Be(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Be(v,"TO",h.ja),Be(v,"TYPE","xmlhttp"),kr(h,v),h.m&&h.o&&Pt(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Cr(lt(v)),_.m=null,_.P=!0,Vi(_,h)}i.Za=function(){this.C!=null&&(this.C=null,ka(this),tl(this),pt(19))};function Pa(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function $c(h,v){var _=null;if(h.g==v){Pa(h),Mr(h),h.g=null;var w=2}else if(Ns(h.h,v))_=v.D,jn(h.h,v),w=1;else return;if(h.G!=0){if(v.o)if(w==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var z=h.B;w=wa(),kt(w,new Oc(w,_)),Ma(h)}else Fc(h);else if(z=v.s,z==3||z==0&&0<v.X||!(w==1&&Td(h,v)||w==2&&tl(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),z){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function nl(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function Hi(h,v){if(h.j.info("Error code "+v),v==2){var _=R(h.fb,h),w=h.Xa;const z=!w;w=new Li(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Os(w,"https"),Cr(w),z?Uc(w.toString(),_):Ir(w.toString(),_)}else pt(2);h.G=0,h.l&&h.l.sa(v),Kc(h),qc(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Kc(h){if(h.G=0,h.ka=[],h.l){const v=rn(h.h);(v.length!=0||h.i.length!=0)&&(q(h.ka,v),q(h.ka,h.i),h.h.i.length=0,K(h.i),h.i.length=0),h.l.ra()}}function Qc(h,v,_){var w=_ instanceof Li?lt(_):new Li(_);if(w.g!="")v&&(w.g=v+"."+w.g),Rr(w,w.s);else{var z=m.location;w=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;var G=new Li(null);w&&Os(G,w),v&&(G.g=v),z&&Rr(G,z),_&&(G.l=_),w=G}return _=h.D,v=h.ya,_&&v&&Be(w,_,v),Be(w,"VER",h.la),kr(h,w),w}function Yc(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Fe(new Ms({eb:_})):new Fe(h.pa),v.Ha(h.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}i=Xc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Va(){}Va.prototype.g=function(h,v){return new an(h,v)};function an(h,v){St.call(this),this.g=new Oa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new yi(this)}V(an,St),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Jo(this.g)},an.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=zo(h),h=_);v.i.push(new pd(v.Ya++,h)),v.G==3&&Ma(v)},an.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,an.aa.N.call(this)};function Wc(h){bs.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}V(Wc,bs);function Zc(){Yn.call(this),this.status=1}V(Zc,Yn);function yi(h){this.g=h}V(yi,Xc),yi.prototype.ua=function(){kt(this.g,"a")},yi.prototype.ta=function(h){kt(this.g,new Wc(h))},yi.prototype.sa=function(h){kt(this.g,new Zc)},yi.prototype.ra=function(){kt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Sb=function(){return new Va},xb=function(){return wa()},wb=In,Ym={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,hh=At,Pi.COMPLETE="complete",bb=Pi,Dc.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",St.prototype.listen=St.prototype.K,Yl=Dc,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Tb=Fe}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const RE="@firebase/firestore",CE="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Fh("@firebase/firestore");function uo(){return ua.logLevel}function he(i,...e){if(ua.logLevel<=De.DEBUG){const t=e.map(Up);ua.debug(`Firestore (${jo}): ${i}`,...t)}}function ys(i,...e){if(ua.logLevel<=De.ERROR){const t=e.map(Up);ua.error(`Firestore (${jo}): ${i}`,...t)}}function _o(i,...e){if(ua.logLevel<=De.WARN){const t=e.map(Up);ua.warn(`Firestore (${jo}): ${i}`,...t)}}function Up(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i="Unexpected state"){const e=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+i;throw ys(e),new Error(e)}function Ge(i,e){i||Te()}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Qn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class hD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dD{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let r=this.i;const o=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let c=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ds,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ds)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new Ab(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Jt(e)}}class fD{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mD{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new fD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,mn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0);const r=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new IE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new IE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=gD(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%62))}return r}}function Me(i,e){return i<e?-1:i>e?1:0}function Eo(i,e,t){return i.length===e.length&&i.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=-62135596800,NE=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*NE);return new Dt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jE)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Dt(0,0))}static max(){return new we(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="__name__";class xi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(),r===void 0?r=e.length-t:r>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=xi.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=xi.isNumericId(e),o=xi.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(e).compare(xi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class Je extends xi{construct(e,t,r){return new Je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const yD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends xi{construct(e,t,r){return new Kt(e,t,r)}static isValidIdentifier(e){return yD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new Kt([DE])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(r.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(r+=m,o++):(c(),o++)}if(c(),d)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function vD(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(r===1e9?new Dt(t+1,0):new Dt(t,r));return new dr(o,ye.empty(),e)}function _D(i){return new dr(i.readTime,i.key,hc)}class dr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new dr(we.min(),ye.empty(),hc)}static max(){return new dr(we.max(),ye.empty(),hc)}}function ED(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==TD)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&t()},g=>r(g))}),d=!0,c===o&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(o=>o?ee.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,o)=>{const c=e.length,d=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next(T=>{d[y]=T,++m,m===c&&r(d)},T=>o(T))}})}static doWhile(e,t){return new ee((r,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):r()};c()})}}function wD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Do(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function Zh(i){return i==null}function Rh(i){return i===0&&1/i==-1/0}function xD(i){return typeof i=="number"&&Number.isInteger(i)&&!Rh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="";function SD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=OE(e)),e=AD(i.get(t),e);return OE(e)}function AD(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":t+="";break;case Cb:t+="";break;default:t+=c}}return t}function OE(i){return i+Cb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ga(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ib(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=r??$t.RED,this.left=o??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new $t(e??this.key,t??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,r,o,c){return this}insert(e,t,r){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new ni([])}unionWith(e){let t=new Ot(Kt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ni(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jb("Invalid base64 string: "+c):c}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const RD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(i){if(Ge(!!i),typeof i=="string"){let e=0;const t=RD.exec(i);if(Ge(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function mr(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="server_timestamp",Db="__type__",Ob="__previous_value__",kb="__local_write_time__";function Bp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Db])===null||t===void 0?void 0:t.stringValue)===Nb}function Jh(i){const e=i.mapValue.fields[Ob];return Bp(e)?Jh(e):e}function dc(i){const e=fr(i.mapValue.fields[kb].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,t,r,o,c,d,m,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Ch="(default)";class fc{constructor(e,t){this.projectId=e,this.database=t||Ch}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="__type__",ID="__max__",eh={mapValue:{}},Pb="__vector__",Ih="value";function pr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bp(i)?4:ND(i)?9007199254740991:jD(i)?10:11:Te()}function Ii(i,e){if(i===e)return!0;const t=pr(i);if(t!==pr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return dc(i).isEqual(dc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=fr(o.timestampValue),m=fr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,c){return mr(o.bytesValue).isEqual(mr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,c){return yt(o.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(c.geoPointValue.longitude)}(i,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return yt(o.integerValue)===yt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=yt(o.doubleValue),m=yt(c.doubleValue);return d===m?Rh(d)===Rh(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return Eo(i.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(kE(d)!==kE(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Ii(d[g],m[g])))return!1;return!0}(i,e);default:return Te()}}function mc(i,e){return(i.values||[]).find(t=>Ii(t,e))!==void 0}function To(i,e){if(i===e)return 0;const t=pr(i),r=pr(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return function(c,d){const m=yt(c.integerValue||c.doubleValue),g=yt(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return PE(i.timestampValue,e.timestampValue);case 4:return PE(dc(i),dc(e));case 5:return Me(i.stringValue,e.stringValue);case 6:return function(c,d){const m=mr(c),g=mr(d);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),g=d.split("/");for(let y=0;y<m.length&&y<g.length;y++){const T=Me(m[y],g[y]);if(T!==0)return T}return Me(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Me(yt(c.latitude),yt(d.latitude));return m!==0?m:Me(yt(c.longitude),yt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return VE(i.arrayValue,e.arrayValue);case 10:return function(c,d){var m,g,y,T;const x=c.fields||{},R=d.fields||{},O=(m=x[Ih])===null||m===void 0?void 0:m.arrayValue,V=(g=R[Ih])===null||g===void 0?void 0:g.arrayValue,K=Me(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((T=V==null?void 0:V.values)===null||T===void 0?void 0:T.length)||0);return K!==0?K:VE(O,V)}(i.mapValue,e.mapValue);case 11:return function(c,d){if(c===eh.mapValue&&d===eh.mapValue)return 0;if(c===eh.mapValue)return 1;if(d===eh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let x=0;x<g.length&&x<T.length;++x){const R=Me(g[x],T[x]);if(R!==0)return R;const O=To(m[g[x]],y[T[x]]);if(O!==0)return O}return Me(g.length,T.length)}(i.mapValue,e.mapValue);default:throw Te()}}function PE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const t=fr(i),r=fr(e),o=Me(t.seconds,r.seconds);return o!==0?o:Me(t.nanos,r.nanos)}function VE(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const c=To(t[o],r[o]);if(c)return c}return Me(t.length,r.length)}function bo(i){return Xm(i)}function Xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const r=fr(t);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return mr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ye.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let r="[",o=!0;for(const c of t.values||[])o?o=!1:r+=",",r+=Xm(c);return r+"]"}(i.arrayValue):"mapValue"in i?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Xm(t.fields[d])}`;return o+"}"}(i.mapValue):Te()}function dh(i){switch(pr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(i);return e?16+dh(e):16;case 5:return 2*i.stringValue.length;case 6:return mr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,c)=>o+dh(c),0)}(i.arrayValue);case 10:case 11:return function(r){let o=0;return ga(r.fields,(c,d)=>{o+=c.length+dh(d)}),o}(i.mapValue);default:throw Te()}}function LE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Wm(i){return!!i&&"integerValue"in i}function qp(i){return!!i&&"arrayValue"in i}function UE(i){return!!i&&"nullValue"in i}function zE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fh(i){return!!i&&"mapValue"in i}function jD(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mb])===null||t===void 0?void 0:t.stringValue)===Pb}function tc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ga(i.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tc(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tc(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ND(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ID}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(t)}setAll(e){let t=Kt.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=tc(d):o.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ga(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new Gn(tc(this.value))}}function Vb(i){const e=[];return ga(i.fields,(t,r)=>{const o=new Kt([t]);if(fh(r)){const c=Vb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,r,o,c,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),Gn.empty(),0)}static newFoundDocument(e,t,r,o){return new en(e,1,t,we.min(),r,o,0)}static newNoDocument(e,t){return new en(e,2,t,we.min(),we.min(),Gn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,we.min(),we.min(),Gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t){this.position=e,this.inclusive=t}}function BE(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(d.referenceValue),t.key):r=To(d,t.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function qE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ii(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function DD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{}class xt extends Lb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new kD(e,t,r):t==="array-contains"?new VD(e,r):t==="in"?new LD(e,r):t==="not-in"?new UD(e,r):t==="array-contains-any"?new zD(e,r):new xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new MD(e,r):new PD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(To(t,this.value)):t!==null&&pr(this.value)===pr(t)&&this.matchesComparison(To(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Lb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ai(e,t)}matches(e){return Ub(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ub(i){return i.op==="and"}function zb(i){return OD(i)&&Ub(i)}function OD(i){for(const e of i.filters)if(e instanceof ai)return!1;return!0}function Zm(i){if(i instanceof xt)return i.field.canonicalString()+i.op.toString()+bo(i.value);if(zb(i))return i.filters.map(e=>Zm(e)).join(",");{const e=i.filters.map(t=>Zm(t)).join(",");return`${i.op}(${e})`}}function Bb(i,e){return i instanceof xt?function(r,o){return o instanceof xt&&r.op===o.op&&r.field.isEqual(o.field)&&Ii(r.value,o.value)}(i,e):i instanceof ai?function(r,o){return o instanceof ai&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((c,d,m)=>c&&Bb(d,o.filters[m]),!0):!1}(i,e):void Te()}function qb(i){return i instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${bo(t.value)}`}(i):i instanceof ai?function(t){return t.op.toString()+" {"+t.getFilters().map(qb).join(" ,")+"}"}(i):"Filter"}class kD extends xt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class MD extends xt{constructor(e,t){super(e,"in",t),this.keys=Hb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PD extends xt{constructor(e,t){super(e,"not-in",t),this.keys=Hb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Hb(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class VD extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qp(t)&&mc(t.arrayValue,this.value)}}class LD extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&mc(this.value.arrayValue,t)}}class UD extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!mc(this.value.arrayValue,t)}}class zD extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t=null,r=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.le=null}}function HE(i,e=null,t=[],r=[],o=null,c=null,d=null){return new BD(i,e,t,r,o,c,d)}function Hp(i){const e=Se(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Zm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),Zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bo(r)).join(",")),e.le=t}return e.le}function Fp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!DD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Bb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!qE(i.startAt,e.startAt)&&qE(i.endAt,e.endAt)}function Jm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t=null,r=[],o=[],c=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function qD(i,e,t,r,o,c,d,m){return new xc(i,e,t,r,o,c,d,m)}function Gp(i){return new xc(i)}function FE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Fb(i){return i.collectionGroup!==null}function nc(i){const e=Se(i);if(e.he===null){e.he=[];const t=new Set;for(const c of e.explicitOrderBy)e.he.push(c),t.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Ot(Kt.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.he.push(new Nh(c,r))}),t.has(Kt.keyField().canonicalString())||e.he.push(new Nh(Kt.keyField(),r))}return e.he}function Ri(i){const e=Se(i);return e.Pe||(e.Pe=HD(e,nc(i))),e.Pe}function HD(i,e){if(i.limitType==="F")return HE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Nh(o.field,c)});const t=i.endAt?new jh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new jh(i.startAt.position,i.startAt.inclusive):null;return HE(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function ep(i,e){const t=i.filters.concat([e]);return new xc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function tp(i,e,t){return new xc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ed(i,e){return Fp(Ri(i),Ri(e))&&i.limitType===e.limitType}function Gb(i){return`${Hp(Ri(i))}|lt:${i.limitType}`}function ho(i){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>qb(o)).join(", ")}]`),Zh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>bo(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>bo(o)).join(",")),`Target(${r})`}(Ri(i))}; limitType=${i.limitType})`}function td(i,e){return e.isFoundDocument()&&function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(i,e)&&function(r,o){for(const c of nc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(i,e)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(i,e)&&function(r,o){return!(r.startAt&&!function(d,m,g){const y=BE(d,m,g);return d.inclusive?y<=0:y<0}(r.startAt,nc(r),o)||r.endAt&&!function(d,m,g){const y=BE(d,m,g);return d.inclusive?y>=0:y>0}(r.endAt,nc(r),o))}(i,e)}function FD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function $b(i){return(e,t)=>{let r=!1;for(const o of nc(i)){const c=GD(o,e,t);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function GD(i,e,t){const r=i.field.isKeyField()?ye.comparator(e.key,t.key):function(c,d,m){const g=d.data.field(c),y=m.data.field(c);return g!==null&&y!==null?To(g,y):Te()}(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return Ib(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new rt(ye.comparator);function vs(){return $D}const Kb=new rt(ye.comparator);function Xl(...i){let e=Kb;for(const t of i)e=e.insert(t.key,t);return e}function Qb(i){let e=Kb;return i.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ia(){return ic()}function Yb(){return ic()}function ic(){return new ya(i=>i.toString(),(i,e)=>i.isEqual(e))}const KD=new rt(ye.comparator),QD=new Ot(ye.comparator);function Oe(...i){let e=QD;for(const t of i)e=e.add(t);return e}const YD=new Ot(Me);function XD(){return YD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function Xb(i){return{integerValue:""+i}}function WD(i,e){return xD(e)?Xb(e):$p(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function ZD(i,e,t){return i instanceof Dh?function(o,c){const d={fields:{[Db]:{stringValue:Nb},[kb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Bp(c)&&(c=Jh(c)),c&&(d.fields[Ob]=c),{mapValue:d}}(t,e):i instanceof pc?Zb(i,e):i instanceof gc?Jb(i,e):function(o,c){const d=Wb(o,c),m=GE(d)+GE(o.Ie);return Wm(d)&&Wm(o.Ie)?Xb(m):$p(o.serializer,m)}(i,e)}function JD(i,e,t){return i instanceof pc?Zb(i,e):i instanceof gc?Jb(i,e):t}function Wb(i,e){return i instanceof Oh?function(r){return Wm(r)||function(c){return!!c&&"doubleValue"in c}(r)}(e)?e:{integerValue:0}:null}class Dh extends nd{}class pc extends nd{constructor(e){super(),this.elements=e}}function Zb(i,e){const t=ew(e);for(const r of i.elements)t.some(o=>Ii(o,r))||t.push(r);return{arrayValue:{values:t}}}class gc extends nd{constructor(e){super(),this.elements=e}}function Jb(i,e){let t=ew(e);for(const r of i.elements)t=t.filter(o=>!Ii(o,r));return{arrayValue:{values:t}}}class Oh extends nd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function GE(i){return yt(i.integerValue||i.doubleValue)}function ew(i){return qp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function e2(i,e){return i.field.isEqual(e.field)&&function(r,o){return r instanceof pc&&o instanceof pc||r instanceof gc&&o instanceof gc?Eo(r.elements,o.elements,Ii):r instanceof Oh&&o instanceof Oh?Ii(r.Ie,o.Ie):r instanceof Dh&&o instanceof Dh}(i.transform,e.transform)}class t2{constructor(e,t){this.version=e,this.transformResults=t}}class fs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class id{}function tw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new iw(i.key,fs.none()):new Sc(i.key,i.data,fs.none());{const t=i.data,r=Gn.empty();let o=new Ot(Kt.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new va(i.key,r,new ni(o.toArray()),fs.none())}}function n2(i,e,t){i instanceof Sc?function(o,c,d){const m=o.value.clone(),g=KE(o.fieldTransforms,c,d.transformResults);m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,t):i instanceof va?function(o,c,d){if(!mh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=KE(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(nw(o)),g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,t):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function sc(i,e,t,r){return i instanceof Sc?function(c,d,m,g){if(!mh(c.precondition,d))return m;const y=c.value.clone(),T=QE(c.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(i,e,t,r):i instanceof va?function(c,d,m,g){if(!mh(c.precondition,d))return m;const y=QE(c.fieldTransforms,g,d),T=d.data;return T.setAll(nw(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(x=>x.field))}(i,e,t,r):function(c,d,m){return mh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(i,e,t)}function i2(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=Wb(r.transform,o||null);c!=null&&(t===null&&(t=Gn.empty()),t.set(r.field,c))}return t||null}function $E(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Eo(r,o,(c,d)=>e2(c,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Sc extends id{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class va extends id{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function nw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}}),e}function KE(i,e,t){const r=new Map;Ge(i.length===t.length);for(let o=0;o<t.length;o++){const c=i[o],d=c.transform,m=e.data.field(c.field);r.set(c.field,JD(d,m,t[o]))}return r}function QE(i,e,t){const r=new Map;for(const o of i){const c=o.transform,d=t.data.field(o.field);r.set(o.field,ZD(c,d,e))}return r}class iw extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s2 extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&n2(c,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=sc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=sc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Yb();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=t.has(o.key)?null:m;const g=tw(d,m);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(t,r)=>$E(t,r))&&Eo(this.baseMutations,e.baseMutations,(t,r)=>$E(t,r))}}class Kp{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ge(e.mutations.length===r.length);let o=function(){return KD}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Kp(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ue;function l2(i){switch(i){case te.OK:return Te();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te()}}function sw(i){if(i===void 0)return ys("GRPC error has no .code"),te.UNKNOWN;switch(i){case wt.OK:return te.OK;case wt.CANCELLED:return te.CANCELLED;case wt.UNKNOWN:return te.UNKNOWN;case wt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case wt.INTERNAL:return te.INTERNAL;case wt.UNAVAILABLE:return te.UNAVAILABLE;case wt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case wt.NOT_FOUND:return te.NOT_FOUND;case wt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case wt.ABORTED:return te.ABORTED;case wt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case wt.DATA_LOSS:return te.DATA_LOSS;default:return Te()}}(Ue=wt||(wt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new ur([4294967295,4294967295],0);function YE(i){const e=c2().encode(i),t=new Eb;return t.update(e),new Uint8Array(t.digest())}function XE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ur([t,r],0),new ur([o,c],0)]}class Qp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wl(`Invalid padding: ${t}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ur.fromNumber(this.Ee)}Ae(e,t,r){let o=e.add(t.multiply(ur.fromNumber(r)));return o.compare(u2)===1&&(o=new ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=YE(e),[r,o]=XE(t);for(let c=0;c<this.hashCount;c++){const d=this.Ae(r,o,c);if(!this.Re(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Qp(c,o,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(this.Ee===0)return;const t=YE(e),[r,o]=XE(t);for(let c=0;c<this.hashCount;c++){const d=this.Ae(r,o,c);this.Ve(d)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sd(we.min(),o,new rt(Me),vs(),Oe())}}class Ac{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ac(r,t,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,r,o){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=o}}class rw{constructor(e,t){this.targetId=e,this.ge=t}}class aw{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class WE{constructor(){this.pe=0,this.ye=ZE(),this.we=Qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Oe(),t=Oe(),r=Oe();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Te()}}),new Ac(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=ZE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class h2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=vs(),this.$e=th(),this.Ke=th(),this.Ue=new rt(Me)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,r=e.ge.count,o=this.Xe(t);if(o){const c=o.target;if(Jm(c))if(r===0){const d=new ye(c.path);this.ze(t,d,en.newNoDocument(d,we.min()))}else Ge(r===1);else{const d=this.et(t);if(d!==r){const m=this.tt(e),g=m?this.nt(m,e,d):1;if(g!==0){this.Ye(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=t;let d,m;try{d=mr(r).toUint8Array()}catch(g){if(g instanceof jb)return _o("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Qp(d,o,c)}catch(g){return _o(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let o=0;return r.forEach(c=>{const d=this.ke.it(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,c,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((c,d)=>{const m=this.Xe(d);if(m){if(c.current&&Jm(m.target)){const g=new ye(m.target.path);this._t(g).has(d)||this.ut(d,g)||this.ze(d,g,en.newNoDocument(g,e))}c.ve&&(t.set(d,c.Fe()),c.Me())}});let r=Oe();this.Ke.forEach((c,d)=>{let m=!0;d.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new sd(e,t,this.Ue,this.Qe,r);return this.Qe=vs(),this.$e=th(),this.Ke=th(),this.Ue=new rt(Me),o}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new WE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Ot(Me),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ot(Me),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new WE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function th(){return new rt(ye.comparator)}function ZE(){return new rt(ye.comparator)}const d2={asc:"ASCENDING",desc:"DESCENDING"},f2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m2={and:"AND",or:"OR"};class p2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function np(i,e){return i.useProto3Json||Zh(e)?e:{value:e}}function kh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ow(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function g2(i,e){return kh(i,e.toTimestamp())}function Ci(i){return Ge(!!i),we.fromTimestamp(function(t){const r=fr(t);return new Dt(r.seconds,r.nanos)}(i))}function Yp(i,e){return ip(i,e).canonicalString()}function ip(i,e){const t=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function lw(i){const e=Je.fromString(i);return Ge(fw(e)),e}function sp(i,e){return Yp(i.databaseId,e.path)}function jm(i,e){const t=lw(e);if(t.get(1)!==i.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(uw(t))}function cw(i,e){return Yp(i.databaseId,e)}function y2(i){const e=lw(i);return e.length===4?Je.emptyPath():uw(e)}function rp(i){return new Je(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function uw(i){return Ge(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function JE(i,e,t){return{name:sp(i,e),fields:t.value.mapValue.fields}}function v2(i,e){let t;if("targetChange"in e){e.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(Ge(T===void 0||typeof T=="string"),Qt.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Qt.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const T=y.code===void 0?te.UNKNOWN:sw(y.code);return new de(T,y.message||"")}(d);t=new aw(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=jm(i,r.document.name),c=Ci(r.document.updateTime),d=r.document.createTime?Ci(r.document.createTime):we.min(),m=new Gn({mapValue:{fields:r.document.fields}}),g=en.newFoundDocument(o,c,d,m),y=r.targetIds||[],T=r.removedTargetIds||[];t=new ph(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=jm(i,r.document),c=r.readTime?Ci(r.readTime):we.min(),d=en.newNoDocument(o,c),m=r.removedTargetIds||[];t=new ph([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=jm(i,r.document),c=r.removedTargetIds||[];t=new ph([],c,o,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new o2(o,c),m=r.targetId;t=new rw(m,d)}}return t}function _2(i,e){let t;if(e instanceof Sc)t={update:JE(i,e.key,e.value)};else if(e instanceof iw)t={delete:sp(i,e.key)};else if(e instanceof va)t={update:JE(i,e.key,e.data),updateMask:C2(e.fieldMask)};else{if(!(e instanceof s2))return Te();t={verify:sp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(c,d){const m=d.transform;if(m instanceof Dh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof pc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Oh)return{fieldPath:d.field.canonicalString(),increment:m.Ie};throw Te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:g2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te()}(i,e.precondition)),t}function E2(i,e){return i&&i.length>0?(Ge(e!==void 0),i.map(t=>function(o,c){let d=o.updateTime?Ci(o.updateTime):Ci(c);return d.isEqual(we.min())&&(d=Ci(c)),new t2(d,o.transformResults||[])}(t,e))):[]}function T2(i,e){return{documents:[cw(i,e.path)]}}function b2(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cw(i,o);const c=function(y){if(y.length!==0)return dw(ai.create(y,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(T=>function(R){return{field:fo(R.field),direction:S2(R.dir)}}(T))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=np(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function w2(i){let e=y2(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ge(r===1);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];t.where&&(c=function(x){const R=hw(x);return R instanceof ai&&zb(R)?R.getFilters():[R]}(t.where));let d=[];t.orderBy&&(d=function(x){return x.map(R=>function(V){return new Nh(mo(V.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(R))}(t.orderBy));let m=null;t.limit&&(m=function(x){let R;return R=typeof x=="object"?x.value:x,Zh(R)?null:R}(t.limit));let g=null;t.startAt&&(g=function(x){const R=!!x.before,O=x.values||[];return new jh(O,R)}(t.startAt));let y=null;return t.endAt&&(y=function(x){const R=!x.before,O=x.values||[];return new jh(O,R)}(t.endAt)),qD(e,o,d,c,m,"F",g,y)}function x2(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=mo(t.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=mo(t.unaryFilter.field);return xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=mo(t.unaryFilter.field);return xt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(i):i.fieldFilter!==void 0?function(t){return xt.create(mo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ai.create(t.compositeFilter.filters.map(r=>hw(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(i):Te()}function S2(i){return d2[i]}function A2(i){return f2[i]}function R2(i){return m2[i]}function fo(i){return{fieldPath:i.canonicalString()}}function mo(i){return Kt.fromServerFormat(i.fieldPath)}function dw(i){return i instanceof xt?function(t){if(t.op==="=="){if(zE(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NAN"}};if(UE(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zE(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NAN"}};if(UE(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(t.field),op:A2(t.op),value:t.value}}}(i):i instanceof ai?function(t){const r=t.getFilters().map(o=>dw(o));return r.length===1?r[0]:{compositeFilter:{op:R2(t.op),filters:r}}}(i):Te()}function C2(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,t,r,o,c=we.min(),d=we.min(),m=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.Tt=e}}function j2(i){const e=w2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.Tn=new D2}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(dr.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class D2{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ot(Je.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ot(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mw=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(mw,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new wo(0)}static Un(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="LruGarbageCollector",O2=1048576;function nT([i,e],[t,r]){const o=Me(i,t);return o===0?Me(e,r):o}class k2{constructor(e){this.Hn=e,this.buffer=new Ot(nT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();nT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class M2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(tT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Do(t)?he(tT,"Ignoring IndexedDB error during garbage collection: ",t):await No(t)}await this.er(3e5)})}}class P2{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Wh.ae);const r=new k2(t);return this.tr.forEachTarget(e,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(eT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,o,c,d,m,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(r=x,m=Date.now(),this.removeTargets(e,r,t))).next(x=>(c=x,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(y=Date.now(),uo()<=De.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x})))}}function V2(i,e){return new P2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.changes=new ya(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&sc(r.mutation,o,ni.empty(),Dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Oe()){const o=ia();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(c=>{let d=Xl();return c.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=ia();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Oe()))}populateOverlays(e,t,r){const o=[];return r.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let c=vs();const d=ic(),m=function(){return ic()}();return t.forEach((g,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof va)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),sc(T.mutation,y,T.mutation.getFieldMask(),Dt.now())):d.set(y.key,ni.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,T)=>d.set(y,T)),t.forEach((y,T)=>{var x;return m.set(y,new U2(T,(x=d.get(y))!==null&&x!==void 0?x:null))}),m))}recalculateAndSaveOverlays(e,t){const r=ic();let o=new rt((d,m)=>d-m),c=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let T=r.get(g)||ni.empty();T=m.applyToLocalView(y,T),r.set(g,T);const x=(o.get(m.batchId)||Oe()).add(g);o=o.insert(m.batchId,x)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,T=g.value,x=Yb();T.forEach(R=>{if(!c.has(R)){const O=tw(t.get(R),r.get(R));O!==null&&x.set(R,O),c=c.add(R)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return ee.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-c.size):ee.resolve(ia());let m=hc,g=c;return d.next(y=>ee.forEach(y,(T,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),c.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{g=g.insert(T,R)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,Oe())).next(T=>({batchId:m,changes:Qb(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let o=Xl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const c=t.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,c).next(m=>ee.forEach(m,g=>{const y=function(x,R){return new xc(R,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next(T=>{T.forEach((x,R)=>{d=d.insert(x,R)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,c,o))).next(d=>{c.forEach((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,en.newInvalidDocument(T)))});let m=Xl();return d.forEach((g,y)=>{const T=c.get(g);T!==void 0&&sc(T.mutation,y,ni.empty(),Dt.now()),td(t,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:j2(o.bundledQuery),readTime:Ci(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.overlays=new rt(ye.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ia();return ee.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,c)=>{this.Et(e,t,c)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const o=ia(),c=t.length+1,d=new ye(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let c=new rt((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=ia(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=ia(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return ee.resolve(m)}Et(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new a2(t,r));let c=this.Rr.get(t);c===void 0&&(c=Oe(),this.Rr.set(t,c)),this.Rr.set(t,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.Vr=new Ot(Bt.mr),this.gr=new Ot(Bt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Bt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Bt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new ye(new Je([])),r=new Bt(t,e),o=new Bt(t,e+1),c=[];return this.gr.forEachInRange([r,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new Je([])),r=new Bt(t,e),o=new Bt(t,e+1);let c=Oe();return this.gr.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new Bt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||Me(e.Cr,t.Cr)}static pr(e,t){return Me(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(Bt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new r2(c,t,r,o);this.mutationQueue.push(d);for(const m of o)this.Mr=this.Mr.add(new Bt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Nr(r),c=o<0?0:o;return ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?zp:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([r,o],d=>{const m=this.Or(d.Cr);c.push(m)}),ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ot(Me);return t.forEach(o=>{const c=new Bt(o,0),d=new Bt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],m=>{r=r.add(m.Cr)})}),ee.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const d=new Bt(new ye(c),0);let m=new Ot(Me);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},d),ee.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(r=>{const o=this.Or(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ee.forEach(t.mutations,o=>{const c=new Bt(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Bt(t,0),o=this.Mr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.kr=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),c=o?o.size:0,d=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let r=vs();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():en.newInvalidDocument(o))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let c=vs();const d=t.path,m=new ye(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||ED(_D(T),r)<=0||(o.has(T.key)||td(t,T))&&(c=c.insert(T.key,T.mutableCopy()))}return ee.resolve(c)}getAllFromCollectionGroup(e,t,r,o){Te()}qr(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $2(this)}getSize(e){return ee.resolve(this.size)}}class $2 extends L2{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.persistence=e,this.Qr=new ya(t=>Hp(t),Fp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Xp,this.targetCount=0,this.Ur=wo.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new wo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.Qr.forEach((d,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(c).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ee.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Wh(0),this.zr=!1,this.zr=!0,this.jr=new H2,this.referenceDelegate=e(this),this.Hr=new K2(this),this.indexManager=new N2,this.remoteDocumentCache=function(o){return new G2(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new I2(t),this.Yr=new B2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new q2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new F2(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const o=new Q2(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,t){return ee.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class Q2 extends bD{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.ti=new Xp,this.ni=null}static ri(e){return new Wp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,r=>{const o=ye.fromPath(r);return this.si(e,o).next(c=>{c||t.removeEntry(o,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Mh{constructor(e,t){this.persistence=e,this.oi=new ya(r=>SD(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=V2(this,t)}static ri(e,t){return new Mh(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(r,o)=>this.ar(e,r,o).next(c=>c?ee.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,t).next(m=>{m||(r++,c.removeEntry(d,we.min()))})).next(()=>c.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dh(e.data.value)),t}ar(e,t,r){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=o}static Yi(e,t){let r=Oe(),o=Oe();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Zp(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return PR()?8:wD(tn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,o){const c={result:null};return this.rs(e,t).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,t,o,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Y2;return this._s(e,t,d).next(m=>{if(c.result=m,this.Xi)return this.us(e,t,d,m.size)})}).next(()=>c.result)}us(e,t,r,o){return r.documentReadCount<this.es?(uo()<=De.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(uo()<=De.DEBUG&&he("QueryEngine","Query:",ho(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(uo()<=De.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(t))):ee.resolve())}rs(e,t){if(FE(t))return ee.resolve(null);let r=Ri(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=tp(t,null,"F"),r=Ri(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=Oe(...c);return this.ns.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(g=>{const y=this.cs(t,m);return this.ls(t,y,d,g.readTime)?this.rs(e,tp(t,null,"F")):this.hs(e,y,t,g)}))})))}ss(e,t,r,o){return FE(t)||o.isEqual(we.min())?ee.resolve(null):this.ns.getDocuments(e,r).next(c=>{const d=this.cs(t,c);return this.ls(t,d,r,o)?ee.resolve(null):(uo()<=De.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(t)),this.hs(e,d,t,vD(o,hc)).next(m=>m))})}cs(e,t){let r=new Ot($b(e));return t.forEach((o,c)=>{td(e,c)&&(r=r.add(c))}),r}ls(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,t,r){return uo()<=De.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ho(t)),this.ns.getDocumentsMatchingQuery(e,t,dr.min(),r)}hs(e,t,r,o){return this.ns.getDocumentsMatchingQuery(e,r,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="LocalStore",W2=3e8;class Z2{constructor(e,t,r,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new rt(Me),this.Is=new ya(c=>Hp(c),Fp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function J2(i,e,t,r){return new Z2(i,e,t,r)}async function gw(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],m=[];let g=Oe();for(const y of o){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){m.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return t.localDocuments.getDocuments(r,g).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:m}))})})}function eO(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,T){const x=y.batch,R=x.keys();let O=ee.resolve();return R.forEach(V=>{O=O.next(()=>T.getEntry(g,V)).next(K=>{const q=y.docVersions.get(V);Ge(q!==null),K.version.compareTo(q)<0&&(x.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(g,x))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let g=Oe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function yw(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function tO(i,e){const t=Se(i),r=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((T,x)=>{const R=o.get(x);if(!R)return;m.push(t.Hr.removeMatchingKeys(c,T.removedDocuments,x).next(()=>t.Hr.addMatchingKeys(c,T.addedDocuments,x)));let O=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?O=O.withResumeToken(Qt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,r)),o=o.insert(x,O),function(K,q,$){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=W2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(R,O,T)&&m.push(t.Hr.updateTargetData(c,O))});let g=vs(),y=Oe();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(nO(c,d,e.documentUpdates).next(T=>{g=T.Vs,y=T.fs})),!r.isEqual(we.min())){const T=t.Hr.getLastRemoteSnapshotVersion(c).next(x=>t.Hr.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(T)}return ee.waitFor(m).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(t.Ts=o,c))}function nO(i,e,t){let r=Oe(),o=Oe();return t.forEach(c=>r=r.add(c)),e.getEntries(i,r).next(c=>{let d=vs();return t.forEach((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):he(Jp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:d,fs:o}})}function iO(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=zp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sO(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Hr.getTargetData(r,e).next(c=>c?(o=c,ee.resolve(o)):t.Hr.allocateTargetId(r).next(d=>(o=new or(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function ap(i,e,t){const r=Se(i),o=r.Ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Do(d))throw d;he(Jp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ts=r.Ts.remove(e),r.Is.delete(o.target)}function iT(i,e,t){const r=Se(i);let o=we.min(),c=Oe();return r.persistence.runTransaction("Execute query","readwrite",d=>function(g,y,T){const x=Se(g),R=x.Is.get(T);return R!==void 0?ee.resolve(x.Ts.get(R)):x.Hr.getTargetData(y,T)}(r,d,Ri(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,m.targetId).next(g=>{c=g})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,e,t?o:we.min(),t?c:Oe())).next(m=>(rO(r,FD(e),m),{documents:m,gs:c})))}function rO(i,e,t){let r=i.Es.get(e)||we.min();t.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),i.Es.set(e,r)}class sT{constructor(){this.activeTargetIds=XD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aO{constructor(){this.ho=new sT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new sT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="ConnectivityMonitor";class aT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(rT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(rT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function op(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",lO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(e,t,r,o,c){const d=op(),m=this.bo(e,t.toUriEncodedString());he(Nm,`Sending RPC '${e}' ${d}:`,m,r);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,c),this.vo(e,m,g,r).then(y=>(he(Nm,`Received RPC '${e}' ${d}: `,y),y),y=>{throw _o(Nm,`RPC '${e}' ${d} failed with error: `,y,"url: ",m,"request:",r),y})}Co(e,t,r,o,c,d){return this.So(e,t,r,o,c)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}bo(e,t){const r=lO[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class hO extends cO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,o){const c=op();return new Promise((d,m)=>{const g=new Tb;g.setWithCredentials(!0),g.listenOnce(bb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case hh.NO_ERROR:const T=g.getResponseJson();he(Zt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case hh.TIMEOUT:he(Zt,`RPC '${e}' ${c} timed out`),m(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const x=g.getStatus();if(he(Zt,`RPC '${e}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R==null?void 0:R.error;if(O&&O.status&&O.message){const V=function(q){const $=q.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf($)>=0?$:te.UNKNOWN}(O.status);m(new de(V,O.message))}else m(new de(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new de(te.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{he(Zt,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);he(Zt,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",y,r,15)})}Wo(e,t,r){const o=op(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Sb(),m=xb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const T=c.join("");he(Zt,`Creating RPC '${e}' stream ${o}: ${T}`,g);const x=d.createWebChannel(T,g);let R=!1,O=!1;const V=new uO({Fo:q=>{O?he(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(he(Zt,`Opening RPC '${e}' stream ${o} transport.`),x.open(),R=!0),he(Zt,`RPC '${e}' stream ${o} sending:`,q),x.send(q))},Mo:()=>x.close()}),K=(q,$,Z)=>{q.listen($,Q=>{try{Z(Q)}catch(ae){setTimeout(()=>{throw ae},0)}})};return K(x,Yl.EventType.OPEN,()=>{O||(he(Zt,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),K(x,Yl.EventType.CLOSE,()=>{O||(O=!0,he(Zt,`RPC '${e}' stream ${o} transport closed`),V.Ko())}),K(x,Yl.EventType.ERROR,q=>{O||(O=!0,_o(Zt,`RPC '${e}' stream ${o} transport errored:`,q),V.Ko(new de(te.UNAVAILABLE,"The operation could not be completed")))}),K(x,Yl.EventType.MESSAGE,q=>{var $;if(!O){const Z=q.data[0];Ge(!!Z);const Q=Z,ae=(Q==null?void 0:Q.error)||(($=Q[0])===null||$===void 0?void 0:$.error);if(ae){he(Zt,`RPC '${e}' stream ${o} received error:`,ae);const ce=ae.status;let me=function(S){const I=wt[S];if(I!==void 0)return sw(I)}(ce),N=ae.message;me===void 0&&(me=te.INTERNAL,N="Unknown error status: "+ce+" with message "+ae.message),O=!0,V.Ko(new de(me,N)),x.close()}else he(Zt,`RPC '${e}' stream ${o} received:`,Z),V.Uo(Z)}}),K(m,wb.STAT_EVENT,q=>{q.stat===Ym.PROXY?he(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Ym.NOPROXY&&he(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(i){return new p2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="PersistentStream";class _w{constructor(e,t,r,o,c,d,m,g){this.Ti=e,this.n_=r,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ys(t.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===t&&this.V_(r,o)},r=>{e(()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dO extends _w{constructor(e,t,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=c}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=v2(this.serializer,e),r=function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Ci(d.readTime):we.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=rp(this.serializer),t.addTarget=function(c,d){let m;const g=d.target;if(m=Jm(g)?{documents:T2(c,g)}:{query:b2(c,g).ht},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=ow(c,d.resumeToken);const y=np(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){m.readTime=kh(c,d.snapshotVersion.toTimestamp());const y=np(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const r=x2(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=rp(this.serializer),t.removeTarget=e,this.I_(t)}}class fO extends _w{constructor(e,t,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=E2(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=rp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>_2(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{}class pO extends mO{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,ip(t,r),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(te.UNKNOWN,c.toString())})}Co(e,t,r,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(e,ip(t,r),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(te.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class gO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ys(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class yO{constructor(e,t,r,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{r.enqueueAndForget(async()=>{_a(this)&&(he(ha,"Restarting streams for network reachability change."),await async function(g){const y=Se(g);y.W_.add(4),await Rc(y),y.j_.set("Unknown"),y.W_.delete(4),await ad(y)}(this))})}),this.j_=new gO(r,o)}}async function ad(i){if(_a(i))for(const e of i.G_)await e(!0)}async function Rc(i){for(const e of i.G_)await e(!1)}function Ew(i,e){const t=Se(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),ig(t)?ng(t):Oo(t).c_()&&tg(t,e))}function eg(i,e){const t=Se(i),r=Oo(t);t.U_.delete(e),r.c_()&&Tw(t,e),t.U_.size===0&&(r.c_()?r.P_():_a(t)&&t.j_.set("Unknown"))}function tg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oo(i).y_(e)}function Tw(i,e){i.H_.Ne(e),Oo(i).w_(e)}function ng(i){i.H_=new h2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Oo(i).start(),i.j_.B_()}function ig(i){return _a(i)&&!Oo(i).u_()&&i.U_.size>0}function _a(i){return Se(i).W_.size===0}function bw(i){i.H_=void 0}async function vO(i){i.j_.set("Online")}async function _O(i){i.U_.forEach((e,t)=>{tg(i,e)})}async function EO(i,e){bw(i),ig(i)?(i.j_.q_(e),ng(i)):i.j_.set("Unknown")}async function TO(i,e,t){if(i.j_.set("Online"),e instanceof aw&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(r){he(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ph(i,r)}else if(e instanceof ph?i.H_.We(e):e instanceof rw?i.H_.Ze(e):i.H_.je(e),!t.isEqual(we.min()))try{const r=await yw(i.localStore);t.compareTo(r)>=0&&await function(c,d){const m=c.H_.ot(d);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.U_.get(y);T&&c.U_.set(y,T.withResumeToken(g.resumeToken,d))}}),m.targetMismatches.forEach((g,y)=>{const T=c.U_.get(g);if(!T)return;c.U_.set(g,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),Tw(c,g);const x=new or(T.target,g,y,T.sequenceNumber);tg(c,x)}),c.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(r){he(ha,"Failed to raise snapshot:",r),await Ph(i,r)}}async function Ph(i,e,t){if(!Do(e))throw e;i.W_.add(1),await Rc(i),i.j_.set("Offline"),t||(t=()=>yw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(ha,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await ad(i)})}function ww(i,e){return e().catch(t=>Ph(i,t,e))}async function od(i){const e=Se(i),t=gr(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:zp;for(;bO(e);)try{const o=await iO(e.localStore,r);if(o===null){e.K_.length===0&&t.P_();break}r=o.batchId,wO(e,o)}catch(o){await Ph(e,o)}xw(e)&&Sw(e)}function bO(i){return _a(i)&&i.K_.length<10}function wO(i,e){i.K_.push(e);const t=gr(i);t.c_()&&t.S_&&t.b_(e.mutations)}function xw(i){return _a(i)&&!gr(i).u_()&&i.K_.length>0}function Sw(i){gr(i).start()}async function xO(i){gr(i).C_()}async function SO(i){const e=gr(i);for(const t of i.K_)e.b_(t.mutations)}async function AO(i,e,t){const r=i.K_.shift(),o=Kp.from(r,e,t);await ww(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await od(i)}async function RO(i,e){e&&gr(i).S_&&await async function(r,o){if(function(d){return l2(d)&&d!==te.ABORTED}(o.code)){const c=r.K_.shift();gr(r).h_(),await ww(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),await od(r)}}(i,e),xw(i)&&Sw(i)}async function lT(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),he(ha,"RemoteStore received new credentials");const r=_a(t);t.W_.add(3),await Rc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ad(t)}async function CO(i,e){const t=Se(i);e?(t.W_.delete(2),await ad(t)):e||(t.W_.add(2),await Rc(t),t.j_.set("Unknown"))}function Oo(i){return i.J_||(i.J_=function(t,r,o){const c=Se(t);return c.M_(),new dO(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{xo:vO.bind(null,i),No:_O.bind(null,i),Lo:EO.bind(null,i),p_:TO.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),ig(i)?ng(i):i.j_.set("Unknown")):(await i.J_.stop(),bw(i))})),i.J_}function gr(i){return i.Y_||(i.Y_=function(t,r,o){const c=Se(t);return c.M_(),new fO(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:xO.bind(null,i),Lo:RO.bind(null,i),D_:SO.bind(null,i),v_:AO.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await od(i)):(await i.Y_.stop(),i.K_.length>0&&(he(ha,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,c){const d=Date.now()+r,m=new sg(e,t,d,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(i,e){if(ys("AsyncQueue",`${e}: ${i}`),Do(i))return new de(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Xl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.Z_=new rt(ye.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class xo{constructor(e,t,r,o,c,d,m,g,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,r,o,c){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new xo(e,t,vo.emptySet(t),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class jO{constructor(){this.queries=uT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const o=Se(t),c=o.queries;o.queries=uT(),c.forEach((d,m)=>{for(const g of m.ta)g.onError(r)})})(this,new de(te.ABORTED,"Firestore shutting down"))}}function uT(){return new ya(i=>Gb(i),ed)}async function Aw(i,e){const t=Se(i);let r=3;const o=e.query;let c=t.queries.get(o);c?!c.na()&&e.ra()&&(r=2):(c=new IO,r=e.ra()?0:1);try{switch(r){case 0:c.ea=await t.onListen(o,!0);break;case 1:c.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const m=rg(d,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,c),c.ta.push(e),e.sa(t.onlineState),c.ea&&e.oa(c.ea)&&ag(t)}async function Rw(i,e){const t=Se(i),r=e.query;let o=3;const c=t.queries.get(r);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function NO(i,e){const t=Se(i);let r=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const m of d.ta)m.oa(o)&&(r=!0);d.ea=o}}r&&ag(t)}function DO(i,e,t){const r=Se(i),o=r.queries.get(e);if(o)for(const c of o.ta)c.onError(t);r.queries.delete(e)}function ag(i){i.ia.forEach(e=>{e.next()})}var lp,hT;(hT=lp||(lp={}))._a="default",hT.Cache="cache";class Cw{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.key=e}}class jw{constructor(e){this.key=e}}class OO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Oe(),this.mutatedKeys=Oe(),this.ya=$b(e),this.wa=new vo(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new cT,o=t?t.wa:this.wa;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,x)=>{const R=o.get(T),O=td(this.query,x)?x:null,V=!!R&&this.mutatedKeys.has(R.key),K=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let q=!1;R&&O?R.data.isEqual(O.data)?V!==K&&(r.track({type:3,doc:O}),q=!0):this.va(R,O)||(r.track({type:2,doc:O}),q=!0,(g&&this.ya(O,g)>0||y&&this.ya(O,y)<0)&&(m=!0)):!R&&O?(r.track({type:0,doc:O}),q=!0):R&&!O&&(r.track({type:1,doc:R}),q=!0,(g||y)&&(m=!0)),q&&(O?(d=d.add(O),c=K?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{wa:d,Da:r,ls:m,mutatedKeys:c}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,x)=>function(O,V){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return K(O)-K(V)}(T.type,x.type)||this.ya(T.doc,x.doc)),this.Ca(r),o=o!=null&&o;const m=t&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,d.length!==0||y?{snapshot:new xo(this.query,e.wa,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Oe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new jw(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Iw(r))}),t}Oa(e){this.fa=e.gs,this.pa=Oe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return xo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const og="SyncEngine";class kO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class MO{constructor(e){this.key=e,this.Ba=!1}}class PO{constructor(e,t,r,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ya(m=>Gb(m),ed),this.qa=new Map,this.Qa=new Set,this.$a=new rt(ye.comparator),this.Ka=new Map,this.Ua=new Xp,this.Wa={},this.Ga=new Map,this.za=wo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function VO(i,e,t=!0){const r=Pw(i);let o;const c=r.ka.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await Nw(r,e,t,!0),o}async function LO(i,e){const t=Pw(i);await Nw(t,e,!0,!1)}async function Nw(i,e,t,r){const o=await sO(i.localStore,Ri(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,t);let m;return r&&(m=await UO(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&t&&Ew(i.remoteStore,o),m}async function UO(i,e,t,r,o){i.Ha=(x,R,O)=>async function(K,q,$,Z){let Q=q.view.ba($);Q.ls&&(Q=await iT(K.localStore,q.query,!1).then(({documents:N})=>q.view.ba(N,Q)));const ae=Z&&Z.targetChanges.get(q.targetId),ce=Z&&Z.targetMismatches.get(q.targetId)!=null,me=q.view.applyChanges(Q,K.isPrimaryClient,ae,ce);return fT(K,q.targetId,me.Ma),me.snapshot}(i,x,R,O);const c=await iT(i.localStore,e,!0),d=new OO(e,c.gs),m=d.ba(c.documents),g=Ac.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),y=d.applyChanges(m,i.isPrimaryClient,g);fT(i,t,y.Ma);const T=new kO(e,t,d);return i.ka.set(e,T),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),y.snapshot}async function zO(i,e,t){const r=Se(i),o=r.ka.get(e),c=r.qa.get(o.targetId);if(c.length>1)return r.qa.set(o.targetId,c.filter(d=>!ed(d,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&eg(r.remoteStore,o.targetId),cp(r,o.targetId)}).catch(No)):(cp(r,o.targetId),await ap(r.localStore,o.targetId,!0))}async function BO(i,e){const t=Se(i),r=t.ka.get(e),o=t.qa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),eg(t.remoteStore,r.targetId))}async function qO(i,e,t){const r=YO(i);try{const o=await function(d,m){const g=Se(d),y=Dt.now(),T=m.reduce((O,V)=>O.add(V.key),Oe());let x,R;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let V=vs(),K=Oe();return g.ds.getEntries(O,T).next(q=>{V=q,V.forEach(($,Z)=>{Z.isValidDocument()||(K=K.add($))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,V)).next(q=>{x=q;const $=[];for(const Z of m){const Q=i2(Z,x.get(Z.key).overlayedDocument);Q!=null&&$.push(new va(Z.key,Q,Vb(Q.value.mapValue),fs.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,$,m)}).next(q=>{R=q;const $=q.applyToLocalDocumentSet(x,K);return g.documentOverlayCache.saveOverlays(O,q.batchId,$)})}).then(()=>({batchId:R.batchId,changes:Qb(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,m,g){let y=d.Wa[d.currentUser.toKey()];y||(y=new rt(Me)),y=y.insert(m,g),d.Wa[d.currentUser.toKey()]=y}(r,o.batchId,t),await Cc(r,o.changes),await od(r.remoteStore)}catch(o){const c=rg(o,"Failed to persist write");t.reject(c)}}async function Dw(i,e){const t=Se(i);try{const r=await tO(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.Ka.get(c);d&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Ge(d.Ba):o.removedDocuments.size>0&&(Ge(d.Ba),d.Ba=!1))}),await Cc(t,r,e)}catch(r){await No(r)}}function dT(i,e,t){const r=Se(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ka.forEach((c,d)=>{const m=d.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const g=Se(d);g.onlineState=m;let y=!1;g.queries.forEach((T,x)=>{for(const R of x.ta)R.sa(m)&&(y=!0)}),y&&ag(g)}(r.eventManager,e),o.length&&r.La.p_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HO(i,e,t){const r=Se(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ka.get(e),c=o&&o.key;if(c){let d=new rt(ye.comparator);d=d.insert(c,en.newNoDocument(c,we.min()));const m=Oe().add(c),g=new sd(we.min(),new Map,new rt(Me),d,m);await Dw(r,g),r.$a=r.$a.remove(c),r.Ka.delete(e),lg(r)}else await ap(r.localStore,e,!1).then(()=>cp(r,e,t)).catch(No)}async function FO(i,e){const t=Se(i),r=e.batch.batchId;try{const o=await eO(t.localStore,e);kw(t,r,null),Ow(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Cc(t,o)}catch(o){await No(o)}}async function GO(i,e,t){const r=Se(i);try{const o=await function(d,m){const g=Se(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return g.mutationQueue.lookupMutationBatch(y,m).next(x=>(Ge(x!==null),T=x.keys(),g.mutationQueue.removeMutationBatch(y,x))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>g.localDocuments.getDocuments(y,T))})}(r.localStore,e);kw(r,e,t),Ow(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Cc(r,o)}catch(o){await No(o)}}function Ow(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function kw(i,e,t){const r=Se(i);let o=r.Wa[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.Wa[r.currentUser.toKey()]=o}}function cp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.qa.get(e))i.ka.delete(r),t&&i.La.Ja(r,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(r=>{i.Ua.containsKey(r)||Mw(i,r)})}function Mw(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(eg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),lg(i))}function fT(i,e,t){for(const r of t)r instanceof Iw?(i.Ua.addReference(r.key,e),$O(i,r)):r instanceof jw?(he(og,"Document no longer in limbo: "+r.key),i.Ua.removeReference(r.key,e),i.Ua.containsKey(r.key)||Mw(i,r.key)):Te()}function $O(i,e){const t=e.key,r=t.path.canonicalString();i.$a.get(t)||i.Qa.has(r)||(he(og,"New document in limbo: "+t),i.Qa.add(r),lg(i))}function lg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new ye(Je.fromString(e)),r=i.za.next();i.Ka.set(r,new MO(t)),i.$a=i.$a.insert(t,r),Ew(i.remoteStore,new or(Ri(Gp(t.path)),r,"TargetPurposeLimboResolution",Wh.ae))}}async function Cc(i,e,t){const r=Se(i),o=[],c=[],d=[];r.ka.isEmpty()||(r.ka.forEach((m,g)=>{d.push(r.Ha(g,e,t).then(y=>{var T;if((y||t)&&r.isPrimaryClient){const x=y?!y.fromCache:(T=t==null?void 0:t.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=Zp.Yi(g.targetId,y);c.push(x)}}))}),await Promise.all(d),r.La.p_(o),await async function(g,y){const T=Se(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ee.forEach(y,R=>ee.forEach(R.Hi,O=>T.persistence.referenceDelegate.addReference(x,R.targetId,O)).next(()=>ee.forEach(R.Ji,O=>T.persistence.referenceDelegate.removeReference(x,R.targetId,O)))))}catch(x){if(!Do(x))throw x;he(Jp,"Failed to update sequence numbers: "+x)}for(const x of y){const R=x.targetId;if(!x.fromCache){const O=T.Ts.get(R),V=O.snapshotVersion,K=O.withLastLimboFreeSnapshotVersion(V);T.Ts=T.Ts.insert(R,K)}}}(r.localStore,c))}async function KO(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){he(og,"User change. New user:",e.toKey());const r=await gw(t.localStore,e);t.currentUser=e,function(c,d){c.Ga.forEach(m=>{m.forEach(g=>{g.reject(new de(te.CANCELLED,d))})}),c.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cc(t,r.Rs)}}function QO(i,e){const t=Se(i),r=t.Ka.get(e);if(r&&r.Ba)return Oe().add(r.key);{let o=Oe();const c=t.qa.get(e);if(!c)return o;for(const d of c){const m=t.ka.get(d);o=o.unionWith(m.view.Sa)}return o}}function Pw(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HO.bind(null,e),e.La.p_=NO.bind(null,e.eventManager),e.La.Ja=DO.bind(null,e.eventManager),e}function YO(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GO.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return J2(this.persistence,new X2,e.initialUser,this.serializer)}Xa(e){return new pw(Wp.ri,this.serializer)}Za(e){return new aO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class XO extends Vh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ge(this.persistence.referenceDelegate instanceof Mh);const r=this.persistence.referenceDelegate.garbageCollector;return new M2(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new pw(r=>Mh.ri(r,t),this.serializer)}}class up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KO.bind(null,this.syncEngine),await CO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jO}()}createDatastore(e){const t=rd(e.databaseInfo.databaseId),r=function(c){return new hO(c)}(e.databaseInfo);return function(c,d,m,g){return new pO(c,d,m,g)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,c,d,m){return new yO(r,o,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,t=>dT(this.syncEngine,t,0),function(){return aT.D()?new aT:new oO}())}createSyncEngine(e,t){return function(o,c,d,m,g,y,T){const x=new PO(o,c,d,m,g,y);return T&&(x.ja=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=Se(o);he(ha,"RemoteStore shutting down."),c.W_.add(5),await Rc(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="FirestoreClient";class WO{constructor(e,t,r,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Rb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async d=>{he(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(he(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=rg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Om(i,e){i.asyncQueue.verifyOperationInProgress(),he(yr,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener(async o=>{r.isEqual(o)||(await gw(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function mT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await ZO(i);he(yr,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(r=>lT(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>lT(e.remoteStore,o)),i._onlineComponents=e}async function ZO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(yr,"Using user provided OfflineComponentProvider");try{await Om(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;_o("Error using user provided cache. Falling back to memory cache: "+t),await Om(i,new Vh)}}else he(yr,"Using default OfflineComponentProvider"),await Om(i,new XO(void 0));return i._offlineComponents}async function Lw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(yr,"Using user provided OnlineComponentProvider"),await mT(i,i._uninitializedComponentsProvider._online)):(he(yr,"Using default OnlineComponentProvider"),await mT(i,new up))),i._onlineComponents}function JO(i){return Lw(i).then(e=>e.syncEngine)}async function Uw(i){const e=await Lw(i),t=e.eventManager;return t.onListen=VO.bind(null,e.syncEngine),t.onUnlisten=zO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BO.bind(null,e.syncEngine),t}function ek(i,e,t={}){const r=new ds;return i.asyncQueue.enqueueAndForget(async()=>function(c,d,m,g,y){const T=new Vw({next:R=>{T.su(),d.enqueueAndForget(()=>Rw(c,x));const O=R.docs.has(m);!O&&R.fromCache?y.reject(new de(te.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&R.fromCache&&g&&g.source==="server"?y.reject(new de(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),x=new Cw(Gp(m.path),T,{includeMetadataChanges:!0,Ta:!0});return Aw(c,x)}(await Uw(i),i.asyncQueue,e,t,r)),r.promise}function tk(i,e,t={}){const r=new ds;return i.asyncQueue.enqueueAndForget(async()=>function(c,d,m,g,y){const T=new Vw({next:R=>{T.su(),d.enqueueAndForget(()=>Rw(c,x)),R.fromCache&&g.source==="server"?y.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),x=new Cw(m,T,{includeMetadataChanges:!0,Ta:!0});return Aw(c,x)}(await Uw(i),i.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(i,e,t){if(!t)throw new de(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function nk(i,e,t,r){if(e===!0&&r===!0)throw new de(te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function gT(i){if(!ye.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yT(i){if(ye.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ld(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te()}function da(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ld(i);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="firestore.googleapis.com",vT=!0;class _T{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qw,this.ssl=vT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:vT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O2)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _T({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _T(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uD;switch(r.type){case"firstParty":return new mD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=pT.get(t);r&&(he("ComponentProvider","Removing Datastore"),pT.delete(t),r.terminate())}(this),Promise.resolve()}}function ik(i,e,t,r={}){var o;const c=(i=da(i,cd))._getSettings(),d=`${e}:${t}`;if(c.host!==qw&&c.host!==d&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),r.mockUserToken){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Jt.MOCK_USER;else{m=s0(r.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jt(y)}i._authCredentials=new hD(new Ab(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class hr extends ko{constructor(e,t,r){super(e,t,Gp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ye(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function sk(i,e,...t){if(i=vt(i),Bw("collection","path",e),i instanceof cd){const r=Je.fromString(e,...t);return yT(r),new hr(i,null,r)}{if(!(i instanceof yn||i instanceof hr))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Je.fromString(e,...t));return yT(r),new hr(i.firestore,null,r)}}function km(i,e,...t){if(i=vt(i),arguments.length===1&&(e=Rb.newId()),Bw("doc","path",e),i instanceof cd){const r=Je.fromString(e,...t);return gT(r),new yn(i,null,new ye(r))}{if(!(i instanceof yn||i instanceof hr))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Je.fromString(e,...t));return gT(r),new yn(i.firestore,i instanceof hr?i.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="AsyncQueue";class TT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vw(this,"async_queue_retry"),this.Su=()=>{const r=Dm();r&&he(ET,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Dm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Dm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ds;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Do(e))throw e;he(ET,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(r);throw ys("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=sg.createAndSchedule(this,e,t,r,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ud extends cd{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new TT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TT(e),this._firestoreClient=void 0,await e}}}function rk(i,e){const t=Gh(),r=Ch,o=vr(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=t0("firestore");c&&ik(o,...c)}return o}function cg(i){if(i._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ak(i),i._firestoreClient}function ak(i){var e,t,r;const o=i._freezeSettings(),c=function(m,g,y,T){return new CD(m,g,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,zw(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new WO(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(Qt.fromBase64String(e))}catch(t){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new So(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=/^__.*__$/;class lk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}}function Fw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class fg{constructor(e,t,r,o,c,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.$u(e),o}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Lh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Fw(this.Lu)&&ok.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ck{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||rd(e)}ju(e,t,r,o=!1){return new fg({Lu:e,methodName:t,zu:r,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gw(i){const e=i._freezeSettings(),t=rd(i._databaseId);return new ck(i._databaseId,!!e.ignoreUndefinedProperties,t)}function uk(i,e,t,r,o,c={}){const d=i.ju(c.merge||c.mergeFields?2:0,e,t,o);Qw("Data must be an object, but it was:",d,r);const m=$w(r,d);let g,y;if(c.merge)g=new ni(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const x of c.mergeFields){const R=dk(e,x,t);if(!d.contains(R))throw new de(te.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);mk(T,R)||T.push(R)}g=new ni(T),y=d.fieldTransforms.filter(x=>g.covers(x.field))}else g=null,y=d.fieldTransforms;return new lk(new Gn(m),g,y)}function hk(i,e,t,r=!1){return mg(t,i.ju(r?4:3,e))}function mg(i,e){if(Kw(i=vt(i)))return Qw("Unsupported field value:",e,i),$w(i,e);if(i instanceof Hw)return function(r,o){if(!Fw(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,o){const c=[];let d=0;for(const m of r){let g=mg(m,o.Uu(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(i,e)}return function(r,o){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Dt.fromDate(r);return{timestampValue:kh(o.serializer,c)}}if(r instanceof Dt){const c=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(o.serializer,c)}}if(r instanceof hg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof So)return{bytesValue:ow(o.serializer,r._byteString)};if(r instanceof yn){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Yp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof dg)return function(d,m){return{mapValue:{fields:{[Mb]:{stringValue:Pb},[Ih]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return $p(m.serializer,y)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${ld(r)}`)}(i,e)}function $w(i,e){const t={};return Ib(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(i,(r,o)=>{const c=mg(o,e.qu(r));c!=null&&(t[r]=c)}),{mapValue:{fields:t}}}function Kw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof hg||i instanceof So||i instanceof yn||i instanceof Hw||i instanceof dg)}function Qw(i,e,t){if(!Kw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=ld(t);throw r==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+r)}}function dk(i,e,t){if((e=vt(e))instanceof ug)return e._internalPath;if(typeof e=="string")return Yw(i,e);throw Lh("Field path arguments must be of type string or ",i,!1,void 0,t)}const fk=new RegExp("[~\\*/\\[\\]]");function Yw(i,e,t){if(e.search(fk)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new ug(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Lh(i,e,t,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new de(te.INVALID_ARGUMENT,m+i+g)}function mk(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class pk extends Xw{data(){return super.data()}}function pg(i,e){return typeof e=="string"?Yw(i,e):e instanceof ug?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class yk extends gg{}function vk(i,e,...t){let r=[];e instanceof gg&&r.push(e),r=r.concat(t),function(c){const d=c.filter(g=>g instanceof yg).length,m=c.filter(g=>g instanceof hd).length;if(d>1||d>0&&m>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)i=o._apply(i);return i}class hd extends yk{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new hd(e,t,r)}_apply(e){const t=this._parse(e);return Ww(e._query,t),new ko(e.firestore,e.converter,ep(e._query,t))}_parse(e){const t=Gw(e.firestore);return function(c,d,m,g,y,T,x){let R;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){xT(x,T);const V=[];for(const K of x)V.push(wT(g,c,K));R={arrayValue:{values:V}}}else R=wT(g,c,x)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||xT(x,T),R=hk(m,d,x,T==="in"||T==="not-in");return xt.create(y,T,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function bT(i,e,t){const r=e,o=pg("where",i);return hd._create(o,r,t)}class yg extends gg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let d=o;const m=c.getFlattenedFilters();for(const g of m)Ww(d,g),d=ep(d,g)}(e._query,t),new ko(e.firestore,e.converter,ep(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function wT(i,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fb(e)&&t.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Je.fromString(t));if(!ye.isDocumentKey(r))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LE(i,new ye(r))}if(t instanceof yn)return LE(i,t._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ld(t)}.`)}function xT(i,e){if(!Array.isArray(i)||i.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ww(i,e){const t=function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _k{convertValue(e,t="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ga(e,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertVectorValue(e){var t,r,o;const c=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Ih].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(d=>yt(d.doubleValue));return new dg(c)}convertGeoPoint(e){return new hg(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const t=fr(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Je.fromString(e);Ge(fw(r));const o=new fc(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return o.isEqual(t)||ys(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(i,e,t){let r;return r=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zw extends Xw{constructor(e,t,r,o,c,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class gh extends Zw{data(e={}){return super.data(e)}}class Tk{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gh(this._firestore,this._userDataWriter,r.key,r,new Zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const g=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:bk(m.type),doc:g,oldIndex:y,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(i){i=da(i,yn);const e=da(i.firestore,ud);return ek(cg(e),i._key).then(t=>Sk(e,i,t))}class Jw extends _k{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function wk(i){i=da(i,ko);const e=da(i.firestore,ud),t=cg(e),r=new Jw(e);return gk(i._query),tk(t,i._query).then(o=>new Tk(e,r,i,o))}function AT(i,e,t){i=da(i,yn);const r=da(i.firestore,ud),o=Ek(i.converter,e,t);return xk(r,[uk(Gw(r),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,fs.none())])}function xk(i,e){return function(r,o){const c=new ds;return r.asyncQueue.enqueueAndForget(async()=>qO(await JO(r),o,c)),c.promise}(cg(i),e)}function Sk(i,e,t){const r=t.docs.get(e._key),o=new Jw(i);return new Zw(i,o,e._key,r,new Zl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){jo=o})(pa),ri(new $n("firestore",(r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),m=new ud(new dD(r.getProvider("auth-internal")),new pD(d,r.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(y.options.projectId,T)}(d,o),d);return c=Object.assign({useFetchStreams:t},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),pn(RE,CE,e),pn(RE,CE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="firebasestorage.googleapis.com",tx="storageBucket",Ak=2*60*1e3,Rk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends Qn{constructor(e,t,r=0){super(Mm(e),`Firebase Storage: ${t} (${Mm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function Mm(i){return"storage/"+i}function vg(){const i="An unknown error occurred, please check the error payload for server response.";return new ft(dt.UNKNOWN,i)}function Ck(i){return new ft(dt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function Ik(i){return new ft(dt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jk(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(dt.UNAUTHENTICATED,i)}function Nk(){return new ft(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Dk(i){return new ft(dt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function Ok(){return new ft(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kk(){return new ft(dt.CANCELED,"User canceled the upload/download.")}function Mk(i){return new ft(dt.INVALID_URL,"Invalid URL '"+i+"'.")}function Pk(i){return new ft(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function Vk(){return new ft(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tx+"' property when initializing the app?")}function Lk(){return new ft(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Uk(){return new ft(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zk(i){return new ft(dt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hp(i){return new ft(dt.INVALID_ARGUMENT,i)}function nx(){return new ft(dt.APP_DELETED,"The Firebase app was deleted.")}function Bk(i){return new ft(dt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rc(i,e){return new ft(dt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function $l(i){throw new ft(dt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Sn.makeFromUrl(e,t)}catch{return new Sn(e,"")}if(r.path==="")return r;throw Pk(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(ae){ae.path_=decodeURIComponent(ae.path)}const T="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",O=new RegExp(`^https?://${x}/${T}/b/${o}/o${R}`,"i"),V={bucket:1,path:3},K=t===ex?"(?:storage.googleapis.com|storage.cloud.google.com)":t,q="([^?#]*)",$=new RegExp(`^https?://${K}/${o}/${q}`,"i"),Q=[{regex:m,indices:g,postModify:c},{regex:O,indices:V,postModify:y},{regex:$,indices:{bucket:1,path:2},postModify:y}];for(let ae=0;ae<Q.length;ae++){const ce=Q[ae],me=ce.regex.exec(e);if(me){const N=me[ce.indices.bucket];let A=me[ce.indices.path];A||(A=""),r=new Sn(N,A),ce.postModify(r);break}}if(r==null)throw Mk(e);return r}}class qk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(i,e,t){let r=1,o=null,c=null,d=!1,m=0;function g(){return m===2}let y=!1;function T(...q){y||(y=!0,e.apply(null,q))}function x(q){o=setTimeout(()=>{o=null,i(O,g())},q)}function R(){c&&clearTimeout(c)}function O(q,...$){if(y){R();return}if(q){R(),T.call(null,q,...$);return}if(g()||d){R(),T.call(null,q,...$);return}r<64&&(r*=2);let Q;m===1?(m=2,Q=0):Q=(r+Math.random())*1e3,x(Q)}let V=!1;function K(q){V||(V=!0,R(),!y&&(o!==null?(q||(m=2),clearTimeout(o),x(0)):q||(m=1)))}return x(0),c=setTimeout(()=>{d=!0,K(!0)},t),K}function Fk(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(i){return i!==void 0}function $k(i){return typeof i=="object"&&!Array.isArray(i)}function _g(i){return typeof i=="string"||i instanceof String}function RT(i){return Eg()&&i instanceof Blob}function Eg(){return typeof Blob<"u"}function CT(i,e,t,r){if(r<e)throw hp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>t)throw hp(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${i}`}function ix(i){const e=encodeURIComponent;let t="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var ra;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ra||(ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,r,o,c,d,m,g,y,T,x,R=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=x,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,V)=>{this.resolve_=O,this.reject_=V,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new ih(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const m=c.getErrorCode()===ra.NO_ERROR,g=c.getStatus();if(!m||Kk(g,this.additionalRetryCodes_)&&this.retry){const T=c.getErrorCode()===ra.ABORT;r(!1,new ih(!1,null,T));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new ih(y,c))})},t=(r,o)=>{const c=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());Gk(g)?c(g):c()}catch(g){d(g)}else if(m!==null){const g=vg();g.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,g)):d(g)}else if(o.canceled){const g=this.appDelete_?nx():kk();d(g)}else{const g=Ok();d(g)}};this.canceled_?t(!1,new ih(!1,null,!0)):this.backoffId_=Hk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Yk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Xk(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Wk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Zk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Jk(i,e,t,r,o,c,d=!0){const m=ix(i.urlParams),g=i.url+m,y=Object.assign({},i.headers);return Wk(y,e),Yk(y,t),Xk(y,c),Zk(y,r),new Qk(g,i.method,y,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tM(...i){const e=eM();if(e!==void 0){const t=new e;for(let r=0;r<i.length;r++)t.append(i[r]);return t.getBlob()}else{if(Eg())return new Blob(i);throw new ft(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nM(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(i){if(typeof atob>"u")throw zk("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pm{constructor(e,t){this.data=e,this.contentType=t||null}}function sM(i,e){switch(i){case Si.RAW:return new Pm(sx(e));case Si.BASE64:case Si.BASE64URL:return new Pm(rx(i,e));case Si.DATA_URL:return new Pm(aM(e),oM(e))}throw vg()}function sx(i){const e=[];for(let t=0;t<i.length;t++){let r=i.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=r,d=i.charCodeAt(++t);r=65536|(c&1023)<<10|d&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function rM(i){let e;try{e=decodeURIComponent(i)}catch{throw rc(Si.DATA_URL,"Malformed data URL.")}return sx(e)}function rx(i,e){switch(i){case Si.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw rc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw rc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=iM(e)}catch(o){throw o.message.includes("polyfill")?o:rc(i,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class ax{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw rc(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=lM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function aM(i){const e=new ax(i);return e.base64?rx(Si.BASE64,e.rest):rM(e.rest)}function oM(i){return new ax(i).contentType}function lM(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t){let r=0,o="";RT(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(RT(this.data_)){const r=this.data_,o=nM(r,e,t);return o===null?null:new ar(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ar(r,!0)}}static getBlob(...e){if(Eg()){const t=e.map(r=>r instanceof ar?r.data_:r);return new ar(tM.apply(null,t))}else{const t=e.map(d=>_g(d)?sM(Si.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let c=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)o[c++]=d[m]}),new ar(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(i){let e;try{e=JSON.parse(i)}catch{return null}return $k(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function uM(i,e){const t=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?t:i+"/"+t}function lx(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(i,e){return e}class cn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||hM}}let sh=null;function dM(i){return!_g(i)||i.length<2?i:lx(i)}function cx(){if(sh)return sh;const i=[];i.push(new cn("bucket")),i.push(new cn("generation")),i.push(new cn("metageneration")),i.push(new cn("name","fullPath",!0));function e(c,d){return dM(d)}const t=new cn("name");t.xform=e,i.push(t);function r(c,d){return d!==void 0?Number(d):d}const o=new cn("size");return o.xform=r,i.push(o),i.push(new cn("timeCreated")),i.push(new cn("updated")),i.push(new cn("md5Hash",null,!0)),i.push(new cn("cacheControl",null,!0)),i.push(new cn("contentDisposition",null,!0)),i.push(new cn("contentEncoding",null,!0)),i.push(new cn("contentLanguage",null,!0)),i.push(new cn("contentType",null,!0)),i.push(new cn("metadata","customMetadata",!0)),sh=i,sh}function fM(i,e){function t(){const r=i.bucket,o=i.fullPath,c=new Sn(r,o);return e._makeStorageReference(c)}Object.defineProperty(i,"ref",{get:t})}function mM(i,e,t){const r={};r.type="file";const o=t.length;for(let c=0;c<o;c++){const d=t[c];r[d.local]=d.xform(r,e[d.server])}return fM(r,i),r}function ux(i,e,t){const r=ox(e);return r===null?null:mM(i,r,t)}function pM(i,e,t,r){const o=ox(e);if(o===null||!_g(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(y=>{const T=i.bucket,x=i.fullPath,R="/b/"+d(T)+"/o/"+d(x),O=Tg(R,t,r),V=ix({alt:"media",token:y});return O+V})[0]}function gM(i,e){const t={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(t[c.server]=i[c.local])}return JSON.stringify(t)}class hx{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(i){if(!i)throw vg()}function yM(i,e){function t(r,o){const c=ux(i,o,e);return dx(c!==null),c}return t}function vM(i,e){function t(r,o){const c=ux(i,o,e);return dx(c!==null),pM(c,o,i.host,i._protocol)}return t}function fx(i){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Nk():o=jk():t.getStatus()===402?o=Ik(i.bucket):t.getStatus()===403?o=Dk(i.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function _M(i){const e=fx(i);function t(r,o){let c=e(r,o);return r.getStatus()===404&&(c=Ck(i.path)),c.serverResponse=o.serverResponse,c}return t}function EM(i,e,t){const r=e.fullServerUrl(),o=Tg(r,i.host,i._protocol),c="GET",d=i.maxOperationRetryTime,m=new hx(o,c,vM(i,t),d);return m.errorHandler=_M(e),m}function TM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function bM(i,e,t){const r=Object.assign({},t);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=TM(null,e)),r}function wM(i,e,t,r,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function m(){let Q="";for(let ae=0;ae<2;ae++)Q=Q+Math.random().toString().slice(2);return Q}const g=m();d["Content-Type"]="multipart/related; boundary="+g;const y=bM(e,r,o),T=gM(y,t),x="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+T+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,R=`\r
--`+g+"--",O=ar.getBlob(x,r,R);if(O===null)throw Lk();const V={name:y.fullPath},K=Tg(c,i.host,i._protocol),q="POST",$=i.maxUploadRetryTime,Z=new hx(K,q,yM(i,t),$);return Z.urlParams=V,Z.headers=d,Z.body=O.uploadData(),Z.errorHandler=fx(e),Z}class xM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw $l("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $l("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $l("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $l("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $l("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SM extends xM{initXhr(){this.xhr_.responseType="text"}}function mx(){return new SM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this._service=e,t instanceof Sn?this._location=t:this._location=Sn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fa(e,t)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lx(this._location.path)}get storage(){return this._service}get parent(){const e=cM(this._location.path);if(e===null)return null;const t=new Sn(this._location.bucket,e);return new fa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Bk(e)}}function AM(i,e,t){i._throwIfRoot("uploadBytes");const r=wM(i.storage,i._location,cx(),new ar(e,!0),t);return i.storage.makeRequestWithTokens(r,mx).then(o=>({metadata:o,ref:i}))}function RM(i){i._throwIfRoot("getDownloadURL");const e=EM(i.storage,i._location,cx());return i.storage.makeRequestWithTokens(e,mx).then(t=>{if(t===null)throw Uk();return t})}function CM(i,e){const t=uM(i._location.path,e),r=new Sn(i._location.bucket,t);return new fa(i.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(i){return/^[A-Za-z]+:\/\//.test(i)}function jM(i,e){return new fa(i,e)}function px(i,e){if(i instanceof bg){const t=i;if(t._bucket==null)throw Vk();const r=new fa(t,t._bucket);return e!=null?px(r,e):r}else return e!==void 0?CM(i,e):i}function NM(i,e){if(e&&IM(e)){if(i instanceof bg)return jM(i,e);throw hp("To use ref(service, url), the first argument must be a Storage instance.")}else return px(i,e)}function IT(i,e){const t=e==null?void 0:e[tx];return t==null?null:Sn.makeFromBucketSpec(t,i)}function DM(i,e,t,r={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=r;o&&(i._overrideAuthToken=typeof o=="string"?o:s0(o,i.app.options.projectId))}class bg{constructor(e,t,r,o,c){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=ex,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ak,this._maxUploadRetryTime=Rk,this._requests=new Set,o!=null?this._bucket=Sn.makeFromBucketSpec(o,this._host):this._bucket=IT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=IT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fa(this,e)}_makeRequest(e,t,r,o,c=!0){if(this._deleted)return new qk(nx());{const d=Jk(e,this._appId,r,o,t,this._firebaseVersion,c);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const jT="@firebase/storage",NT="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="storage";function OM(i,e,t){return i=vt(i),AM(i,e,t)}function kM(i){return i=vt(i),RM(i)}function MM(i,e){return i=vt(i),NM(i,e)}function PM(i=Gh(),e){i=vt(i);const r=vr(i,gx).getImmediate({identifier:e}),o=t0("storage");return o&&VM(r,...o),r}function VM(i,e,t,r={}){DM(i,e,t,r)}function LM(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new bg(t,r,o,e,pa)}function UM(){ri(new $n(gx,LM,"PUBLIC").setMultipleInstances(!0)),pn(jT,NT,""),pn(jT,NT,"esm2017")}UM();function yx({onClose:i,onThemeToggle:e,isDarkMode:t}){const[r,o]=B.useState("main"),[c,d]=B.useState(null),[m,g]=B.useState(!0),[y,T]=B.useState({fullName:"",phoneNumber:"",bio:""}),[x,R]=B.useState([]),[O,V]=B.useState(null),[K,q]=B.useState(!1),[$,Z]=B.useState(""),Q=Vp(),ae=rk(),ce=PM(),me="/assets/images/default-avatar.jpg";B.useEffect(()=>{(async()=>{if(!Q.currentUser){Z("No authenticated user found."),g(!1);return}try{g(!0);const be=km(ae,"users",Q.currentUser.uid),D=await ST(be);if(D.exists()){const Y=D.data();console.log("User Data from Firestore:",Y),console.log("User Display Name from Auth:",Q.currentUser.displayName),d({name:Y.fullName||Q.currentUser.displayName||"User",email:Q.currentUser.email,image:Y.profileImage||Q.currentUser.photoURL||me,memberSince:Y.memberSince?new Date(Y.memberSince.toDate()).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"New Member",plan:Y.subscriptionPlan||"Free",streak:Y.streak||0,phoneNumber:Y.phoneNumber||"",bio:Y.bio||"",nextSession:Y.nextSession?new Date(Y.nextSession.toDate()).toLocaleString("en-US",{weekday:"long",hour:"numeric",minute:"numeric",hour12:!0}):"No upcoming sessions"}),T({fullName:Y.fullName||Q.currentUser.displayName||"",phoneNumber:Y.phoneNumber||"",bio:Y.bio||""})}else{const Y={fullName:Q.currentUser.displayName||"",email:Q.currentUser.email,profileImage:Q.currentUser.photoURL||me,memberSince:new Date,subscriptionPlan:"Free",streak:0};await AT(be,Y),d({name:Y.fullName||"User",email:Y.email,image:Y.profileImage,memberSince:"New Member",plan:"Free",streak:0,nextSession:"No upcoming sessions"}),T({fullName:Y.fullName||"",phoneNumber:"",bio:""})}N()}catch(be){console.error("Error fetching user data:",be),Z(`Error loading profile: ${be.message}`)}finally{g(!1)}})()},[Q.currentUser,ae]);const N=async()=>{if(Q.currentUser)try{const ie=sk(ae,"notifications"),be=vk(ie,bT("userId","==",Q.currentUser.uid),bT("read","==",!1)),D=await wk(be),Y=[];D.forEach(le=>{Y.push({id:le.id,...le.data()})}),R(Y)}catch(ie){console.error("Error fetching notifications:",ie)}},A=async()=>{try{await xj(Q),i()}catch(ie){console.error("Error signing out:",ie),Z(`Error signing out: ${ie.message}`)}},S=ie=>{ie==="My Profile"||ie==="Settings"?o(ie.toLowerCase().replace(" ","-")):ie==="Notifications"?I():i()},I=async()=>{if(x.length!==0)try{const ie=ae.batch();x.forEach(be=>{const D=km(ae,"notifications",be.id);ie.update(D,{read:!0})}),await ie.commit(),R([])}catch(ie){console.error("Error marking notifications as read:",ie)}},k=ie=>{const{name:be,value:D}=ie.target;T(Y=>({...Y,[be]:D}))},U=ie=>{ie.target.files[0]&&V(ie.target.files[0])},j=async()=>{if(Z(""),!Q.currentUser){Z("No authenticated user found. Please sign in again.");return}try{const ie=km(ae,"users",Q.currentUser.uid),be=await ST(ie),Y={...be.exists()?be.data():{},fullName:y.fullName,phoneNumber:y.phoneNumber,bio:y.bio,lastUpdated:new Date};if(O){q(!0);try{const le=MM(ce,`profile-images/${Q.currentUser.uid}`);await OM(le,O);const oe=await kM(le);oe&&(Y.profileImage=oe)}catch(le){console.error("Error uploading image:",le)}finally{q(!1)}}console.log("Updating with data:",Y),await AT(ie,Y,{merge:!0}),d(le=>({...le,name:y.fullName,image:Y.profileImage||le.image,phoneNumber:y.phoneNumber,bio:y.bio})),alert("Profile updated successfully!"),o("main")}catch(ie){console.error("Error updating profile:",ie),Z(`Update failed: ${ie.message}`),alert(`Failed to update profile: ${ie.message}`)}},mt=()=>{const ie=c==null?void 0:c.image;return ie&&ie!==me?u.jsx("img",{src:ie,alt:c==null?void 0:c.name,className:"profile-image"}):u.jsx(xE,{size:64,className:"default-profile-icon"})};if(m)return u.jsx("div",{className:"profile-popup-overlay",children:u.jsx("div",{className:"profile-popup",children:u.jsxs("div",{className:"loading-spinner",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading your profile..."})]})})});if($&&!c)return u.jsx("div",{className:"profile-popup-overlay",children:u.jsxs("div",{className:"profile-popup",children:[u.jsx("button",{className:"close-button",onClick:i,children:u.jsx(SE,{size:20})}),u.jsxs("div",{className:"error-message",children:[u.jsx("p",{children:$}),u.jsx("button",{onClick:i,children:"Close"})]})]})});const at=()=>u.jsxs(u.Fragment,{children:[$&&u.jsx("div",{className:"error-banner",children:$}),u.jsxs("div",{className:"profile-header",children:[u.jsxs("div",{className:"profile-image-container",children:[mt(),x.length>0&&u.jsx("div",{className:"notification-badge",children:x.length})]}),u.jsxs("div",{className:"profile-info",children:[u.jsx("h3",{children:c==null?void 0:c.name}),u.jsx("p",{className:"email",children:c==null?void 0:c.email}),u.jsxs("p",{className:"member-info",children:["Member since ",c==null?void 0:c.memberSince,"  ",c==null?void 0:c.plan]})]})]}),u.jsxs("div",{className:"streak-panel",children:[u.jsxs("div",{className:"streak-count",children:[u.jsx("span",{className:"number",children:c==null?void 0:c.streak}),u.jsx("span",{className:"label",children:"Day Streak"})]}),u.jsxs("div",{className:"next-session",children:[u.jsx("span",{className:"label",children:"Next Session"}),u.jsx("span",{className:"session-time",children:c==null?void 0:c.nextSession})]})]}),u.jsx("div",{className:"divider"}),u.jsxs("div",{className:"profile-menu",children:[u.jsxs("div",{className:"menu-item",onClick:()=>S("My Profile"),children:[u.jsx(aD,{size:18}),u.jsx("span",{children:"My Profile"}),u.jsx(ti,{size:16,className:"chevron"})]}),u.jsxs("div",{className:"menu-item",onClick:()=>S("My Community"),children:[u.jsx(lD,{size:18}),u.jsx("span",{children:"My Community"}),u.jsx(ti,{size:16,className:"chevron"})]}),u.jsxs("div",{className:"menu-item",onClick:()=>S("My Wellness Journey"),children:[u.jsx(sD,{size:18}),u.jsx("span",{children:"My Wellness Journey"}),u.jsx(ti,{size:16,className:"chevron"})]}),u.jsxs("div",{className:"menu-item",onClick:()=>S("My Sessions"),children:[u.jsx(FN,{size:18}),u.jsx("span",{children:"My Sessions"}),u.jsx(ti,{size:16,className:"chevron"})]}),u.jsxs("div",{className:"menu-item",onClick:()=>S("My Reports"),children:[u.jsx(QN,{size:18}),u.jsx("span",{children:"My Reports"}),u.jsx(ti,{size:16,className:"chevron"})]}),u.jsxs("div",{className:"menu-item",onClick:()=>S("Notifications"),children:[u.jsx(qN,{size:18}),u.jsx("span",{children:"Notifications"}),x.length>0&&u.jsx("div",{className:"menu-notification-badge",children:x.length})]}),u.jsxs("div",{className:"menu-item",onClick:()=>S("Settings"),children:[u.jsx(eD,{size:18}),u.jsx("span",{children:"Settings"}),u.jsx(ti,{size:16,className:"chevron"})]})]}),u.jsx("div",{className:"divider"}),u.jsx("div",{className:"preference-toggles",children:u.jsxs("div",{className:"toggle-item",onClick:e,children:[u.jsx(ZN,{size:18}),u.jsx("span",{children:"Dark Mode"}),u.jsxs("div",{className:"toggle-switch",children:[u.jsx("input",{type:"checkbox",id:"theme-toggle",className:"toggle-input",checked:t,onChange:e}),u.jsx("label",{htmlFor:"theme-toggle",className:"toggle-label"})]})]})}),u.jsx("div",{className:"divider"}),u.jsxs("div",{className:"footer-menu",children:[u.jsxs("div",{className:"menu-item",onClick:()=>S("Privacy Policy"),children:[u.jsx(nD,{size:18}),u.jsx("span",{children:"Privacy Policy"})]}),u.jsxs("div",{className:"menu-item logout",onClick:A,children:[u.jsx(XN,{size:18}),u.jsx("span",{children:"Logout"})]})]})]}),re=()=>u.jsxs(u.Fragment,{children:[$&&u.jsx("div",{className:"error-banner",children:$}),u.jsxs("div",{className:"section-header",children:[u.jsx("button",{className:"back-button",onClick:()=>o("main"),children:u.jsx(ti,{size:18,className:"back-icon"})}),u.jsx("h3",{children:"My Profile"})]}),u.jsxs("div",{className:"profile-edit-form",children:[u.jsxs("div",{className:"profile-image-editor",children:[c!=null&&c.image&&c.image!==me?u.jsx("img",{src:c.image,alt:c==null?void 0:c.name,className:"profile-image large"}):u.jsx(xE,{size:120,className:"default-profile-icon large"}),u.jsx("input",{type:"file",id:"profile-image-upload",accept:"image/*",className:"file-input",onChange:U,style:{display:"none"}}),u.jsx("label",{htmlFor:"profile-image-upload",className:"edit-image-button",children:K?"Uploading...":"Change Photo"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Full Name"}),u.jsx("input",{type:"text",name:"fullName",value:y.fullName,onChange:k,className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:c==null?void 0:c.email,className:"form-input",disabled:!0}),u.jsx("p",{className:"form-helper",children:"Email cannot be changed"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Phone Number"}),u.jsx("input",{type:"tel",name:"phoneNumber",value:y.phoneNumber,onChange:k,placeholder:"Add phone number",className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Bio"}),u.jsx("textarea",{name:"bio",value:y.bio,onChange:k,placeholder:"Tell us about yourself",className:"form-textarea",rows:4})]}),u.jsx("button",{className:"save-button",onClick:j,children:K?"Uploading...":"Save Changes"})]})]}),ve=()=>u.jsxs(u.Fragment,{children:[$&&u.jsx("div",{className:"error-banner",children:$}),u.jsxs("div",{className:"section-header",children:[u.jsx("button",{className:"back-button",onClick:()=>o("main"),children:u.jsx(ti,{size:18,className:"back-icon"})}),u.jsx("h3",{children:"Settings"})]}),u.jsxs("div",{className:"settings-list",children:[u.jsx("h4",{children:"Account Settings"}),u.jsxs("div",{className:"settings-group",children:[u.jsxs("div",{className:"settings-item",children:[u.jsx("span",{children:"Subscription Plan"}),u.jsx("span",{className:"settings-value",children:c==null?void 0:c.plan}),u.jsx(ti,{size:16,className:"chevron"})]}),u.jsxs("div",{className:"settings-item",children:[u.jsx("span",{children:"Change Password"}),u.jsx(ti,{size:16,className:"chevron"})]}),u.jsxs("div",{className:"settings-item",children:[u.jsx("span",{children:"Billing Information"}),u.jsx(ti,{size:16,className:"chevron"})]})]}),u.jsx("h4",{children:"Notifications"}),u.jsxs("div",{className:"settings-group",children:[u.jsxs("div",{className:"toggle-item",children:[u.jsx("span",{children:"Push Notifications"}),u.jsxs("div",{className:"toggle-switch",children:[u.jsx("input",{type:"checkbox",id:"push-toggle",className:"toggle-input",defaultChecked:!0}),u.jsx("label",{htmlFor:"push-toggle",className:"toggle-label"})]})]}),u.jsxs("div",{className:"toggle-item",children:[u.jsx("span",{children:"Email Notifications"}),u.jsxs("div",{className:"toggle-switch",children:[u.jsx("input",{type:"checkbox",id:"email-toggle",className:"toggle-input",defaultChecked:!0}),u.jsx("label",{htmlFor:"email-toggle",className:"toggle-label"})]})]}),u.jsxs("div",{className:"toggle-item",children:[u.jsx("span",{children:"Session Reminders"}),u.jsxs("div",{className:"toggle-switch",children:[u.jsx("input",{type:"checkbox",id:"reminder-toggle",className:"toggle-input",defaultChecked:!0}),u.jsx("label",{htmlFor:"reminder-toggle",className:"toggle-label"})]})]})]}),u.jsx("h4",{children:"Privacy"}),u.jsxs("div",{className:"settings-group",children:[u.jsxs("div",{className:"toggle-item",children:[u.jsx("span",{children:"Show Online Status"}),u.jsxs("div",{className:"toggle-switch",children:[u.jsx("input",{type:"checkbox",id:"online-toggle",className:"toggle-input"}),u.jsx("label",{htmlFor:"online-toggle",className:"toggle-label"})]})]}),u.jsxs("div",{className:"toggle-item",children:[u.jsx("span",{children:"Share Activity with Community"}),u.jsxs("div",{className:"toggle-switch",children:[u.jsx("input",{type:"checkbox",id:"activity-toggle",className:"toggle-input"}),u.jsx("label",{htmlFor:"activity-toggle",className:"toggle-label"})]})]})]})]})]});return u.jsx("div",{className:"profile-popup-overlay",onClick:i,children:u.jsxs("div",{className:"profile-popup",onClick:ie=>ie.stopPropagation(),children:[u.jsx("button",{className:"close-button",onClick:i,children:u.jsx(SE,{size:20})}),r==="main"&&at(),r==="my-profile"&&re(),r==="settings"&&ve()]})})}function Mo(){const[i,e]=B.useState(!1),t=()=>{e(!i)};return u.jsxs("header",{className:"header",children:[u.jsx("div",{className:"logo",children:"MindEase"}),u.jsx("nav",{className:"nav",children:u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx(Ze,{to:"/",children:"Home"})}),u.jsx("li",{children:u.jsx(Ze,{to:"/about",children:"About"})}),u.jsx("li",{children:u.jsx(Ze,{to:"/screening",children:"Screening"})}),u.jsx("li",{children:u.jsx(Ze,{to:"/resources",children:"Resources"})}),u.jsx("li",{children:u.jsx(Ze,{to:"/community",children:"Community"})}),u.jsx("li",{children:u.jsx(Ze,{to:"/contact",children:"Contact"})})]})}),u.jsx("div",{className:"profile-icon",onClick:t,style:{cursor:"pointer"},children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"40",height:"40",fill:"currentColor",children:[u.jsx("circle",{cx:"12",cy:"8",r:"4"}),u.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]})}),i&&u.jsx(yx,{onClose:t})]})}var vx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DT=sa.createContext&&sa.createContext(vx),zM=["attr","size","title"];function BM(i,e){if(i==null)return{};var t=qM(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(t[r]=i[r])}return t}function qM(i,e){if(i==null)return{};var t={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;t[r]=i[r]}return t}function Uh(){return Uh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Uh.apply(this,arguments)}function OT(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,r)}return t}function zh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(t),!0).forEach(function(r){HM(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):OT(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function HM(i,e,t){return e=FM(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function FM(i){var e=GM(i,"string");return typeof e=="symbol"?e:e+""}function GM(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function _x(i){return i&&i.map((e,t)=>sa.createElement(e.tag,zh({key:t},e.attr),_x(e.child)))}function dd(i){return e=>sa.createElement($M,Uh({attr:zh({},i.attr)},e),_x(i.child))}function $M(i){var e=t=>{var{attr:r,size:o,title:c}=i,d=BM(i,zM),m=o||t.size||"1em",g;return t.className&&(g=t.className),i.className&&(g=(g?g+" ":"")+i.className),sa.createElement("svg",Uh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,d,{className:g,style:zh(zh({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&sa.createElement("title",null,c),i.children)};return DT!==void 0?sa.createElement(DT.Consumer,null,t=>e(t)):e(vx)}function KM(i){return dd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(i)}function QM(i){return dd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(i)}function YM(i){return dd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(i)}function XM(i){return dd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function Po(){return u.jsxs("footer",{className:"footer",children:[u.jsxs("div",{className:"footer-content",children:[u.jsxs("div",{className:"footer-section",children:[u.jsx("h3",{className:"footer-heading",children:"Quick Links"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx(Ze,{to:"/privacy",children:"Privacy Policy"})}),u.jsx("li",{children:u.jsx(Ze,{to:"/terms",children:"Terms of Service"})}),u.jsx("li",{children:u.jsx(Ze,{to:"/contact",children:"Contact Us"})})]})]}),u.jsxs("div",{className:"footer-section",children:[u.jsx("h3",{className:"footer-heading",children:"Follow Us"}),u.jsxs("div",{className:"social-media",children:[u.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:u.jsx(KM,{className:"icon"})}),u.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:u.jsx(YM,{className:"icon"})}),u.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:u.jsx(QM,{className:"icon"})})]})]}),u.jsxs("div",{className:"footer-section",children:[u.jsx("h3",{className:"footer-heading",children:"Newsletter"}),u.jsx("p",{className:"newsletter-description",children:"Stay updated with the latest news and updates."}),u.jsxs("div",{className:"newsletter-input",children:[u.jsx(XM,{className:"newsletter-icon"}),u.jsx("input",{type:"email",placeholder:"Enter your email"}),u.jsx("button",{className:"newsletter-button",children:"Subscribe"})]})]})]}),u.jsx("div",{className:"footer-bottom",children:u.jsx("p",{children:" 2023 MindEase. All rights reserved."})})]})}function WM(){return u.jsxs("div",{className:"App",children:[u.jsx(Mo,{}),u.jsx("section",{className:"hero",style:{backgroundImage:"url('/assets/images/calming2.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:u.jsxs("div",{className:"hero-content",children:[u.jsx("h1",{children:"Welcome to MindEase"}),u.jsx("p",{children:"Your safe space for understanding and managing mental health."}),u.jsxs("div",{className:"cta-buttons",children:[u.jsx(Ze,{to:"/screening",children:u.jsx("button",{className:"primary-cta",children:"Take a Screening Test"})}),u.jsx(Ze,{to:"/community",children:u.jsx("button",{className:"secondary-cta",children:"Join the Community"})})]})]})}),u.jsxs("section",{className:"features",children:[u.jsx("h2",{children:"How We Can Help"}),u.jsxs("div",{className:"feature-cards",children:[u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-icon",children:""}),u.jsx("h3",{children:"Screening Tools"}),u.jsx("p",{children:"Accessible, scientifically-validated assessments."})]}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-icon",children:""}),u.jsx("h3",{children:"Personalized Resources"}),u.jsx("p",{children:"Connect with specialists tailored to your needs."})]}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-icon",children:""}),u.jsx("h3",{children:"Community Support"}),u.jsx("p",{children:"Join moderated peer support groups."})]}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-icon",children:""}),u.jsx("h3",{children:"Progress Tracking"}),u.jsx("p",{children:"Monitor your mental health journey."})]})]})]}),u.jsxs("section",{className:"about",children:[u.jsxs("div",{className:"about-content",children:[u.jsx("h2",{children:"About MindEase"}),u.jsx("p",{children:"We are dedicated to providing comprehensive support for mental health conditions. Our platform combines cutting-edge technology with compassionate care to help you thrive."}),u.jsx(Ze,{to:"/about",className:"about-link",children:"Learn More "})]}),u.jsx("div",{className:"about-image",children:u.jsx("img",{src:"https://via.placeholder.com/400",alt:"About illustration"})})]}),u.jsxs("section",{className:"disorders",children:[u.jsx("h2",{children:"Explore Mental Health Conditions"}),u.jsxs("div",{className:"disorder-grid",children:[u.jsxs(Ze,{to:"/ocd",className:"disorder-card",children:[u.jsx("h3",{children:"OCD"}),u.jsx("p",{children:"Obsessive-Compulsive Disorder"})]}),u.jsxs(Ze,{to:"/adhd",className:"disorder-card",children:[u.jsx("h3",{children:"ADHD"}),u.jsx("p",{children:"Attention-Deficit/Hyperactivity Disorder"})]}),u.jsxs(Ze,{to:"/depression",className:"disorder-card",children:[u.jsx("h3",{children:"Depression"}),u.jsx("p",{children:"Major Depressive Disorder"})]}),u.jsxs(Ze,{to:"/anxiety",className:"disorder-card",children:[u.jsx("h3",{children:"Anxiety"}),u.jsx("p",{children:"Generalized Anxiety Disorder"})]}),u.jsxs(Ze,{to:"/bipolar",className:"disorder-card",children:[u.jsx("h3",{children:"Bipolar Disorder"}),u.jsx("p",{children:"Bipolar I and II Disorders"})]}),u.jsxs(Ze,{to:"/ptsd",className:"disorder-card",children:[u.jsx("h3",{children:"PTSD"}),u.jsx("p",{children:"Post-Traumatic Stress Disorder"})]})]})]}),u.jsxs("section",{className:"testimonials",children:[u.jsx("h2",{children:"What Our Users Say"}),u.jsxs("div",{className:"testimonial-cards",children:[u.jsxs("div",{className:"testimonial",children:[u.jsx("p",{children:'"MindEase helped me understand my condition and find the right support. I feel less alone now."'}),u.jsx("p",{children:"- Sarah, 28"})]}),u.jsxs("div",{className:"testimonial",children:[u.jsx("p",{children:'"The community here is amazing. I finally feel heard and supported."'}),u.jsx("p",{children:"- John, 34"})]})]})]}),u.jsx(Po,{})]})}const kT=({initialMode:i="login"})=>{const[e,t]=B.useState(i==="login"),[r,o]=B.useState(!1),[c,d]=B.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",agreeToTerms:!1,securityQuestion:"",securityAnswer:""}),[m,g]=B.useState({}),[y,T]=B.useState(!1),x=Vp(),R=B.useRef(null),O=B.useRef(null),V=B.useRef(null),K=Di(),q=Ni();B.useEffect(()=>{t(i==="login"),R.current&&R.current.focus();const N=A=>{if(V.current){const S=A.clientX/window.innerWidth,I=A.clientY/window.innerHeight;V.current.style.setProperty("--mouse-x",S),V.current.style.setProperty("--mouse-y",I)}};return document.addEventListener("mousemove",N),()=>{document.removeEventListener("mousemove",N)}},[i]);const $=()=>{const N={};return c.email?/\S+@\S+\.\S+/.test(c.email)||(N.email="Email is invalid"):N.email="Email is required",c.password?c.password.length<8&&(N.password="Password must be at least 8 characters"):N.password="Password is required",e||(c.password!==c.confirmPassword&&(N.confirmPassword="Passwords do not match"),c.firstName||(N.firstName="First name is required"),c.lastName||(N.lastName="Last name is required"),c.agreeToTerms||(N.agreeToTerms="You must agree to the terms and conditions"),c.securityQuestion||(N.securityQuestion="Please select a security question"),c.securityAnswer||(N.securityAnswer="Security answer is required")),g(N),Object.keys(N).length===0},Z=N=>{const{name:A,value:S,type:I,checked:k}=N.target;d({...c,[A]:I==="checkbox"?k:S}),m[A]&&g({...m,[A]:null})},Q=async N=>{var A,S;if(N.preventDefault(),!!$()){T(!0);try{if(e){console.log("Attempting sign-in..."),await Tj(x,c.email,c.password),console.log("Sign-in successful");const I=((S=(A=q.state)==null?void 0:A.from)==null?void 0:S.pathname)||"/home";K(I)}else await Ej(x,c.email,c.password),o(!0)}catch(I){console.error("Sign-in error:",I),g({general:I.message})}finally{T(!1)}}},ae=async()=>{var A,S;T(!0);const N=new as;try{await Fj(x,N);const I=((S=(A=q.state)==null?void 0:A.from)==null?void 0:S.pathname)||"/home";K(I)}catch(I){g({general:I.message})}finally{T(!1)}},ce=()=>{o(!1),K(e?"/register":"/")},me=()=>{const N=c.password;if(!N)return 0;let A=0;return N.length>=8&&(A+=1),/[A-Z]/.test(N)&&(A+=1),/[a-z]/.test(N)&&(A+=1),/[0-9]/.test(N)&&(A+=1),/[^A-Za-z0-9]/.test(N)&&(A+=1),A};return u.jsxs("div",{className:"auth-container",ref:V,children:[u.jsxs("div",{className:"auth-background",children:[u.jsx("div",{className:"gradient-orb orb1"}),u.jsx("div",{className:"gradient-orb orb2"}),u.jsx("div",{className:"gradient-orb orb3"}),u.jsx("div",{className:"network-grid"})]}),u.jsxs("div",{className:"auth-card fade-in",children:[u.jsxs("div",{className:"auth-header",children:[u.jsxs("div",{className:"logo",children:[u.jsx("span",{className:"logo-icon"}),u.jsx("h1",{children:"MindfulPath"})]}),u.jsx("h2",{children:e?"Welcome Back":"Create Your Account"}),u.jsx("p",{className:"subtitle",children:e?"Your journey to better mental health continues here":"Join our community for personalized mental health support"})]}),m.general&&u.jsx("div",{className:"auth-message error",children:m.general}),!e&&r?u.jsxs("div",{className:"registration-success",style:{textAlign:"center",padding:"20px"},children:[u.jsx("p",{style:{marginBottom:"20px"},children:"Registration Successful!"}),u.jsx("button",{type:"button",className:"submit-button",onClick:()=>K("/"),children:"Back to Login"})]}):u.jsxs("div",{className:"auth-form-container",style:{maxHeight:"70vh",overflowY:"auto"},children:[u.jsxs("form",{onSubmit:Q,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-container",children:[u.jsx("input",{type:"email",id:"email",name:"email",ref:R,value:c.email,onChange:Z,className:m.email?"error":"",placeholder:"your.email@example.com"}),u.jsx("span",{className:"input-icon email-icon"})]}),m.email&&u.jsx("span",{className:"error-message",children:m.email})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"input-container",children:[u.jsx("input",{type:"password",id:"password",name:"password",ref:O,value:c.password,onChange:Z,className:m.password?"error":"",placeholder:""}),u.jsx("span",{className:"input-icon password-icon"})]}),m.password&&u.jsx("span",{className:"error-message",children:m.password}),!e&&c.password&&u.jsxs("div",{className:"password-strength",children:[u.jsx("div",{className:"strength-meter",children:[...Array(5)].map((N,A)=>u.jsx("div",{className:`strength-segment ${A<me()?"active":""}`,"data-strength":A+1},A))}),u.jsxs("span",{className:"strength-text",children:[me()===0&&"Very Weak",me()===1&&"Weak",me()===2&&"Fair",me()===3&&"Good",me()===4&&"Strong",me()===5&&"Very Strong"]})]})]}),!e&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsxs("div",{className:"input-container",children:[u.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:Z,className:m.confirmPassword?"error":"",placeholder:""}),u.jsx("span",{className:"input-icon password-confirm-icon"})]}),m.confirmPassword&&u.jsx("span",{className:"error-message",children:m.confirmPassword})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group half",children:[u.jsx("label",{htmlFor:"firstName",children:"First Name"}),u.jsx("div",{className:"input-container",children:u.jsx("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:Z,className:m.firstName?"error":"",placeholder:"John"})}),m.firstName&&u.jsx("span",{className:"error-message",children:m.firstName})]}),u.jsxs("div",{className:"form-group half",children:[u.jsx("label",{htmlFor:"lastName",children:"Last Name"}),u.jsx("div",{className:"input-container",children:u.jsx("input",{type:"text",id:"lastName",name:"lastName",value:c.lastName,onChange:Z,className:m.lastName?"error":"",placeholder:"Doe"})}),m.lastName&&u.jsx("span",{className:"error-message",children:m.lastName})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"securityQuestion",children:"Security Question"}),u.jsxs("div",{className:"input-container",children:[u.jsxs("select",{id:"securityQuestion",name:"securityQuestion",value:c.securityQuestion,onChange:Z,className:m.securityQuestion?"error":"",children:[u.jsx("option",{value:"",children:"Select a security question"}),u.jsx("option",{value:"firstPet",children:"What was the name of your first pet?"}),u.jsx("option",{value:"mothersMaiden",children:"What is your mother's maiden name?"}),u.jsx("option",{value:"birthCity",children:"In what city were you born?"}),u.jsx("option",{value:"elementarySchool",children:"What elementary school did you attend?"}),u.jsx("option",{value:"firstCar",children:"What was the make of your first car?"})]}),u.jsx("span",{className:"input-icon security-icon"})]}),m.securityQuestion&&u.jsx("span",{className:"error-message",children:m.securityQuestion})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"securityAnswer",children:"Security Answer"}),u.jsx("div",{className:"input-container",children:u.jsx("input",{type:"text",id:"securityAnswer",name:"securityAnswer",value:c.securityAnswer,onChange:Z,className:m.securityAnswer?"error":"",placeholder:"Your answer"})}),m.securityAnswer&&u.jsx("span",{className:"error-message",children:m.securityAnswer})]}),u.jsxs("div",{className:"form-group checkbox-group",children:[u.jsxs("label",{className:"checkbox-container",children:[u.jsx("input",{type:"checkbox",name:"agreeToTerms",checked:c.agreeToTerms,onChange:Z}),u.jsx("span",{className:"checkmark"}),u.jsxs("span",{className:"checkbox-label",children:["I agree to the ",u.jsx("a",{href:"#terms",className:"text-link",children:"Terms of Service"})," and ",u.jsx("a",{href:"#privacy",className:"text-link",children:"Privacy Policy"})]})]}),m.agreeToTerms&&u.jsx("span",{className:"error-message",children:m.agreeToTerms})]})]}),e&&u.jsx("div",{className:"forgot-password",children:u.jsx("a",{href:"#reset",className:"text-link",children:"Forgot your password?"})}),u.jsx("button",{type:"submit",className:`submit-button ${y?"loading":""}`,disabled:y,children:y?u.jsx("span",{className:"loader"}):e?"Sign In":"Create Account"})]}),u.jsx("button",{type:"button",className:"submit-button google-button",onClick:ae,disabled:y,style:{marginTop:"15px",background:"linear-gradient(45deg, var(--primary-color), var(--secondary-color))"},children:"Continue with Google"})]}),u.jsx("div",{className:"auth-footer",children:u.jsxs("p",{children:[e?"Don't have an account?":"Already have an account?",u.jsx("button",{type:"button",onClick:ce,className:"mode-switch",children:e?"Sign Up":"Sign In"})]})}),u.jsx("div",{className:"neural-decoration top-right"}),u.jsx("div",{className:"neural-decoration bottom-left"})]})]})},ZM="modulepreload",JM=function(i){return"/"+i},MT={},eP=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=Promise.allSettled(t.map(g=>{if(g=JM(g),g in MT)return;MT[g]=!0;const y=g.endsWith(".css"),T=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":ZM,y||(x.as="script"),x.crossOrigin="",x.href=g,m&&x.setAttribute("nonce",m),document.head.appendChild(x),y)return new Promise((R,O)=>{x.addEventListener("load",R),x.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&c(m.reason);return e().catch(c)})},tP=()=>(B.useEffect(()=>{eP(()=>import("./AccessibilityScripts-C7d4pvkK.js"),[]).then(i=>{i.default()})},[]),u.jsx("div",{children:u.jsx("h1",{children:"Accessibility Features"})}));function Nt({children:i}){const[e,t]=B.useState(!0),[r,o]=B.useState(!1),c=Ni();return B.useEffect(()=>{const d=rb(vb,m=>{o(!!m),t(!1)});return()=>d()},[]),e?u.jsx("div",{children:"Loading..."}):r?i:u.jsx(GT,{to:"/login",state:{from:c},replace:!0})}function nP(){return u.jsxs("div",{className:"about",children:[u.jsx(Mo,{}),u.jsxs("section",{className:"section",children:[u.jsx("h2",{children:"About MindEase"}),u.jsx("div",{className:"content-container",children:u.jsx("p",{className:"main-description",children:"MindEase is a digital platform designed to provide comprehensive support for individuals dealing with mental health conditions. Our mission is to make mental health care accessible, personalized, and stigma-free."})})]}),u.jsxs("section",{className:"section",children:[u.jsx("h2",{children:"Our Services"}),u.jsxs("div",{className:"content-container",children:[u.jsxs("div",{className:"card",children:[u.jsx("h3",{children:"Personalized Assessments"}),u.jsx("p",{children:"Take our evidence-based screening tools to receive insights tailored to your unique mental health profile."})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{children:"Resource Library"}),u.jsx("p",{children:"Access our extensive collection of articles, videos, and exercises created by mental health professionals."})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{children:"Guided Programs"}),u.jsx("p",{children:"Follow structured, self-paced programs designed to help you develop coping skills for anxiety, depression, and stress."})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{children:"Progress Tracking"}),u.jsx("p",{children:"Monitor your mental wellbeing over time with our intuitive tracking tools that help identify patterns and improvements."})]})]})]}),u.jsxs("section",{className:"section",children:[u.jsx("h2",{children:"Our Team"}),u.jsxs("div",{className:"content-container",children:[u.jsxs("div",{className:"card team-card",children:[u.jsx("img",{src:"/assets/images/person1.jpeg",alt:"Dr. Jane Mwangi"}),u.jsx("h3",{children:"Dr. Jane Mwangi"}),u.jsx("p",{children:"Clinical Psychologist & Founder"})]}),u.jsxs("div",{className:"card team-card",children:[u.jsx("img",{src:"/assets/images/person2.jpeg",alt:"Aaron Omondi"}),u.jsx("h3",{children:"Aaron Omondi"}),u.jsx("p",{children:"Chief Technology Officer"})]}),u.jsxs("div",{className:"card team-card",children:[u.jsx("img",{src:"/assets/images/person3.jpeg",alt:"Lilian Mueni"}),u.jsx("h3",{children:"Lilian Mueni"}),u.jsx("p",{children:"Head of Research"})]})]})]}),u.jsxs("section",{className:"section",children:[u.jsx("h2",{children:"Our Approach"}),u.jsx("div",{className:"content-container",children:u.jsxs("div",{className:"approach-content",children:[u.jsx("p",{children:"At MindEase, we combine cutting-edge technology with evidence-based psychological practices. Our platform uses advanced algorithms to provide recommendations specifically tailored to your needs, preferences, and progress."}),u.jsx("p",{children:"All content on MindEase is developed and reviewed by licensed mental health professionals to ensure accuracy and effectiveness. We regularly update our resources to reflect the latest research in psychology and mental health care."}),u.jsx("a",{href:"/screening",className:"cta-button",children:"Get Started Today"})]})})]}),u.jsx(Po,{})]})}function iP(){const i=Di(),e=t=>{switch(t){case"OCD Screening":i("/ocd-screening");break;case"ADHD Screening":i("/adhd-screening");break;case"Anxiety Screening":i("/anxiety-screening");break;case"Depression Screening":i("/depression-screening");break;case"Bipolar Disorder Screening":i("/bipolar-screening");break;case"PTSD Screening":i("/ptsd-screening");break;default:alert(`Starting ${t}...`)}};return u.jsxs("div",{className:"screening",children:[u.jsx(Mo,{}),u.jsxs("section",{className:"screening-intro",children:[u.jsx("h1",{children:"Screening Tools"}),u.jsx("p",{children:"Take a scientifically-validated assessment to better understand your mental health. Our tools are designed to help you identify potential conditions and connect you with the right resources. Early detection and understanding of mental health conditions can lead to more effective treatment and improved quality of life. Whether you're experiencing symptoms or simply want to learn more about your mental well-being, these assessments are a great first step toward gaining clarity and finding support."})]}),u.jsxs("section",{className:"screening-tests",children:[u.jsx("h2",{children:"Available Tests"}),u.jsxs("div",{className:"test-cards",children:[u.jsxs("div",{className:"test-card",children:[u.jsx("h3",{children:"OCD Screening"}),u.jsx("p",{children:"A quick assessment for Obsessive-Compulsive Disorder, designed to help you understand if you may be experiencing symptoms of OCD."}),u.jsx("button",{onClick:()=>e("OCD Screening"),children:"Start Test"})]}),u.jsxs("div",{className:"test-card",children:[u.jsx("h3",{children:"ADHD Screening"}),u.jsx("p",{children:"Evaluate symptoms of Attention-Deficit/Hyperactivity Disorder and determine if you may benefit from further evaluation."}),u.jsx("button",{onClick:()=>e("ADHD Screening"),children:"Start Test"})]}),u.jsxs("div",{className:"test-card",children:[u.jsx("h3",{children:"Anxiety Screening"}),u.jsx("p",{children:"Assess symptoms of Generalized Anxiety Disorder and gain insight into your anxiety levels."}),u.jsx("button",{onClick:()=>e("Anxiety Screening"),children:"Start Test"})]}),u.jsxs("div",{className:"test-card",children:[u.jsx("h3",{children:"Depression Screening"}),u.jsx("p",{children:"Identify symptoms of depression and determine if you may need professional support or treatment."}),u.jsx("button",{onClick:()=>e("Depression Screening"),children:"Start Test"})]}),u.jsxs("div",{className:"test-card",children:[u.jsx("h3",{children:"Bipolar Disorder Screening"}),u.jsx("p",{children:"Evaluate symptoms of Bipolar Disorder, including mood swings, energy levels, and behavior changes."}),u.jsx("button",{onClick:()=>e("Bipolar Disorder Screening"),children:"Start Test"})]}),u.jsxs("div",{className:"test-card",children:[u.jsx("h3",{children:"PTSD Screening"}),u.jsx("p",{children:"Assess symptoms of Post-Traumatic Stress Disorder and determine if you may need further evaluation or support."}),u.jsx("button",{onClick:()=>e("PTSD Screening"),children:"Start Test"})]})]})]}),u.jsx(Po,{})]})}function sP(){return u.jsxs("div",{className:"resources",children:[u.jsx(Mo,{}),u.jsxs("section",{className:"resources-intro",children:[u.jsx("h1",{children:"Resources"}),u.jsx("p",{children:"Explore a wide range of resources tailored to your mental health needs. From articles to therapy options, weve got you covered."})]}),u.jsxs("section",{className:"resource-categories",children:[u.jsx("h2",{children:"Categories"}),u.jsxs("div",{className:"category-cards",children:[u.jsxs("div",{className:"category-card",children:[u.jsx("h3",{children:"Articles"}),u.jsx("p",{children:"Read evidence-based articles on mental health."})]}),u.jsxs("div",{className:"category-card",children:[u.jsx("h3",{children:"Therapy Options"}),u.jsx("p",{children:"Find the right therapy for your needs."})]}),u.jsxs("div",{className:"category-card",children:[u.jsx("h3",{children:"Self-Help Tools"}),u.jsx("p",{children:"Access tools to manage your mental health."})]})]})]}),u.jsx(Po,{})]})}function rP(){return u.jsxs("div",{className:"community",children:[u.jsx(Mo,{}),u.jsxs("section",{className:"community-intro",children:[u.jsx("h1",{children:"Community Support"}),u.jsx("p",{children:"Join our moderated peer support groups to connect with others who understand what youre going through. Share experiences, ask questions, and find support."})]}),u.jsxs("section",{className:"community-groups",children:[u.jsx("h2",{children:"Featured Groups"}),u.jsxs("div",{className:"group-cards",children:[u.jsxs("div",{className:"group-card",children:[u.jsx("h3",{children:"OCD Support Group"}),u.jsx("p",{children:"A safe space for individuals with OCD."}),u.jsx("button",{children:"Join Group"})]}),u.jsxs("div",{className:"group-card",children:[u.jsx("h3",{children:"ADHD Support Group"}),u.jsx("p",{children:"Connect with others managing ADHD."}),u.jsx("button",{children:"Join Group"})]}),u.jsxs("div",{className:"group-card",children:[u.jsx("h3",{children:"Anxiety Support Group"}),u.jsx("p",{children:"Share and learn coping strategies."}),u.jsx("button",{children:"Join Group"})]}),u.jsxs("div",{className:"group-card",children:[u.jsx("h3",{children:"Depression Support Group"}),u.jsx("p",{children:"Find support and understanding for depression."}),u.jsx("button",{children:"Join Group"})]}),u.jsxs("div",{className:"group-card",children:[u.jsx("h3",{children:"Bipolar Support Group"}),u.jsx("p",{children:"Connect with others managing bipolar disorder."}),u.jsx("button",{children:"Join Group"})]}),u.jsxs("div",{className:"group-card",children:[u.jsx("h3",{children:"PTSD Support Group"}),u.jsx("p",{children:"A safe space for individuals dealing with PTSD."}),u.jsx("button",{children:"Join Group"})]})]})]}),u.jsx(Po,{})]})}function aP(){const[i,e]=B.useState({name:"",email:"",subject:"",message:""}),[t,r]=B.useState({submitted:!1,error:!1,message:""}),o=m=>{const{name:g,value:y}=m.target;e(T=>({...T,[g]:y}))},c=m=>{if(m.preventDefault(),!i.name||!i.email||!i.message){r({submitted:!1,error:!0,message:"Please fill in all required fields"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)){r({submitted:!1,error:!0,message:"Please enter a valid email address"});return}r({submitted:!0,error:!1,message:"Thank you for your message! We will get back to you soon."}),e({name:"",email:"",subject:"",message:""})},d=[{name:"Instagram",icon:"fa-instagram",url:"https://www.instagram.com/yourcompany",color:"#E1306C"},{name:"WhatsApp",icon:"fa-whatsapp",url:"https://wa.me/yourphonenumber",color:"#25D366"},{name:"X",icon:"fa-twitter",url:"https://x.com/yourcompany",color:"#000000"},{name:"Facebook",icon:"fa-facebook-f",url:"https://www.facebook.com/yourcompany",color:"#1877F2"},{name:"LinkedIn",icon:"fa-linkedin-in",url:"https://www.linkedin.com/company/yourcompany",color:"#0A66C2"},{name:"Telegram",icon:"fa-telegram-plane",url:"https://t.me/yourcompany",color:"#0088cc"}];return u.jsxs("div",{className:"contact",children:[u.jsx(Mo,{}),u.jsxs("section",{className:"contact-intro",children:[u.jsx("h1",{children:"Contact Us"}),u.jsx("p",{children:"Have questions or need support? Reach out to us! We're here to help you with any inquiries or feedback."})]}),u.jsxs("div",{className:"contact-container",children:[u.jsxs("section",{className:"contact-form",children:[u.jsx("h2",{children:"Send Us a Message"}),t.submitted?u.jsxs("div",{className:"form-success",children:[u.jsx("p",{children:t.message}),u.jsx("button",{onClick:()=>r({submitted:!1,error:!1,message:""}),children:"Send another message"})]}):u.jsxs("form",{onSubmit:c,children:[t.error&&u.jsx("div",{className:"form-error",children:t.message}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"text",name:"name",placeholder:"Your Name *",value:i.name,onChange:o,required:!0})}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"email",name:"email",placeholder:"Your Email *",value:i.email,onChange:o,required:!0})}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"text",name:"subject",placeholder:"Subject",value:i.subject,onChange:o})}),u.jsx("div",{className:"form-group",children:u.jsx("textarea",{name:"message",placeholder:"Your Message *",value:i.message,onChange:o,required:!0})}),u.jsx("button",{type:"submit",children:"Send Message"})]})]}),u.jsxs("section",{className:"contact-info",children:[u.jsx("h2",{children:"Get in Touch"}),u.jsxs("div",{className:"info-item",children:[u.jsx("i",{className:"fas fa-map-marker-alt"}),u.jsxs("div",{children:[u.jsx("h3",{children:"Our Address"}),u.jsx("p",{children:"123 Business Avenue, Suite 100, Nairobi, Kenya"})]})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("i",{className:"fas fa-phone-alt"}),u.jsxs("div",{children:[u.jsx("h3",{children:"Phone Number"}),u.jsx("p",{children:"+254794846559"})]})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("i",{className:"fas fa-envelope"}),u.jsxs("div",{children:[u.jsx("h3",{children:"Email Address"}),u.jsx("p",{children:"eunicenzilani881@.com"})]})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("i",{className:"fas fa-clock"}),u.jsxs("div",{children:[u.jsx("h3",{children:"Business Hours"}),u.jsx("p",{children:"Monday - Friday: 9am - 5pm"})]})]})]})]}),u.jsxs("section",{className:"social-links",children:[u.jsx("h2",{children:"Connect With Us"}),u.jsx("p",{children:"Follow us on social media to stay updated with our latest news and announcements."}),u.jsx("div",{className:"social-icons",children:d.map((m,g)=>u.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"social-icon","aria-label":m.name,children:u.jsx("i",{className:`fab ${m.icon}`})},g))})]}),u.jsx(Po,{})]})}const oP=()=>u.jsxs("div",{className:"ocd-page",children:[u.jsxs("header",{className:"ocd-header",children:[u.jsx("div",{className:"logo",children:"OCD"})," ",u.jsx("nav",{className:"ocd-navbar",children:u.jsxs("ul",{className:"ocd-nav-links",children:[u.jsx("li",{children:u.jsxs("a",{href:"/",children:[u.jsx("span",{role:"img","aria-label":"Home",children:""})," Home"]})}),u.jsx("li",{children:u.jsxs("a",{href:"/about-ocd",children:[u.jsx("span",{role:"img","aria-label":"About OCD",children:""})," About OCD"]})}),u.jsx("li",{children:u.jsxs("a",{href:"/screening",children:[u.jsx("span",{role:"img","aria-label":"Screening Tools",children:""})," Screening Tools"]})}),u.jsx("li",{children:u.jsxs("a",{href:"/resources",children:[u.jsx("span",{role:"img","aria-label":"Resources",children:""})," Resources"]})}),u.jsx("li",{children:u.jsxs("a",{href:"/community",children:[u.jsx("span",{role:"img","aria-label":"Community",children:""})," Community"]})})]})}),u.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),u.jsx("h1",{children:"Obsessive-Compulsive Disorder (OCD)"}),u.jsx("div",{className:"ocd-image-container",children:u.jsx("img",{src:"/assets/images/OCD1.png",alt:"OCD Illustration",className:"ocd-image"})}),u.jsx("h2",{children:"Overview"}),u.jsx("p",{children:"Obsessive-compulsive disorder (OCD) features a pattern of unwanted thoughts and fears known as obsessions. These obsessions lead you to do repetitive behaviors, also called compulsions. These obsessions and compulsions get in the way of daily activities and cause a lot of distress."}),u.jsx("p",{children:"Ultimately, you feel driven to do compulsive acts to ease your stress. Even if you try to ignore or get rid of bothersome thoughts or urges, they keep coming back. This leads you to act based on ritual. This is the vicious cycle of OCD."}),u.jsx("p",{children:"OCD often centers around certain themes, such as being overly fearful of getting contaminated by germs. To ease contamination fears, you may wash your hands over and over again until they're sore and chapped."}),u.jsx("p",{children:"If you have OCD, you may be ashamed, embarrassed, and frustrated about the condition. But treatment can be effective."}),u.jsx("h2",{children:"Symptoms"}),u.jsx("p",{children:"Obsessive-compulsive disorder usually includes both obsessions and compulsions. But it's also possible to have only obsession symptoms or only compulsion symptoms. You may or may not know that your obsessions and compulsions are beyond reason. But they take up a great deal of time, reduce your quality of life, and get in the way of your daily routines and responsibilities."}),u.jsx("h3",{children:"Obsession Symptoms"}),u.jsx("p",{children:"OCD obsessions are lasting and unwanted thoughts that keep coming back or urges or images that are intrusive and cause distress or anxiety. You might try to ignore them or get rid of them by acting based on ritual. These obsessions usually intrude when you're trying to think of or do other things."}),u.jsx("p",{children:"Obsessions often have themes, such as:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Fear of contamination or dirt."}),u.jsx("li",{children:"Doubting and having a hard time dealing with uncertainty."}),u.jsx("li",{children:"Needing things to be orderly and balanced."}),u.jsx("li",{children:"Aggressive or horrific thoughts about losing control and harming yourself or others."}),u.jsx("li",{children:"Unwanted thoughts, including aggression, or sexual or religious subjects."})]}),u.jsx("h3",{children:"Compulsion Symptoms"}),u.jsx("p",{children:"OCD compulsions are repetitive behaviors that you feel driven to do. These repetitive behaviors or mental acts are meant to reduce anxiety related to your obsessions or prevent something bad from happening. But taking part in the compulsions brings no pleasure and may offer only limited relief from anxiety."}),u.jsx("p",{children:"Common compulsion themes include:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Washing and cleaning."}),u.jsx("li",{children:"Checking."}),u.jsx("li",{children:"Counting."}),u.jsx("li",{children:"Ordering."}),u.jsx("li",{children:"Following a strict routine."}),u.jsx("li",{children:"Demanding reassurance."})]}),u.jsx("h2",{children:"Severity Varies"}),u.jsx("p",{children:"OCD usually begins in the teen or young adult years, but it can start in childhood. Symptoms usually begin over time and tend to vary in how serious they are throughout life. The types of obsessions and compulsions you have also can change over time. Symptoms generally get worse when you are under greater stress, including times of transition and change. OCD, usually thought to be a lifelong disorder, can have mild to moderate symptoms or be so severe and time-consuming that it becomes disabling."}),u.jsx("h2",{children:"When to See a Doctor"}),u.jsx("p",{children:"There's a difference between being a perfectionist  someone who needs flawless results or performance  and having OCD. OCD thoughts aren't simply excessive worries about real issues in your life or liking to have things clean or arranged in a specific way."}),u.jsx("p",{children:"If your obsessions and compulsions affect your quality of life, see your doctor or mental health professional."})]}),lP=()=>u.jsxs("div",{className:"adhd-page",children:[u.jsxs("header",{className:"adhd-header",children:[u.jsx("div",{className:"logo",children:"ADHD"})," ",u.jsx("nav",{className:"adhd-navbar",children:u.jsxs("ul",{className:"adhd-nav-links",children:[u.jsx("li",{children:u.jsxs(Ze,{to:"/",children:[u.jsx("span",{role:"img","aria-label":"Home",children:""})," Home"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#overview",children:[u.jsx("span",{role:"img","aria-label":"Overview",children:""})," Overview"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#signs-and-symptoms",children:[u.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:""})," Signs and Symptoms"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#causes",children:[u.jsx("span",{role:"img","aria-label":"Causes",children:""})," Causes"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#diagnosis-and-tests",children:[u.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:""})," Diagnosis and Tests"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#management-and-treatment",children:[u.jsx("span",{role:"img","aria-label":"Management and Treatment",children:""})," Management and Treatment"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#prevention",children:[u.jsx("span",{role:"img","aria-label":"Prevention",children:""})," Prevention"]})})]})}),u.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),u.jsxs("div",{className:"adhd-content",children:[u.jsx("h1",{children:"Attention-Deficit/Hyperactivity Disorder (ADHD)"}),u.jsx("div",{className:"ADHD-image-container",children:u.jsx("img",{src:"/assets/images/ADHD1.jpeg",alt:"OCD Illustration",className:"adhd-image"})}),u.jsxs("section",{id:"overview",className:"section",children:[u.jsx("h2",{children:"Overview"}),u.jsx("p",{children:"Attention-deficit/hyperactivity disorder (ADHD) is one of the most common childhood neurodevelopmental disorders. Children with ADHD often have difficulty with inattention, hyperactivity, and impulsivity. Kids usually receive a diagnosis during childhood, and the condition often lasts into adulthood. However, effective treatment is available."}),u.jsx("p",{children:"ADHD is a long-term (chronic) brain condition that causes executive dysfunction, which means it disrupts a persons ability to manage their own emotions, thoughts, and actions. ADHD makes it difficult for people to:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Manage their behavior."}),u.jsx("li",{children:"Pay attention."}),u.jsx("li",{children:"Control overactivity."}),u.jsx("li",{children:"Regulate their mood."}),u.jsx("li",{children:"Stay organized."}),u.jsx("li",{children:"Concentrate."}),u.jsx("li",{children:"Follow directions."}),u.jsx("li",{children:"Sit still."})]}),u.jsx("p",{children:"Kids usually receive a diagnosis during childhood, and the condition often lasts into adulthood. However, effective treatment is available. If untreated, ADHD can cause serious, lifelong complications."})]}),u.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[u.jsx("h2",{children:"Signs and Symptoms"}),u.jsx("p",{children:"ADHD symptoms can vary depending on the type of ADHD. The three main types are:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Inattentive Type:"})," Difficulty paying attention, staying organized, and following instructions."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Hyperactive-Impulsive Type:"})," Excessive fidgeting, talking, and impulsive behavior."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Combined Type:"})," A mix of inattentive and hyperactive-impulsive symptoms."]})]}),u.jsx("p",{children:"According to the DSM-5-TR, a child with inattentive presentation must display at least six of the following behaviors:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Trouble paying attention to details or making careless mistakes."}),u.jsx("li",{children:"Issues remaining focused on tasks and activities."}),u.jsx("li",{children:"Difficulty listening well, daydreaming, or seeming distracted."}),u.jsx("li",{children:"Trouble with following instructions and/or finishing tasks."}),u.jsx("li",{children:"Difficulty with organizing tasks and activities."}),u.jsx("li",{children:"Avoiding or disliking tasks that require continuous mental effort."}),u.jsx("li",{children:"Losing things frequently."}),u.jsx("li",{children:"Easily distracted by outside stimuli."}),u.jsx("li",{children:"Forgetful in daily activities."})]})]}),u.jsxs("section",{id:"causes",className:"section",children:[u.jsx("h2",{children:"Causes"}),u.jsx("p",{children:"The exact cause of ADHD is unknown, but research suggests that genetics, brain structure, and environmental factors may play a role. Risk factors include:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Genetics: ADHD often runs in families."}),u.jsx("li",{children:"Brain anatomy: Differences in brain structure and activity."}),u.jsx("li",{children:"Environmental factors: Lead exposure, premature birth, low birth weight, and substance use during pregnancy."})]}),u.jsxs("p",{children:["The following are ",u.jsx("strong",{children:"not"})," causes of ADHD:"]}),u.jsxs("ul",{children:[u.jsx("li",{children:"Allergies."}),u.jsx("li",{children:"Immunizations."}),u.jsx("li",{children:"Eating too much sugar."}),u.jsx("li",{children:"Too much time staring at screens."}),u.jsx("li",{children:"Poor parenting."}),u.jsx("li",{children:"Social and environmental factors such as poverty."})]})]}),u.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[u.jsx("h2",{children:"Diagnosis and Tests"}),u.jsx("p",{children:"ADHD is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for ADHD, but healthcare providers may use:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Questionnaires and interviews."}),u.jsx("li",{children:"Observations in multiple settings (home, school)."}),u.jsx("li",{children:"Guidelines from the DSM-5-TR."})]}),u.jsx("p",{children:"Symptoms must:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Occur in two or more settings (e.g., home and school)."}),u.jsx("li",{children:"Considerably impair daily functioning."}),u.jsx("li",{children:"Have started before the age of 12."}),u.jsx("li",{children:"Have persisted for at least six months."})]})]}),u.jsxs("section",{id:"management-and-treatment",className:"section",children:[u.jsx("h2",{children:"Management and Treatment"}),u.jsx("p",{children:"Treatment for ADHD typically involves a combination of:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Medication:"})," Stimulants (e.g., Adderall, Ritalin) and non-stimulants (e.g., Strattera)."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Behavioral Therapy:"})," Parent training, social skills training, and executive function training."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Lifestyle Changes:"})," Healthy diet, regular exercise, and structured routines."]})]}),u.jsx("p",{children:"The goal of treatment is to improve symptoms and help individuals function more effectively in daily life."})]}),u.jsxs("section",{id:"prevention",className:"section",children:[u.jsx("h2",{children:"Prevention"}),u.jsx("p",{children:"While ADHD cannot be prevented, early diagnosis and treatment can help manage symptoms and improve quality of life. Avoiding exposure to toxins during pregnancy and providing a structured environment for children may also reduce the risk."})]})]})]}),cP=()=>u.jsxs("div",{className:"depression-page",children:[u.jsxs("header",{className:"depression-header",children:[u.jsx("div",{className:"logo",children:"Depression"})," ",u.jsx("nav",{className:"depression-navbar",children:u.jsxs("ul",{className:"depression-nav-links",children:[u.jsx("li",{children:u.jsxs(Ze,{to:"/",children:[u.jsx("span",{role:"img","aria-label":"Home",children:""})," Home"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#overview",children:[u.jsx("span",{role:"img","aria-label":"Overview",children:""})," Overview"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#signs-and-symptoms",children:[u.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:""})," Signs and Symptoms"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#causes",children:[u.jsx("span",{role:"img","aria-label":"Causes",children:""})," Causes"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#diagnosis-and-tests",children:[u.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:""})," Diagnosis and Tests"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#management-and-treatment",children:[u.jsx("span",{role:"img","aria-label":"Management and Treatment",children:""})," Management and Treatment"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#prevention",children:[u.jsx("span",{role:"img","aria-label":"Prevention",children:""})," Prevention"]})})]})}),u.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),u.jsxs("div",{className:"depression-content",children:[u.jsx("h1",{children:"Depression"}),u.jsx("div",{className:"depression-image-container",children:u.jsx("img",{src:"/assets/images/Depression1.png",alt:"Depression Illustration",className:"depression-image"})}),u.jsxs("section",{id:"overview",className:"section",children:[u.jsx("h2",{children:"Overview"}),u.jsx("p",{children:"Depression (major depressive disorder) is a common and serious medical illness that negatively affects how you feel, the way you think, and how you act. It causes feelings of sadness and/or a loss of interest in activities once enjoyed. It can lead to a variety of emotional and physical problems and can decrease a persons ability to function at work and at home."}),u.jsx("p",{children:"Depression symptoms can vary from mild to severe and can include:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Feeling sad or having a depressed mood."}),u.jsx("li",{children:"Loss of interest or pleasure in activities once enjoyed."}),u.jsx("li",{children:"Changes in appetite  weight loss or gain unrelated to dieting."}),u.jsx("li",{children:"Trouble sleeping or sleeping too much."}),u.jsx("li",{children:"Loss of energy or increased fatigue."}),u.jsx("li",{children:"Increase in purposeless physical activity (e.g., inability to sit still, pacing, handwringing) or slowed movements or speech."}),u.jsx("li",{children:"Feeling worthless or guilty."}),u.jsx("li",{children:"Difficulty thinking, concentrating, or making decisions."}),u.jsx("li",{children:"Thoughts of death or suicide."})]}),u.jsx("p",{children:"Depression is a treatable condition, and most people see improvement with medication, therapy, or a combination of both."})]}),u.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[u.jsx("h2",{children:"Signs and Symptoms"}),u.jsx("p",{children:"Depression symptoms can vary depending on the severity of the condition. Common signs and symptoms include:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Emotional Symptoms:"})," Persistent sadness, hopelessness, irritability, or feelings of emptiness."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Physical Symptoms:"})," Fatigue, changes in appetite, sleep disturbances, and unexplained aches or pains."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Cognitive Symptoms:"})," Difficulty concentrating, making decisions, or remembering details."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Behavioral Symptoms:"})," Withdrawal from social activities, loss of interest in hobbies, or neglect of responsibilities."]})]}),u.jsx("p",{children:"Symptoms must last at least two weeks and represent a change in your previous level of functioning for a diagnosis of depression."})]}),u.jsxs("section",{id:"causes",className:"section",children:[u.jsx("h2",{children:"Causes"}),u.jsx("p",{children:"The exact cause of depression is not fully understood, but it is believed to result from a combination of genetic, biological, environmental, and psychological factors. Risk factors include:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Genetics:"})," A family history of depression may increase the risk."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Brain Chemistry:"})," Imbalances in neurotransmitters like serotonin and dopamine."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Hormonal Changes:"})," Changes in hormone levels due to pregnancy, menopause, or thyroid problems."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Environmental Factors:"})," Trauma, loss of a loved one, or stressful life events."]})]}),u.jsxs("p",{children:["The following are ",u.jsx("strong",{children:"not"})," causes of depression:"]}),u.jsxs("ul",{children:[u.jsx("li",{children:"Personal weakness or character flaws."}),u.jsx("li",{children:'Simply feeling "down" or "blue."'}),u.jsx("li",{children:"A lack of willpower."})]})]}),u.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[u.jsx("h2",{children:"Diagnosis and Tests"}),u.jsx("p",{children:"Depression is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for depression, but healthcare providers may use:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Questionnaires and interviews."}),u.jsx("li",{children:"Physical exams to rule out other conditions."}),u.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),u.jsx("p",{children:"Symptoms must:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Persist for at least two weeks."}),u.jsx("li",{children:"Significantly impair daily functioning."}),u.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),u.jsxs("section",{id:"management-and-treatment",className:"section",children:[u.jsx("h2",{children:"Management and Treatment"}),u.jsx("p",{children:"Treatment for depression typically involves a combination of:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Medication:"})," Antidepressants (e.g., SSRIs, SNRIs) to help balance brain chemistry."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), interpersonal therapy (IPT), or other forms of counseling."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Lifestyle Changes:"})," Regular exercise, a healthy diet, and stress management techniques."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Support Groups:"})," Connecting with others who have similar experiences."]})]}),u.jsx("p",{children:"The goal of treatment is to reduce symptoms, improve quality of life, and prevent recurrence."})]}),u.jsxs("section",{id:"prevention",className:"section",children:[u.jsx("h2",{children:"Prevention"}),u.jsx("p",{children:"While depression cannot always be prevented, certain strategies may reduce the risk or severity of episodes:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Maintaining a strong support network."}),u.jsx("li",{children:"Engaging in regular physical activity."}),u.jsx("li",{children:"Practicing stress-reduction techniques like mindfulness or meditation."}),u.jsx("li",{children:"Seeking help early if symptoms arise."})]})]})]})]}),uP=()=>u.jsxs("div",{className:"anxiety-page",children:[u.jsxs("header",{className:"anxiety-header",children:[u.jsx("div",{className:"logo",children:"Anxiety"})," ",u.jsx("nav",{className:"anxiety-navbar",children:u.jsxs("ul",{className:"anxiety-nav-links",children:[u.jsx("li",{children:u.jsxs(Ze,{to:"/",children:[u.jsx("span",{role:"img","aria-label":"Home",children:""})," Home"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#overview",children:[u.jsx("span",{role:"img","aria-label":"Overview",children:""})," Overview"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#signs-and-symptoms",children:[u.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:""})," Signs and Symptoms"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#causes",children:[u.jsx("span",{role:"img","aria-label":"Causes",children:""})," Causes"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#diagnosis-and-tests",children:[u.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:""})," Diagnosis and Tests"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#management-and-treatment",children:[u.jsx("span",{role:"img","aria-label":"Management and Treatment",children:""})," Management and Treatment"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#prevention",children:[u.jsx("span",{role:"img","aria-label":"Prevention",children:""})," Prevention"]})})]})}),u.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),u.jsxs("div",{className:"anxiety-content",children:[u.jsx("h1",{children:"Anxiety Disorders"}),u.jsx("div",{className:"anxiety-image-container",children:u.jsx("img",{src:"/assets/images/Anxiety1.jpeg",alt:"Anxiety Illustration",className:"anxiety-image"})}),u.jsxs("section",{id:"overview",className:"section",children:[u.jsx("h2",{children:"Overview"}),u.jsx("p",{children:"Anxiety disorders are a group of mental health conditions characterized by excessive fear, worry, or nervousness. These feelings can interfere with daily activities and are often difficult to control. Anxiety disorders include generalized anxiety disorder (GAD), panic disorder, social anxiety disorder, and specific phobias."}),u.jsx("p",{children:"Anxiety is a normal response to stress, but when it becomes chronic or overwhelming, it can significantly impact a person's quality of life. Common symptoms include:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Excessive worry or fear."}),u.jsx("li",{children:"Restlessness or feeling on edge."}),u.jsx("li",{children:"Fatigue."}),u.jsx("li",{children:"Difficulty concentrating."}),u.jsx("li",{children:"Irritability."}),u.jsx("li",{children:"Muscle tension."}),u.jsx("li",{children:"Sleep disturbances."})]}),u.jsx("p",{children:"Anxiety disorders are highly treatable, and most people see improvement with therapy, medication, or a combination of both."})]}),u.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[u.jsx("h2",{children:"Signs and Symptoms"}),u.jsx("p",{children:"Symptoms of anxiety disorders can vary depending on the specific type of disorder. Common signs and symptoms include:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Physical Symptoms:"})," Rapid heartbeat, sweating, trembling, shortness of breath, or dizziness."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Emotional Symptoms:"})," Feelings of dread, panic, or unease."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Cognitive Symptoms:"})," Difficulty concentrating, racing thoughts, or constant worry."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Behavioral Symptoms:"})," Avoidance of certain situations or activities."]})]}),u.jsx("p",{children:"Symptoms must persist for at least six months and significantly impair daily functioning for a diagnosis of an anxiety disorder."})]}),u.jsxs("section",{id:"causes",className:"section",children:[u.jsx("h2",{children:"Causes"}),u.jsx("p",{children:"The exact cause of anxiety disorders is not fully understood, but they are believed to result from a combination of genetic, environmental, and psychological factors. Risk factors include:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Genetics:"})," A family history of anxiety disorders may increase the risk."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Brain Chemistry:"})," Imbalances in neurotransmitters like serotonin and dopamine."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Environmental Factors:"})," Trauma, stress, or significant life changes."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Personality:"})," Certain personality traits, such as shyness or perfectionism."]})]}),u.jsxs("p",{children:["The following are ",u.jsx("strong",{children:"not"})," causes of anxiety disorders:"]}),u.jsxs("ul",{children:[u.jsx("li",{children:"Personal weakness or character flaws."}),u.jsx("li",{children:'Simply feeling "nervous" or "stressed."'}),u.jsx("li",{children:"A lack of willpower."})]})]}),u.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[u.jsx("h2",{children:"Diagnosis and Tests"}),u.jsx("p",{children:"Anxiety disorders are diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for anxiety, but healthcare providers may use:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Questionnaires and interviews."}),u.jsx("li",{children:"Physical exams to rule out other conditions."}),u.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),u.jsx("p",{children:"Symptoms must:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Persist for at least six months."}),u.jsx("li",{children:"Significantly impair daily functioning."}),u.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),u.jsxs("section",{id:"management-and-treatment",className:"section",children:[u.jsx("h2",{children:"Management and Treatment"}),u.jsx("p",{children:"Treatment for anxiety disorders typically involves a combination of:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Medication:"})," Antidepressants, anti-anxiety medications, or beta-blockers."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), exposure therapy, or other forms of counseling."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Lifestyle Changes:"})," Regular exercise, a healthy diet, and stress management techniques."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Support Groups:"})," Connecting with others who have similar experiences."]})]}),u.jsx("p",{children:"The goal of treatment is to reduce symptoms, improve quality of life, and prevent recurrence."})]}),u.jsxs("section",{id:"prevention",className:"section",children:[u.jsx("h2",{children:"Prevention"}),u.jsx("p",{children:"While anxiety disorders cannot always be prevented, certain strategies may reduce the risk or severity of episodes:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Maintaining a strong support network."}),u.jsx("li",{children:"Engaging in regular physical activity."}),u.jsx("li",{children:"Practicing stress-reduction techniques like mindfulness or meditation."}),u.jsx("li",{children:"Seeking help early if symptoms arise."})]})]})]})]}),hP=()=>u.jsxs("div",{className:"bipolar-page",children:[u.jsxs("header",{className:"bipolar-header",children:[u.jsx("div",{className:"logo",children:"Bipolar"})," ",u.jsx("nav",{className:"bipolar-navbar",children:u.jsxs("ul",{className:"bipolar-nav-links",children:[u.jsx("li",{children:u.jsxs(Ze,{to:"/",children:[u.jsx("span",{role:"img","aria-label":"Home",children:""})," Home"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#overview",children:[u.jsx("span",{role:"img","aria-label":"Overview",children:""})," Overview"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#signs-and-symptoms",children:[u.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:""})," Signs and Symptoms"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#causes",children:[u.jsx("span",{role:"img","aria-label":"Causes",children:""})," Causes"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#diagnosis-and-tests",children:[u.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:""})," Diagnosis and Tests"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#management-and-treatment",children:[u.jsx("span",{role:"img","aria-label":"Management and Treatment",children:""})," Management and Treatment"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#prevention",children:[u.jsx("span",{role:"img","aria-label":"Prevention",children:""})," Prevention"]})})]})}),u.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),u.jsxs("div",{className:"bipolar-content",children:[u.jsx("h1",{children:"Bipolar Disorder"}),u.jsx("div",{className:"bipolar-image-container",children:u.jsx("img",{src:"/assets/images/bipolar1.jpeg",alt:"Bipolar Disorder Illustration",className:"bipolar-image"})}),u.jsxs("section",{id:"overview",className:"section",children:[u.jsx("h2",{children:"Overview"}),u.jsx("p",{children:"Bipolar disorder, formerly known as manic-depressive illness, is a mental health condition characterized by extreme mood swings that include emotional highs (mania or hypomania) and lows (depression). These mood swings can affect sleep, energy, activity, judgment, behavior, and the ability to think clearly."}),u.jsx("p",{children:"Bipolar disorder is a chronic condition that requires lifelong management. It is typically diagnosed in late adolescence or early adulthood, but symptoms can appear at any age. Common symptoms include:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Episodes of mania or hypomania (elevated mood, increased energy)."}),u.jsx("li",{children:"Episodes of depression (sadness, hopelessness, loss of interest)."}),u.jsx("li",{children:"Mood swings that disrupt daily life."}),u.jsx("li",{children:"Difficulty maintaining relationships or performing at work or school."})]}),u.jsx("p",{children:"Bipolar disorder is treatable, and most people can manage their symptoms with medication, therapy, and lifestyle changes."})]}),u.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[u.jsx("h2",{children:"Signs and Symptoms"}),u.jsx("p",{children:"Symptoms of bipolar disorder vary depending on the type of episode (manic, hypomanic, or depressive). Common signs and symptoms include:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Manic Episode:"})," Elevated mood, increased energy, reduced need for sleep, racing thoughts, impulsive behavior."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Hypomanic Episode:"})," Similar to manic episodes but less severe and not as disruptive."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Depressive Episode:"})," Persistent sadness, fatigue, loss of interest, feelings of worthlessness, difficulty concentrating."]})]}),u.jsx("p",{children:"Symptoms must persist for a specific duration and significantly impair daily functioning for a diagnosis of bipolar disorder."})]}),u.jsxs("section",{id:"causes",className:"section",children:[u.jsx("h2",{children:"Causes"}),u.jsx("p",{children:"The exact cause of bipolar disorder is not fully understood, but it is believed to result from a combination of genetic, biological, and environmental factors. Risk factors include:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Genetics:"})," A family history of bipolar disorder or other mood disorders."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Brain Structure and Function:"})," Differences in brain chemistry and structure."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Environmental Factors:"})," Stress, trauma, or significant life changes."]})]}),u.jsxs("p",{children:["The following are ",u.jsx("strong",{children:"not"})," causes of bipolar disorder:"]}),u.jsxs("ul",{children:[u.jsx("li",{children:"Personal weakness or character flaws."}),u.jsx("li",{children:'Simply being "moody" or "emotional."'}),u.jsx("li",{children:"A lack of willpower."})]})]}),u.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[u.jsx("h2",{children:"Diagnosis and Tests"}),u.jsx("p",{children:"Bipolar disorder is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for bipolar disorder, but healthcare providers may use:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Questionnaires and interviews."}),u.jsx("li",{children:"Mood charting to track mood swings over time."}),u.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),u.jsx("p",{children:"Symptoms must:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Persist for a specific duration (e.g., at least one week for mania)."}),u.jsx("li",{children:"Significantly impair daily functioning."}),u.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),u.jsxs("section",{id:"management-and-treatment",className:"section",children:[u.jsx("h2",{children:"Management and Treatment"}),u.jsx("p",{children:"Treatment for bipolar disorder typically involves a combination of:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Medication:"})," Mood stabilizers, antipsychotics, or antidepressants."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), family-focused therapy, or psychoeducation."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Lifestyle Changes:"})," Regular sleep patterns, stress management, and avoiding triggers."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Support Groups:"})," Connecting with others who have similar experiences."]})]}),u.jsx("p",{children:"The goal of treatment is to stabilize mood, reduce symptoms, and improve quality of life."})]}),u.jsxs("section",{id:"prevention",className:"section",children:[u.jsx("h2",{children:"Prevention"}),u.jsx("p",{children:"While bipolar disorder cannot always be prevented, certain strategies may reduce the risk or severity of episodes:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Seeking early treatment if symptoms arise."}),u.jsx("li",{children:"Maintaining a stable routine and sleep schedule."}),u.jsx("li",{children:"Avoiding alcohol and recreational drugs."}),u.jsx("li",{children:"Building a strong support network."})]})]})]})]}),dP=()=>u.jsxs("div",{className:"ptsd-page",children:[u.jsxs("header",{className:"ptsd-header",children:[u.jsx("div",{className:"logo",children:"PTSD"})," ",u.jsx("nav",{className:"ptsd-navbar",children:u.jsxs("ul",{className:"ptsd-nav-links",children:[u.jsx("li",{children:u.jsxs(Ze,{to:"/",children:[u.jsx("span",{role:"img","aria-label":"Home",children:""})," Home"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#overview",children:[u.jsx("span",{role:"img","aria-label":"Overview",children:""})," Overview"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#signs-and-symptoms",children:[u.jsx("span",{role:"img","aria-label":"Signs and Symptoms",children:""})," Signs and Symptoms"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#causes",children:[u.jsx("span",{role:"img","aria-label":"Causes",children:""})," Causes"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#diagnosis-and-tests",children:[u.jsx("span",{role:"img","aria-label":"Diagnosis and Tests",children:""})," Diagnosis and Tests"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#management-and-treatment",children:[u.jsx("span",{role:"img","aria-label":"Management and Treatment",children:""})," Management and Treatment"]})}),u.jsx("li",{children:u.jsxs("a",{href:"#prevention",children:[u.jsx("span",{role:"img","aria-label":"Prevention",children:""})," Prevention"]})})]})}),u.jsx("button",{className:"login-button",children:"Login/Signup"})," "]}),u.jsxs("div",{className:"ptsd-content",children:[u.jsx("h1",{children:"Post-Traumatic Stress Disorder (PTSD)"}),u.jsx("div",{className:"ptsd-image-container",children:u.jsx("img",{src:"/assets/images/ptsd1.jpeg",alt:"PTSD Illustration",className:"ptsd-image"})}),u.jsxs("section",{id:"overview",className:"section",children:[u.jsx("h2",{children:"Overview"}),u.jsx("p",{children:"Post-Traumatic Stress Disorder (PTSD) is a mental health condition that can develop after experiencing or witnessing a traumatic event. Such events may include natural disasters, serious accidents, terrorist acts, war/combat, rape, or other violent personal assaults."}),u.jsx("p",{children:"PTSD can affect anyone, regardless of age, gender, or background. Symptoms can be severe and long-lasting, interfering with daily life and relationships. Common symptoms include:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Flashbacks or reliving the traumatic event."}),u.jsx("li",{children:"Nightmares or severe anxiety."}),u.jsx("li",{children:"Uncontrollable thoughts about the event."}),u.jsx("li",{children:"Avoidance of places, activities, or people that remind you of the trauma."}),u.jsx("li",{children:"Negative changes in mood and thinking."}),u.jsx("li",{children:"Hyperarousal (feeling on edge, being easily startled)."})]}),u.jsx("p",{children:"PTSD is treatable, and many people recover with proper treatment and support."})]}),u.jsxs("section",{id:"signs-and-symptoms",className:"section",children:[u.jsx("h2",{children:"Signs and Symptoms"}),u.jsx("p",{children:"Symptoms of PTSD are generally grouped into four types: intrusive memories, avoidance, negative changes in thinking and mood, and changes in physical and emotional reactions. Common signs and symptoms include:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Intrusive Memories:"})," Flashbacks, nightmares, or distressing memories of the event."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Avoidance:"})," Avoiding places, activities, or people that remind you of the trauma."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Negative Changes in Thinking and Mood:"})," Feelings of hopelessness, memory problems, or detachment from loved ones."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Changes in Physical and Emotional Reactions:"})," Being easily startled, feeling tense, or having angry outbursts."]})]}),u.jsx("p",{children:"Symptoms must persist for more than a month and significantly impair daily functioning for a diagnosis of PTSD."})]}),u.jsxs("section",{id:"causes",className:"section",children:[u.jsx("h2",{children:"Causes"}),u.jsx("p",{children:"PTSD is caused by experiencing or witnessing a traumatic event. However, not everyone who experiences trauma develops PTSD. Risk factors include:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Intensity of the Trauma:"})," The more severe and prolonged the trauma, the higher the risk."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Personal History:"})," A history of mental health issues or previous trauma."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Lack of Support:"})," Limited social support after the event."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Biological Factors:"})," Genetics or brain chemistry may play a role."]})]}),u.jsxs("p",{children:["The following are ",u.jsx("strong",{children:"not"})," causes of PTSD:"]}),u.jsxs("ul",{children:[u.jsx("li",{children:"Personal weakness or character flaws."}),u.jsx("li",{children:'Simply feeling "stressed" or "anxious."'}),u.jsx("li",{children:"A lack of willpower."})]})]}),u.jsxs("section",{id:"diagnosis-and-tests",className:"section",children:[u.jsx("h2",{children:"Diagnosis and Tests"}),u.jsx("p",{children:"PTSD is diagnosed based on a thorough evaluation of symptoms, medical history, and behavior. There is no single test for PTSD, but healthcare providers may use:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Questionnaires and interviews."}),u.jsx("li",{children:"Psychological evaluations."}),u.jsx("li",{children:"Guidelines from the DSM-5 (Diagnostic and Statistical Manual of Mental Disorders)."})]}),u.jsx("p",{children:"Symptoms must:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Persist for more than a month."}),u.jsx("li",{children:"Significantly impair daily functioning."}),u.jsx("li",{children:"Not be attributable to substance use or another medical condition."})]})]}),u.jsxs("section",{id:"management-and-treatment",className:"section",children:[u.jsx("h2",{children:"Management and Treatment"}),u.jsx("p",{children:"Treatment for PTSD typically involves a combination of:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Psychotherapy:"})," Cognitive-behavioral therapy (CBT), eye movement desensitization and reprocessing (EMDR), or exposure therapy."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Medication:"})," Antidepressants, anti-anxiety medications, or sleep aids."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Lifestyle Changes:"})," Regular exercise, stress management, and building a strong support network."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Support Groups:"})," Connecting with others who have experienced similar traumas."]})]}),u.jsx("p",{children:"The goal of treatment is to reduce symptoms, improve quality of life, and help individuals regain a sense of control."})]}),u.jsxs("section",{id:"prevention",className:"section",children:[u.jsx("h2",{children:"Prevention"}),u.jsx("p",{children:"While PTSD cannot always be prevented, certain strategies may reduce the risk or severity of symptoms:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Seeking immediate support after a traumatic event."}),u.jsx("li",{children:"Building a strong support network of family and friends."}),u.jsx("li",{children:"Practicing stress-reduction techniques like mindfulness or meditation."}),u.jsx("li",{children:"Seeking professional help early if symptoms arise."})]})]})]})]});function fP(){const i=Di(),[e,t]=B.useState(Array(10).fill(null)),[r,o]=B.useState(null),c=["Do you experience intrusive thoughts that cause you anxiety?","Do you feel compelled to perform certain rituals or behaviors to reduce anxiety?","Do you spend a significant amount of time each day on obsessive thoughts or compulsions?","Do you find it difficult to control your obsessive thoughts or compulsive behaviors?","Do your obsessive thoughts or compulsions interfere with your daily life or relationships?","Do you avoid certain situations or places because they trigger obsessive thoughts?","Do you feel distressed if you are unable to complete a ritual or compulsion?","Do you often seek reassurance from others about your fears or worries?","Do you feel that your obsessive thoughts are irrational but cannot stop them?","Do you experience physical symptoms (e.g., sweating, rapid heartbeat) due to obsessive thoughts?"],d=(g,y)=>{const T=[...e];T[g]=y,t(T)},m=()=>{const g=e.filter(y=>y==="Often"||y==="Always").length;g>=6?o("Your responses suggest you may be experiencing symptoms of OCD. Its important to speak with a mental health professional for further evaluation."):g>=3?o("Your responses indicate some symptoms of OCD. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of OCD. If you have concerns, consider speaking with a mental health professional.")};return u.jsxs("div",{className:"ocd-screening",children:[u.jsx("h1",{children:"OCD Screening Test"}),u.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Obsessive-Compulsive Disorder (OCD). Answer the following questions honestly based on your experiences over the past month."}),r?u.jsxs("div",{className:"test-results",children:[u.jsx("h2",{children:"Your Results"}),u.jsx("p",{children:r}),u.jsx("h3",{children:"Next Steps"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Learn more about OCD:"})," Read about OCD symptoms, causes, and treatment options."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),u.jsx("button",{onClick:()=>i("/resources"),children:"Find Resources"})]}):u.jsxs("div",{className:"test-questions",children:[c.map((g,y)=>u.jsxs("div",{className:"question",children:[u.jsx("p",{children:g}),u.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(T=>u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:`question-${y}`,value:T,onChange:()=>d(y,T)}),T]},T))})]},y)),u.jsx("button",{onClick:m,children:"Submit"})]})]})}function mP(){const i=Di(),[e,t]=B.useState(Array(10).fill(null)),[r,o]=B.useState(null),c=["Do you often have trouble focusing on tasks or staying organized?","Do you frequently feel restless or have difficulty sitting still?","Do you often interrupt others or have trouble waiting your turn?","Do you frequently lose things necessary for tasks or activities?","Do you often forget daily activities or appointments?","Do you have difficulty following through on instructions or finishing tasks?","Do you often avoid tasks that require sustained mental effort?","Do you frequently make careless mistakes in work or school?","Do you often feel like you're 'on the go' or driven by a motor?","Do you have trouble managing your time or meeting deadlines?"],d=(g,y)=>{const T=[...e];T[g]=y,t(T)},m=()=>{const g=e.filter(y=>y==="Often"||y==="Always").length;g>=6?o("Your responses suggest you may be experiencing symptoms of ADHD. Its important to speak with a mental health professional for further evaluation."):g>=3?o("Your responses indicate some symptoms of ADHD. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of ADHD. If you have concerns, consider speaking with a mental health professional.")};return u.jsxs("div",{className:"adhd-screening",children:[u.jsx("h1",{children:"ADHD Screening Test"}),u.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Attention-Deficit/Hyperactivity Disorder (ADHD). Answer the following questions honestly based on your experiences over the past month."}),r?u.jsxs("div",{className:"test-results",children:[u.jsx("h2",{children:"Your Results"}),u.jsx("p",{children:r}),u.jsx("h3",{children:"Next Steps"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Learn more about ADHD:"})," Read about ADHD symptoms, causes, and treatment options."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),u.jsx("button",{onClick:()=>i("/resources"),children:"Find Resources"})]}):u.jsxs("div",{className:"test-questions",children:[c.map((g,y)=>u.jsxs("div",{className:"question",children:[u.jsx("p",{children:g}),u.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(T=>u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:`question-${y}`,value:T,onChange:()=>d(y,T)}),T]},T))})]},y)),u.jsx("button",{onClick:m,children:"Submit"})]})]})}function pP(){const i=Di(),[e,t]=B.useState(Array(10).fill(null)),[r,o]=B.useState(null),c=["Do you often feel excessively worried or nervous?","Do you experience physical symptoms like a racing heart or sweating when anxious?","Do you have trouble controlling your worries?","Do you avoid situations or activities because they make you anxious?","Do you feel restless or on edge most of the time?","Do you have difficulty concentrating due to anxiety?","Do you feel fatigued or easily tired due to anxiety?","Do you experience muscle tension or aches due to anxiety?","Do you have trouble falling or staying asleep due to anxiety?","Do you feel irritable or easily agitated due to anxiety?"],d=(g,y)=>{const T=[...e];T[g]=y,t(T)},m=()=>{const g=e.filter(y=>y==="Often"||y==="Always").length;g>=6?o("Your responses suggest you may be experiencing symptoms of Generalized Anxiety Disorder. Its important to speak with a mental health professional for further evaluation."):g>=3?o("Your responses indicate some symptoms of anxiety. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of anxiety. If you have concerns, consider speaking with a mental health professional.")};return u.jsxs("div",{className:"anxiety-screening",children:[u.jsx("h1",{children:"Anxiety Screening Test"}),u.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Generalized Anxiety Disorder. Answer the following questions honestly based on your experiences over the past month."}),r?u.jsxs("div",{className:"test-results",children:[u.jsx("h2",{children:"Your Results"}),u.jsx("p",{children:r}),u.jsx("h3",{children:"Next Steps"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Learn more about anxiety:"})," Read about anxiety symptoms, causes, and treatment options."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),u.jsx("button",{onClick:()=>i("/resources"),children:"Find Resources"})]}):u.jsxs("div",{className:"test-questions",children:[c.map((g,y)=>u.jsxs("div",{className:"question",children:[u.jsx("p",{children:g}),u.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(T=>u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:`question-${y}`,value:T,onChange:()=>d(y,T)}),T]},T))})]},y)),u.jsx("button",{onClick:m,children:"Submit"})]})]})}function gP(){const i=Di(),[e,t]=B.useState(Array(10).fill(null)),[r,o]=B.useState(null),c=["Do you often feel sad, empty, or hopeless?","Have you lost interest in activities you once enjoyed?","Do you feel fatigued or have low energy most days?","Do you have trouble sleeping or sleep too much?","Do you experience changes in appetite or weight?","Do you feel worthless or guilty?","Do you have difficulty concentrating or making decisions?","Do you feel restless or slowed down?","Do you have recurrent thoughts of death or suicide?","Do you feel like life is not worth living?"],d=(g,y)=>{const T=[...e];T[g]=y,t(T)},m=()=>{const g=e.filter(y=>y==="Often"||y==="Always").length;g>=6?o("Your responses suggest you may be experiencing symptoms of depression. Its important to speak with a mental health professional for further evaluation."):g>=3?o("Your responses indicate some symptoms of depression. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of depression. If you have concerns, consider speaking with a mental health professional.")};return u.jsxs("div",{className:"depression-screening",children:[u.jsx("h1",{children:"Depression Screening Test"}),u.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of depression. Answer the following questions honestly based on your experiences over the past month."}),r?u.jsxs("div",{className:"test-results",children:[u.jsx("h2",{children:"Your Results"}),u.jsx("p",{children:r}),u.jsx("h3",{children:"Next Steps"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Learn more about depression:"})," Read about depression symptoms, causes, and treatment options."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),u.jsx("button",{onClick:()=>i("/resources"),children:"Find Resources"})]}):u.jsxs("div",{className:"test-questions",children:[c.map((g,y)=>u.jsxs("div",{className:"question",children:[u.jsx("p",{children:g}),u.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(T=>u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:`question-${y}`,value:T,onChange:()=>d(y,T)}),T]},T))})]},y)),u.jsx("button",{onClick:m,children:"Submit"})]})]})}function yP(){const i=Di(),[e,t]=B.useState(Array(10).fill(null)),[r,o]=B.useState(null),c=["Do you experience periods of unusually high energy and mood?","Do you feel like you need less sleep than usual during these periods?","Do you feel more talkative or pressured to keep talking during these periods?","Do you experience racing thoughts or feel like your mind is jumping from one idea to another?","Do you engage in impulsive or risky behaviors during these periods?","Do you experience periods of deep sadness or hopelessness?","Do you lose interest in activities you once enjoyed during these periods?","Do you feel fatigued or have low energy during these periods?","Do you have trouble concentrating or making decisions during these periods?","Do you experience changes in appetite or weight during these periods?"],d=(g,y)=>{const T=[...e];T[g]=y,t(T)},m=()=>{const g=e.filter(y=>y==="Often"||y==="Always").length;g>=6?o("Your responses suggest you may be experiencing symptoms of Bipolar Disorder. Its important to speak with a mental health professional for further evaluation."):g>=3?o("Your responses indicate some symptoms of Bipolar Disorder. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of Bipolar Disorder. If you have concerns, consider speaking with a mental health professional.")};return u.jsxs("div",{className:"bipolar-screening",children:[u.jsx("h1",{children:"Bipolar Disorder Screening Test"}),u.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Bipolar Disorder. Answer the following questions honestly based on your experiences over the past month."}),r?u.jsxs("div",{className:"test-results",children:[u.jsx("h2",{children:"Your Results"}),u.jsx("p",{children:r}),u.jsx("h3",{children:"Next Steps"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Learn more about Bipolar Disorder:"})," Read about Bipolar Disorder symptoms, causes, and treatment options."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),u.jsx("button",{onClick:()=>i("/resources"),children:"Find Resources"})]}):u.jsxs("div",{className:"test-questions",children:[c.map((g,y)=>u.jsxs("div",{className:"question",children:[u.jsx("p",{children:g}),u.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(T=>u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:`question-${y}`,value:T,onChange:()=>d(y,T)}),T]},T))})]},y)),u.jsx("button",{onClick:m,children:"Submit"})]})]})}function vP(){const i=Di(),[e,t]=B.useState(Array(10).fill(null)),[r,o]=B.useState(null),c=["Do you have recurring, distressing memories of a traumatic event?","Do you have nightmares about the traumatic event?","Do you feel like you are reliving the traumatic event (flashbacks)?","Do you avoid places, people, or activities that remind you of the traumatic event?","Do you feel emotionally numb or detached from others?","Do you have difficulty sleeping or concentrating?","Do you feel irritable or have angry outbursts?","Do you feel constantly on guard or easily startled?","Do you feel intense guilt or shame about the traumatic event?","Do you feel like life is meaningless or hopeless?"],d=(g,y)=>{const T=[...e];T[g]=y,t(T)},m=()=>{const g=e.filter(y=>y==="Often"||y==="Always").length;g>=6?o("Your responses suggest you may be experiencing symptoms of Post-Traumatic Stress Disorder (PTSD). Its important to speak with a mental health professional for further evaluation."):g>=3?o("Your responses indicate some symptoms of PTSD. Consider monitoring your symptoms and seeking support if they persist."):o("Your responses suggest minimal or no symptoms of PTSD. If you have concerns, consider speaking with a mental health professional.")};return u.jsxs("div",{className:"ptsd-screening",children:[u.jsx("h1",{children:"PTSD Screening Test"}),u.jsx("p",{children:"This test is designed to help you understand if you may be experiencing symptoms of Post-Traumatic Stress Disorder (PTSD). Answer the following questions honestly based on your experiences over the past month."}),r?u.jsxs("div",{className:"test-results",children:[u.jsx("h2",{children:"Your Results"}),u.jsx("p",{children:r}),u.jsx("h3",{children:"Next Steps"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Speak with a professional:"})," Consider reaching out to a therapist or psychiatrist for further evaluation."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Learn more about PTSD:"})," Read about PTSD symptoms, causes, and treatment options."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Join a support group:"})," Connect with others who understand what you're going through."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Practice self-care:"})," Explore relaxation techniques, mindfulness, and stress management strategies."]})]}),u.jsx("button",{onClick:()=>i("/resources"),children:"Find Resources"})]}):u.jsxs("div",{className:"test-questions",children:[c.map((g,y)=>u.jsxs("div",{className:"question",children:[u.jsx("p",{children:g}),u.jsx("div",{className:"options",children:["Never","Rarely","Sometimes","Often","Always"].map(T=>u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:`question-${y}`,value:T,onChange:()=>d(y,T)}),T]},T))})]},y)),u.jsx("button",{onClick:m,children:"Submit"})]})]})}function _P(){const[i,e]=B.useState(null),[t,r]=B.useState(!1);return B.useEffect(()=>{const o=rb(vb,c=>{e(c)});return()=>o()},[]),u.jsx(VN,{children:u.jsx(EP,{user:i,showProfilePopup:t,setShowProfilePopup:r})})}function EP({user:i,showProfilePopup:e,setShowProfilePopup:t}){const{darkMode:r}=B.useContext(Lp);return u.jsx("div",{className:r?"app dark-mode":"app",children:u.jsx(fR,{children:u.jsxs("div",{className:"content",children:[u.jsxs(FA,{children:[u.jsx(st,{path:"/login",element:u.jsx(kT,{initialMode:"login"})}),u.jsx(st,{path:"/register",element:u.jsx(kT,{initialMode:"register"})}),u.jsx(st,{path:"/",element:u.jsx(Nt,{children:u.jsx(WM,{})})}),u.jsx(st,{path:"/accessibility",element:u.jsx(Nt,{children:u.jsx(tP,{})})}),u.jsx(st,{path:"/about",element:u.jsx(Nt,{children:u.jsx(nP,{})})}),u.jsx(st,{path:"/screening",element:u.jsx(Nt,{children:u.jsx(iP,{})})}),u.jsx(st,{path:"/resources",element:u.jsx(Nt,{children:u.jsx(sP,{})})}),u.jsx(st,{path:"/community",element:u.jsx(Nt,{children:u.jsx(rP,{})})}),u.jsx(st,{path:"/contact",element:u.jsx(Nt,{children:u.jsx(aP,{})})}),u.jsx(st,{path:"/ocd",element:u.jsx(Nt,{children:u.jsx(oP,{})})}),u.jsx(st,{path:"/adhd",element:u.jsx(Nt,{children:u.jsx(lP,{})})}),u.jsx(st,{path:"/depression",element:u.jsx(Nt,{children:u.jsx(cP,{})})}),u.jsx(st,{path:"/anxiety",element:u.jsx(Nt,{children:u.jsx(uP,{})})}),u.jsx(st,{path:"/bipolar",element:u.jsx(Nt,{children:u.jsx(hP,{})})}),u.jsx(st,{path:"/ptsd",element:u.jsx(Nt,{children:u.jsx(dP,{})})}),u.jsx(st,{path:"/ocd-screening",element:u.jsx(Nt,{children:u.jsx(fP,{})})}),u.jsx(st,{path:"/adhd-screening",element:u.jsx(Nt,{children:u.jsx(mP,{})})}),u.jsx(st,{path:"/anxiety-screening",element:u.jsx(Nt,{children:u.jsx(pP,{})})}),u.jsx(st,{path:"/depression-screening",element:u.jsx(Nt,{children:u.jsx(gP,{})})}),u.jsx(st,{path:"/bipolar-screening",element:u.jsx(Nt,{children:u.jsx(yP,{})})}),u.jsx(st,{path:"/ptsd-screening",element:u.jsx(Nt,{children:u.jsx(vP,{})})}),u.jsx(st,{path:"*",element:u.jsx(GT,{to:"/login",replace:!0})})]}),e&&u.jsx(TP,{onClose:()=>t(!1)})]})})})}function TP({onClose:i}){const{darkMode:e,toggleDarkMode:t}=B.useContext(Lp);return u.jsx(yx,{onClose:i,onThemeToggle:t,isDarkMode:e})}eA.createRoot(document.getElementById("root")).render(u.jsx(B.StrictMode,{children:u.jsx(_P,{})}));
